var t=Object.defineProperty,e=(e,i,n)=>((e,i,n)=>i in e?t(e,i,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[i]=n)(e,"symbol"!=typeof i?i+"":i,n);import{g as i,a as n}from"./utils-graphics.D2okpo50.js";import"./vendor-react.DgACkRi3.js";import"./vendor-utils.6ULW7vKx.js";class o{constructor(){e(this,"animationController",i({enableDebugMode:!1,enablePerformanceMonitoring:!0,respectReducedMotion:!0,enableGPUAcceleration:!0,enableWillChangeManagement:!0,enableHapticFeedback:!0,networkAwarePreloading:!0})),e(this,"scrollProgress"),e(this,"magneticButtons"),e(this,"parallaxElements"),e(this,"fadeElements"),e(this,"staggerElements"),e(this,"lastScrollY",0),e(this,"scrollVelocity",0),e(this,"scrollDirection","down"),e(this,"ticking",!1),e(this,"prefersReducedMotion"),e(this,"momentumScrollTimeout",null),e(this,"touchStartY",0),e(this,"isTouch",!1),this.scrollProgress=document.getElementById("scrollProgress"),this.magneticButtons=document.querySelectorAll(".magnetic-button, .btn-magnetic, button:not([data-no-magnetic])"),this.parallaxElements=document.querySelectorAll(".parallax-element, [data-parallax]"),this.fadeElements=document.querySelectorAll(".fade-in-element, [data-fade-in]"),this.staggerElements=document.querySelectorAll(".stagger-element, [data-stagger]"),this.prefersReducedMotion=window.matchMedia("(prefers-reduced-motion: reduce)").matches,this.isTouch="ontouchstart"in window||navigator.maxTouchPoints>0,this.prefersReducedMotion||(this.init(),this.initMomentumDetection(),this.initTouchOptimizations())}init(){this.scrollProgress&&this.initScrollProgress(),this.magneticButtons.length>0&&this.initMagneticButtons(),this.parallaxElements.length>0&&this.initParallax(),this.fadeElements.length>0&&this.initFadeIn(),this.staggerElements.length>0&&this.initStagger(),this.initSmoothScroll()}initMomentumDetection(){let t=0;window.addEventListener("scroll",()=>{const e=window.pageYOffset,i=performance.now();if(t>0){const n=e-this.lastScrollY,o=i-t;this.scrollVelocity=n/o,this.scrollDirection=n>0?"down":"up",this.momentumScrollTimeout&&clearTimeout(this.momentumScrollTimeout),this.momentumScrollTimeout=setTimeout(()=>{this.scrollVelocity=0},100)}this.lastScrollY=e,t=i},{passive:!0})}initTouchOptimizations(){this.isTouch&&(this.magneticButtons.forEach(t=>{const e=t,i=e.getBoundingClientRect();if(i.width<44||i.height<44){e.style.position="relative";const t=document.createElement("div");t.style.cssText="\n            position: absolute;\n            top: 50%;\n            left: 50%;\n            transform: translate(-50%, -50%);\n            min-width: 44px;\n            min-height: 44px;\n            z-index: -1;\n          ",e.appendChild(t)}}),window.addEventListener("touchstart",t=>{this.touchStartY=t.touches[0].clientY},{passive:!0}),window.addEventListener("touchmove",t=>{const e=t.touches[0].clientY,i=this.touchStartY-e;Math.abs(i)>10&&(this.scrollDirection=i>0?"down":"up")},{passive:!0}))}initScrollProgress(){const t=()=>{const t=(window.pageYOffset||document.documentElement.scrollTop)/(document.documentElement.scrollHeight-document.documentElement.clientHeight)*100;this.scrollProgress&&(this.scrollProgress.style.width=`${t}%`,Math.abs(this.scrollVelocity)>.5?this.scrollProgress.style.boxShadow=`0 0 ${Math.min(20,10*Math.abs(this.scrollVelocity))}px rgba(218, 41, 28, 0.8)`:this.scrollProgress.style.boxShadow="0 0 10px rgba(218, 41, 28, 0.5)")};window.addEventListener("scroll",()=>{this.ticking||(window.requestAnimationFrame(()=>{t(),this.ticking=!1}),this.ticking=!0)},{passive:!0})}initMagneticButtons(){this.magneticButtons.forEach((t,e)=>{const i=t,n=`magnetic-button-${e}`;this.animationController.magneticButton(n,i,.3,"medium")})}initParallax(){this.parallaxElements.forEach((t,e)=>{const i=t,n=parseFloat(i.dataset.parallaxSpeed||"0.5"),o=`parallax-element-${e}`;this.animationController.parallax(o,i,n,"low")})}initFadeIn(){const t=new IntersectionObserver(e=>{e.forEach(e=>{const i=e.target,o=`fade-in-${Array.from(this.fadeElements).indexOf(i)}`;if(e.isIntersecting){let e=n.fadeInUp;"up"===this.scrollDirection&&(e=n.fadeInDown);const s=Math.max(400,Math.min(1200,800-100*Math.abs(this.scrollVelocity)));this.animationController.animate(o,e,{duration:s,easing:"cubic-bezier(0.2, 0.8, 0.2, 1)",fill:"forwards"}).catch(()=>{i.style.opacity="1",i.style.transform="translateY(0)"}),t.unobserve(i)}})},{threshold:[0,.1,.2,.3],rootMargin:"100px 0px -10% 0px"});this.fadeElements.forEach(e=>{const i=e,n=`fade-in-${Array.from(this.fadeElements).indexOf(i)}`;this.animationController.register(n,i,"scroll","medium"),t.observe(i)})}initStagger(){this.staggerElements.forEach((t,e)=>{const i=t,o=Array.from(i.children),s=`stagger-group-${e}`;if(o.length>0){const t=new IntersectionObserver(e=>{e.forEach(e=>{if(e.isIntersecting){let i=n.slideUp;"up"===this.scrollDirection&&Math.abs(this.scrollVelocity)>.3&&(i=n.slideDown);const r=80*Math.max(.5,Math.min(2,1-.5*Math.abs(this.scrollVelocity))),l=Math.min(r,2e3/o.length);this.animationController.stagger(s,o,i,{duration:600,easing:"cubic-bezier(0.2, 0.8, 0.2, 1)",staggerDelay:l,fill:"forwards"}).catch(()=>{o.forEach(t=>{t.style.opacity="1",t.style.transform="translateY(0)"})}),t.unobserve(e.target)}})},{threshold:.1,rootMargin:"50px 0px -25% 0px"});t.observe(i)}})}initSmoothScroll(){document.querySelectorAll('a[href^="#"]').forEach(t=>{t.addEventListener("click",e=>{e.preventDefault();const i=document.querySelector(t.getAttribute("href")||"");if(i){const t=80,e=i.getBoundingClientRect().top+window.pageYOffset-t;window.scrollTo({top:e,behavior:"smooth"})}})})}}"loading"===document.readyState?document.addEventListener("DOMContentLoaded",()=>new o):new o,window.ScrollAnimations=o;
