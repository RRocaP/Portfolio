function a(t){return t<0?-1:1}function p(t,i,n){var s=t._x1-t._x0,_=i-t._x1,e=(t._y1-t._y0)/(s||_<0&&-0),o=(n-t._y1)/(_||s<0&&-0),h=(e*_+o*s)/(s+_);return(a(e)+a(o))*Math.min(Math.abs(e),Math.abs(o),.5*Math.abs(h))||0}function u(t,i){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-i)/2:i}function c(t,i,n){var s=t._x0,_=t._y0,e=t._x1,o=t._y1,h=(e-s)/3;t._context.bezierCurveTo(s+h,_+h*i,e-h,o-h*n,e,o)}function r(t){this._context=t}r.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:c(this,this._t0,u(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,i){var n=NaN;if(t=+t,i=+i,!(t===this._x1&&i===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,i):this._context.moveTo(t,i);break;case 1:this._point=2;break;case 2:this._point=3,c(this,u(this,n=p(this,t,i)),n);break;default:c(this,this._t0,n=p(this,t,i));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=i,this._t0=n}}};Object.create(r.prototype).point=function(t,i){r.prototype.point.call(this,i,t)};function l(t){return new r(t)}export{l as m};
