const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["_astro/vendor-utils.gse-eQoW.js","_astro/vendor-react.ofrPMlDn.js"])))=>i.map(i=>d[i]);
import{j as e,r as t,u as s}from"./vendor-react.ofrPMlDn.js";import{g as r}from"./PerformanceMetrics.astro_astro_type_script_index_0_lang.B74nMgYc.js";import{s as a,l as i,a as n,c as o}from"./vendor-d3.C_nG6jvb.js";import{g as l,S as c}from"./vendor-gsap.Bu4Prr2M.js";import{g as d}from"./utils-meta.B30yx09-.js";const m={},u=function(e,t,s){let r=Promise.resolve();if(t&&t.length>0){let e=function(e){return Promise.all(e.map(e=>Promise.resolve(e).then(e=>({status:"fulfilled",value:e}),e=>({status:"rejected",reason:e}))))};document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),a=s?.nonce||s?.getAttribute("nonce");r=e(t.map(e=>{if((e=function(e){return"/Portfolio/"+e}(e))in m)return;m[e]=!0;const t=e.endsWith(".css"),s=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${s}`))return;const r=document.createElement("link");return r.rel=t?"stylesheet":"modulepreload",t||(r.as="script"),r.crossOrigin="",r.href=e,a&&r.setAttribute("nonce",a),document.head.appendChild(r),t?new Promise((t,s)=>{r.addEventListener("load",t),r.addEventListener("error",()=>s(new Error(`Unable to preload CSS for ${e}`)))}):void 0}))}function a(e){const t=new Event("vite:preloadError",{cancelable:!0});if(t.payload=e,window.dispatchEvent(t),!t.defaultPrevented)throw e}return r.then(t=>{for(const e of t||[])"rejected"===e.status&&a(e.reason);return e().catch(a)})},h=({size:t=24,className:s="",title:r})=>e.jsxs("svg",{width:t,height:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.75",strokeLinecap:"round",strokeLinejoin:"round",className:s,"aria-hidden":!r,children:[r&&e.jsx("title",{children:r}),e.jsx("path",{d:"M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"})]}),x=({size:t=24,className:s="",title:r})=>e.jsxs("svg",{width:t,height:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.75",strokeLinecap:"round",strokeLinejoin:"round",className:s,"aria-hidden":!r,children:[r&&e.jsx("title",{children:r}),e.jsx("polygon",{points:"12,2 15.09,8.26 22,9.27 17,14.14 18.18,21.02 12,17.77 5.82,21.02 7,14.14 2,9.27 8.91,8.26"})]}),g=({size:t=24,className:s="",title:r})=>e.jsxs("svg",{width:t,height:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.75",strokeLinecap:"round",strokeLinejoin:"round",className:s,"aria-hidden":!r,children:[r&&e.jsx("title",{children:r}),e.jsx("circle",{cx:"12",cy:"12",r:"10"}),e.jsx("circle",{cx:"8.5",cy:"8.5",r:"1",fill:"currentColor"}),e.jsx("path",{d:"M8 11v6m4-6v6m0-6c0-1.5 1.5-3 3.5-3s3.5 1.5 3.5 3v6"})]}),p=({size:t=24,className:s="",title:r})=>e.jsxs("svg",{width:t,height:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.75",strokeLinecap:"round",strokeLinejoin:"round",className:s,"aria-hidden":!r,children:[r&&e.jsx("title",{children:r}),e.jsx("path",{d:"M5 11l7-7 7 7M4 18l8-8 8 8"}),e.jsx("path",{d:"M7 14c0 2.21 2.24 4 5 4s5-1.79 5-4"}),e.jsx("circle",{cx:"12",cy:"14",r:"1",fill:"currentColor"})]}),f=({size:t=24,className:s="",title:r})=>e.jsxs("svg",{width:t,height:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.75",strokeLinecap:"round",strokeLinejoin:"round",className:s,"aria-hidden":!r,children:[r&&e.jsx("title",{children:r}),e.jsx("path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z"}),e.jsx("rect",{x:"2",y:"9",width:"4",height:"12"}),e.jsx("circle",{cx:"4",cy:"4",r:"2"})]}),v=({size:t=24,className:s="",title:r})=>e.jsxs("svg",{width:t,height:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.75",strokeLinecap:"round",strokeLinejoin:"round",className:s,"aria-hidden":!r,children:[r&&e.jsx("title",{children:r}),e.jsx("rect",{x:"2",y:"4",width:"20",height:"16",rx:"2"}),e.jsx("path",{d:"m22 7-10 5L2 7"})]}),b=({size:t=24,className:s="",title:r})=>e.jsxs("svg",{width:t,height:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.75",strokeLinecap:"round",strokeLinejoin:"round",className:s,"aria-hidden":!r,children:[r&&e.jsx("title",{children:r}),e.jsx("path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"}),e.jsx("polyline",{points:"15,3 21,3 21,9"}),e.jsx("line",{x1:"10",y1:"14",x2:"21",y2:"3"})]}),y=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"}));const j=Object.freeze(Object.defineProperty({__proto__:null,default:function({publications:r,lang:a="en"}){const[i,n]=t.useState(!1),{messages:o,input:l,handleInputChange:c,handleSubmit:d,isLoading:m}=s({api:"/api/ai/chat",initialMessages:[{id:"welcome",role:"assistant",content:"es"===a?"Hola! Soy tu asistente de investigación. Puedo responder preguntas sobre las publicaciones y trabajo de Ramon en proteínas antimicrobianas, vectores AAV y cuerpos de inclusión funcionales.":"ca"===a?"Hola! Sóc el teu assistent de recerca. Puc respondre preguntes sobre les publicacions i treball de Ramon en proteïnes antimicrobianes, vectors AAV i cossos d'inclusió funcionals.":"Hi! I'm your research assistant. I can answer questions about Ramon's publications and work on antimicrobial proteins, AAV vectors, and functional inclusion bodies."}]}),u="es"===a?["¿Cuál es el enfoque principal de la investigación?","¿Qué son los cuerpos de inclusión funcionales?","¿Cómo funcionan los vectores AAV?"]:"ca"===a?["Quin és l'enfocament principal de la recerca?","Què són els cossos d'inclusió funcionals?","Com funcionen els vectors AAV?"]:["What is the main research focus?","What are functional inclusion bodies?","How do AAV vectors work?"];return e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>n(!i),className:"fixed bottom-6 right-6 z-50 p-4 bg-red-600 text-white rounded-full shadow-lg hover:bg-red-700 transition-all duration-300 hover:scale-110","aria-label":"Open research chat",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z"})})}),i&&e.jsxs("div",{className:"fixed bottom-24 right-6 z-50 w-96 h-[500px] bg-gray-900 border border-gray-800 rounded-2xl shadow-2xl flex flex-col",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-800",children:[e.jsx("h3",{className:"text-lg font-semibold text-white",children:"es"===a?"Asistente de Investigación":"ca"===a?"Assistent de Recerca":"Research Assistant"}),e.jsx("button",{onClick:()=>n(!1),className:"text-gray-400 hover:text-white transition","aria-label":"Close chat",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[o.map(t=>e.jsx("div",{className:"flex "+("user"===t.role?"justify-end":"justify-start"),children:e.jsx("div",{className:"max-w-[80%] p-3 rounded-lg "+("user"===t.role?"bg-red-600 text-white":"bg-gray-800 text-gray-200"),children:e.jsx("p",{className:"text-sm whitespace-pre-wrap",children:t.content})})},t.id)),m&&e.jsx("div",{className:"flex justify-start",children:e.jsx("div",{className:"bg-gray-800 text-gray-200 p-3 rounded-lg",children:e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-pulse"}),e.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-pulse delay-75"}),e.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-pulse delay-150"})]})})})]}),1===o.length&&e.jsxs("div",{className:"px-4 pb-2",children:[e.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"es"===a?"Preguntas sugeridas:":"ca"===a?"Preguntes suggerides:":"Suggested questions:"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:u.map((t,s)=>e.jsx("button",{onClick:()=>{c({target:{value:t}}),d({preventDefault:()=>{}})},className:"text-xs px-3 py-1 bg-gray-800 text-gray-300 rounded-full hover:bg-gray-700 transition",children:t},s))})]}),e.jsx("form",{onSubmit:d,className:"p-4 border-t border-gray-800",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:l,onChange:c,placeholder:"es"===a?"Escribe tu pregunta...":"ca"===a?"Escriu la teva pregunta...":"Type your question...",className:"flex-1 px-4 py-2 bg-gray-800 text-white rounded-lg focus:outline-none focus:ring-2 focus:ring-red-600",disabled:m}),e.jsx("button",{type:"submit",disabled:m||!l.trim(),className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed transition",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 19l9 2-9-18-9 18 9-2zm0 0v-8"})})})]})})]})]})}},Symbol.toStringTag,{value:"Module"})),w=Object.freeze(Object.defineProperty({__proto__:null,default:({className:s="",adminMode:r=!1,dateRange:a})=>{const[i,n]=t.useState(null),[o,l]=t.useState([]),[c,d]=t.useState([]),[m,u]=t.useState(!0),[h,x]=t.useState("7d"),[g,p]=t.useState("overview");t.useEffect(()=>{f()},[h,a]);const f=async()=>{u(!0);try{const e=v(),t=b(),s=y();n(e),l(t),d(s)}catch(e){}finally{u(!1)}},v=()=>({pageViews:2847,uniqueVisitors:1234,sessions:1456,bounceRate:32.5,avgSessionDuration:245e3,avgPageViews:2.3,totalEngagementTime:8942e4,avgEngagementTime:185e3,interactionRate:68.2,scrollDepth:75.4,avgPageLoadTime:2340,avgFCP:1850,avgLCP:2980,avgCLS:.08,avgFID:89,topPages:[{page:"/",views:1245,uniqueViews:892,avgTime:195e3,bounceRate:28.5},{page:"/research",views:567,uniqueViews:445,avgTime:312e3,bounceRate:22.1},{page:"/publications",views:423,uniqueViews:356,avgTime:425e3,bounceRate:18.7},{page:"/projects",views:298,uniqueViews:234,avgTime:267e3,bounceRate:35.2},{page:"/about",views:234,uniqueViews:198,avgTime:156e3,bounceRate:42.3}],topReferrers:[{referrer:"google.com",visits:456,percentage:45.6},{referrer:"scholar.google.com",visits:234,percentage:23.4},{referrer:"linkedin.com",visits:123,percentage:12.3},{referrer:"github.com",visits:89,percentage:8.9},{referrer:"direct",visits:98,percentage:9.8}],topPublications:[{title:"Antimicrobial protein design",views:234,downloads:45,citations:12},{title:"Gene therapy vectors",views:189,downloads:32,citations:8},{title:"Functional inclusion bodies",views:156,downloads:28,citations:15}],searchQueries:[{query:"antimicrobial resistance",count:45,resultClicks:32},{query:"protein design",count:38,resultClicks:28},{query:"gene therapy",count:29,resultClicks:21}],conversions:{contactForms:23,newsletterSignups:67,publicationDownloads:234,socialShares:89},timeRange:{start:Date.now()-6048e5,end:Date.now()}}),b=()=>{const e=[],t=Date.now();for(let s=0;s<100;s++){const r=t-7*Math.random()*24*60*60*1e3;e.push({id:`event_${s}`,timestamp:r,category:["page_view","user_interaction","engagement"][Math.floor(3*Math.random())],action:"test",sessionId:`session_${Math.floor(s/10)}`,page:{path:["/","/research","/publications"][Math.floor(3*Math.random())],title:"Test Page",url:"https://example.com",referrer:"",language:"en"},device:{type:"desktop",browser:"Chrome",os:"macOS",screenResolution:"1920x1080",viewportSize:"1920x1080"}})}return e.sort((e,t)=>t.timestamp-e.timestamp)},y=()=>{const e=[];for(let t=0;t<20;t++)e.push({id:`session_${t}`,startTime:Date.now()-60*t*60*1e3,endTime:Date.now()-60*t*60*1e3+30*Math.random()*60*1e3,duration:30*Math.random()*60*1e3,pageViews:Math.floor(10*Math.random())+1,events:Math.floor(50*Math.random())+10,bounced:Math.random()>.7,entryPage:"/",device:{type:"desktop",browser:"Chrome",os:"macOS",screenResolution:"1920x1080"},totalScrollDepth:100*Math.random(),avgTimePerPage:3e5*Math.random(),interactions:Math.floor(20*Math.random())});return e},j=t.useMemo(()=>i?[{title:"Page Views",value:i.pageViews.toLocaleString(),change:12.5,trend:"up",icon:"👁️"},{title:"Unique Visitors",value:i.uniqueVisitors.toLocaleString(),change:8.2,trend:"up",icon:"👤"},{title:"Bounce Rate",value:`${i.bounceRate}%`,change:-3.1,trend:"down",format:"percentage",icon:"⚡"},{title:"Avg. Session Duration",value:w(i.avgSessionDuration),change:15.7,trend:"up",format:"time",icon:"⏱️"},{title:"Page Load Time",value:`${(i.avgPageLoadTime/1e3).toFixed(2)}s`,change:-8.3,trend:"down",format:"time",icon:"🚀"},{title:"Core Web Vitals",value:N(i),change:5.2,trend:"up",icon:"📊"}]:[],[i]),w=e=>`${Math.floor(e/6e4)}m ${Math.floor(e%6e4/1e3)}s`,N=e=>{let t=0;return e.avgLCP<=2500?t+=25:e.avgLCP<=4e3&&(t+=15),e.avgFID<=100?t+=25:e.avgFID<=300&&(t+=15),e.avgCLS<=.1?t+=25:e.avgCLS<=.25&&(t+=15),e.avgFCP<=1800?t+=25:e.avgFCP<=3e3&&(t+=15),`${t}/100`},k=t=>e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6 shadow-sm",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:t.title}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:t.value})]}),e.jsx("div",{className:"text-2xl",children:t.icon})]}),void 0!==t.change&&e.jsxs("div",{className:"flex items-center mt-2 text-sm "+("up"===t.trend?"text-green-600":"down"===t.trend?"text-red-600":"text-gray-600"),children:[e.jsx("span",{className:"mr-1",children:"up"===t.trend?"↗️":"down"===t.trend?"↘️":"➡️"}),Math.abs(t.change),"% vs last period"]})]},t.title);return m?e.jsx("div",{className:`analytics-dashboard ${s}`,children:e.jsxs("div",{className:"flex items-center justify-center p-12",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-red-600"}),e.jsx("span",{className:"ml-3 text-gray-600",children:"Loading analytics..."})]})}):r?e.jsx("div",{className:`analytics-dashboard ${s}`,children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:"📊 Analytics Dashboard"}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"flex space-x-1 bg-gray-100 rounded-lg p-1",children:["24h","7d","30d","90d"].map(t=>e.jsx("button",{onClick:()=>x(t),className:"px-3 py-1 text-sm font-medium rounded-md transition-colors "+(h===t?"bg-white shadow text-gray-900":"text-gray-600 hover:text-gray-900"),children:"24h"===t?"Last 24h":"7d"===t?"Last 7 days":"30d"===t?"Last 30 days":"Last 90 days"},t))}),e.jsxs("div",{className:"text-sm text-gray-500",children:["Updated ",(new Date).toLocaleTimeString()]})]})]}),e.jsx("div",{className:"mb-6",children:e.jsx("div",{className:"border-b border-gray-200",children:e.jsx("nav",{className:"-mb-px flex space-x-8",children:[{id:"overview",label:"Overview",icon:"📈"},{id:"performance",label:"Performance",icon:"⚡"},{id:"engagement",label:"Engagement",icon:"💫"},{id:"research",label:"Research",icon:"🔬"}].map(t=>e.jsxs("button",{onClick:()=>p(t.id),className:"flex items-center py-2 px-1 border-b-2 font-medium text-sm "+(g===t.id?"border-red-500 text-red-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:[e.jsx("span",{className:"mr-2",children:t.icon}),t.label]},t.id))})})}),e.jsxs("div",{className:"tab-content",children:["overview"===g&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:j.map(k)}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Top Pages"}),e.jsx("div",{className:"space-y-3",children:i?.topPages.map((t,s)=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("span",{className:"text-sm text-gray-500",children:["#",s+1]}),e.jsx("span",{className:"font-medium",children:t.page})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-sm font-semibold",children:t.views.toLocaleString()}),e.jsxs("div",{className:"text-xs text-gray-500",children:[t.bounceRate,"% bounce"]})]})]},t.page))})]}),e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Traffic Sources"}),e.jsx("div",{className:"space-y-3",children:i?.topReferrers.map((t,s)=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-3 h-3 rounded-full bg-red-500"}),e.jsx("span",{className:"font-medium",children:t.referrer})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-sm font-semibold",children:t.visits}),e.jsxs("div",{className:"text-xs text-gray-500",children:[t.percentage,"%"]})]})]},t.referrer))})]})]})]}),"performance"===g&&e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"LCP"}),e.jsx("span",{className:"text-xs px-2 py-1 rounded-full "+((i?.avgLCP||0)<=2500?"bg-green-100 text-green-800":(i?.avgLCP||0)<=4e3?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"),children:(i?.avgLCP||0)<=2500?"Good":(i?.avgLCP||0)<=4e3?"Needs Improvement":"Poor"})]}),e.jsxs("div",{className:"text-lg font-bold mt-1",children:[((i?.avgLCP||0)/1e3).toFixed(2),"s"]})]}),e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"FID"}),e.jsx("span",{className:"text-xs px-2 py-1 rounded-full "+((i?.avgFID||0)<=100?"bg-green-100 text-green-800":(i?.avgFID||0)<=300?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"),children:(i?.avgFID||0)<=100?"Good":(i?.avgFID||0)<=300?"Needs Improvement":"Poor"})]}),e.jsxs("div",{className:"text-lg font-bold mt-1",children:[i?.avgFID||0,"ms"]})]}),e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"CLS"}),e.jsx("span",{className:"text-xs px-2 py-1 rounded-full "+((i?.avgCLS||0)<=.1?"bg-green-100 text-green-800":(i?.avgCLS||0)<=.25?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"),children:(i?.avgCLS||0)<=.1?"Good":(i?.avgCLS||0)<=.25?"Needs Improvement":"Poor"})]}),e.jsx("div",{className:"text-lg font-bold mt-1",children:(i?.avgCLS||0).toFixed(3)})]}),e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"FCP"}),e.jsx("span",{className:"text-xs px-2 py-1 rounded-full "+((i?.avgFCP||0)<=1800?"bg-green-100 text-green-800":(i?.avgFCP||0)<=3e3?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"),children:(i?.avgFCP||0)<=1800?"Good":(i?.avgFCP||0)<=3e3?"Needs Improvement":"Poor"})]}),e.jsxs("div",{className:"text-lg font-bold mt-1",children:[((i?.avgFCP||0)/1e3).toFixed(2),"s"]})]})]})}),"engagement"===g&&e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Engagement Rate"}),e.jsxs("div",{className:"text-3xl font-bold text-red-600",children:[i?.interactionRate,"%"]}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Users who interacted with content"})]}),e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Avg. Scroll Depth"}),e.jsxs("div",{className:"text-3xl font-bold text-blue-600",children:[i?.scrollDepth,"%"]}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Average page scroll percentage"})]}),e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Avg. Engagement Time"}),e.jsx("div",{className:"text-3xl font-bold text-green-600",children:w(i?.avgEngagementTime||0)}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Time actively engaging with content"})]})]})}),"research"===g&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Top Publications"}),e.jsx("div",{className:"space-y-3",children:i?.topPublications.map((t,s)=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-medium text-sm",children:t.title}),e.jsxs("div",{className:"text-xs text-gray-500",children:[t.views," views • ",t.downloads," downloads"]})]}),e.jsxs("div",{className:"text-sm font-semibold text-gray-700",children:[t.citations," citations"]})]},t.title))})]}),e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Search Queries"}),e.jsx("div",{className:"space-y-3",children:i?.searchQueries.map((t,s)=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"font-medium text-sm",children:['"',t.query,'"']}),e.jsxs("div",{className:"text-xs text-gray-500",children:[t.count," searches"]})]}),e.jsxs("div",{className:"text-sm text-gray-700",children:[Math.round(t.resultClicks/t.count*100),"% CTR"]})]},t.query))})]})]}),e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Conversions"}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-red-600",children:i?.conversions.contactForms}),e.jsx("div",{className:"text-sm text-gray-500",children:"Contact Forms"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:i?.conversions.newsletterSignups}),e.jsx("div",{className:"text-sm text-gray-500",children:"Newsletter Signups"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:i?.conversions.publicationDownloads}),e.jsx("div",{className:"text-sm text-gray-500",children:"Downloads"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-purple-600",children:i?.conversions.socialShares}),e.jsx("div",{className:"text-sm text-gray-500",children:"Social Shares"})]})]})]})]})]})]})}):e.jsx("div",{className:`analytics-dashboard ${s}`,children:e.jsx("div",{className:"text-center p-8 bg-yellow-50 rounded-lg border border-yellow-200",children:e.jsxs("div",{className:"text-yellow-800",children:[e.jsx("h3",{className:"font-semibold mb-2",children:"Access Restricted"}),e.jsx("p",{className:"text-sm",children:"Analytics dashboard is only available in admin mode."})]})})})}},Symbol.toStringTag,{value:"Module"})),N=Object.freeze(Object.defineProperty({__proto__:null,default:({src:s,alt:r,width:a,height:i,className:n="",loading:o="lazy",priority:l=!1,sizes:c,quality:d=85,placeholder:m="empty",blurDataURL:u,onLoad:h,onError:x,style:g,responsive:p=!0,srcSet:f,objectFit:v="cover",objectPosition:b="center"})=>{const[y,j]=t.useState(!1),[w,N]=t.useState(!1),[k,C]=t.useState(l||"eager"===o),S=t.useRef(null),P=t.useRef(null);t.useEffect(()=>{if(!P.current||k||l||"eager"===o)return;const e=new IntersectionObserver(t=>{t.forEach(t=>{t.isIntersecting&&(C(!0),e.unobserve(t.target))})},{rootMargin:"50px",threshold:.01});return e.observe(P.current),()=>{e.disconnect()}},[k,l,o]);const M=e=>{if(f)return f;const t=e.replace(/\.[^/.]+$/,""),s=e.split(".").pop();return[480,768,1024,1280,1920].map(e=>`${t}-${e}w.${s} ${e}w`).join(", ")},E=(e=>{const t=e.replace(/\.[^/.]+$/,"");return{avif:`${t}.avif`,webp:`${t}.webp`}})(s),L=M(s),D={position:"relative",display:"inline-block",overflow:"hidden",...!p&&a&&i&&{width:a,height:i},...g},A={display:"block",maxWidth:"100%",height:p?"auto":"100%",objectFit:v,objectPosition:b,transition:"opacity 0.3s ease-in-out",opacity:y?1:0},T={position:"absolute",top:0,left:0,width:"100%",height:"100%",backgroundColor:"#f3f4f6",display:"flex",alignItems:"center",justifyContent:"center",transition:"opacity 0.3s ease-in-out",opacity:y?0:1,pointerEvents:"none"};return w?e.jsx("div",{ref:P,className:`bg-gray-100 flex items-center justify-center ${n}`,style:D,children:e.jsx("span",{className:"text-gray-400 text-sm",children:"Failed to load image"})}):e.jsxs("div",{ref:P,className:n,style:D,children:["blur"===m&&a&&i&&e.jsx("div",{style:T,children:e.jsx("img",{src:(()=>{if(u)return u;const e=document.createElement("canvas");e.width=10,e.height=10;const t=e.getContext("2d");return t?(t.fillStyle="#f3f4f6",t.fillRect(0,0,10,10),e.toDataURL()):""})(),alt:"",style:{width:"100%",height:"100%",objectFit:"cover",filter:"blur(10px)",transform:"scale(1.1)"},"aria-hidden":"true"})}),"empty"===m&&e.jsx("div",{style:T,children:e.jsx("div",{className:"animate-pulse bg-gray-200 w-full h-full rounded"})}),k&&e.jsxs("picture",{children:[e.jsx("source",{srcSet:M(E.avif),type:"image/avif",sizes:c}),e.jsx("source",{srcSet:M(E.webp),type:"image/webp",sizes:c}),e.jsx("img",{ref:S,src:s,srcSet:L,sizes:c,alt:r,width:a,height:i,loading:l?"eager":"lazy",decoding:"async",fetchPriority:l?"high":"auto",onLoad:()=>{j(!0),h?.()},onError:()=>{N(!0),x?.()},style:A})]})]})}},Symbol.toStringTag,{value:"Module"})),k=({title:t,value:s,unit:r,budget:a,description:i,formatValue:n=e=>e.toFixed(0)})=>{const o=!s||s<=a,l=s?Math.min(s/a*100,100):0;return e.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm border border-gray-700 rounded-lg p-4 hover:border-red-500/30 transition-all duration-300",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-300",children:t}),e.jsx("div",{className:"px-2 py-1 rounded-full text-xs font-semibold "+(o?"bg-green-500/20 text-green-400":"bg-red-500/20 text-red-400"),children:o?"GOOD":"NEEDS WORK"})]}),e.jsxs("div",{className:"mb-3",children:[e.jsxs("div",{className:"flex items-baseline",children:[e.jsx("span",{className:"text-2xl font-bold text-white",children:s?n(s):"-"}),e.jsx("span",{className:"text-sm text-gray-400 ml-1",children:r}),e.jsxs("span",{className:"text-xs text-gray-500 ml-2",children:["/ ",n(a),r]})]}),s&&e.jsx("div",{className:"mt-2",children:e.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2",children:e.jsx("div",{className:"h-2 rounded-full transition-all duration-500 "+(o?"bg-green-500":"bg-red-500"),style:{width:`${Math.min(l,100)}%`}})})})]}),e.jsx("p",{className:"text-xs text-gray-400",children:i})]})},C=({metrics:t,metricKey:s,title:r,unit:a,budget:i})=>{const n=t.map(e=>e[s]||0),o=Math.max(...n,i),l=Math.min(...n);return 0===n.length?e.jsxs("div",{className:"bg-gray-800/50 border border-gray-700 rounded-lg p-4",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-300 mb-4",children:r}),e.jsx("div",{className:"text-center text-gray-500 py-8",children:"No data available"})]}):e.jsxs("div",{className:"bg-gray-800/50 border border-gray-700 rounded-lg p-4",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-300 mb-4",children:r}),e.jsxs("div",{className:"relative h-32 mb-2",children:[e.jsxs("svg",{width:"100%",height:"100%",className:"overflow-visible",children:[e.jsx("line",{x1:"0",y1:(o-i)/(o-l)*100+"%",x2:"100%",y2:(o-i)/(o-l)*100+"%",stroke:"#ef4444",strokeWidth:"1",strokeDasharray:"2,2",opacity:"0.6"}),e.jsx("polyline",{fill:"none",stroke:"#10b981",strokeWidth:"2",points:n.map((e,t)=>`${t/(n.length-1)*100},${(o-e)/(o-l)*100}`).join(" ")}),n.map((t,s)=>e.jsx("circle",{cx:s/(n.length-1)*100+"%",cy:(o-t)/(o-l)*100+"%",r:"3",fill:"#10b981"},s))]}),e.jsxs("div",{className:"absolute left-0 top-0 h-full flex flex-col justify-between text-xs text-gray-500 -ml-10",children:[e.jsx("span",{children:o.toFixed(0)}),e.jsx("span",{children:l.toFixed(0)})]})]}),e.jsxs("div",{className:"flex justify-between items-center text-xs text-gray-500",children:[e.jsxs("span",{children:["Last ",n.length," measurements"]}),e.jsxs("span",{className:"text-red-400",children:["Budget: ",i,a]})]})]})},S=()=>{const[s,a]=t.useState([]),[i,n]=t.useState({}),[o,l]=t.useState(null),[c,d]=t.useState(!1);if(t.useEffect(()=>{const e=r();if(!e)return;const t=()=>{const t=e.getMetrics(),s=e.getBudgetStatus();a(t),n(s),t.length>0&&l(t[t.length-1])},s=localStorage.getItem("performanceMetrics");if(s)try{const e=JSON.parse(s);a(e),e.length>0&&l(e[e.length-1])}catch(o){}t();const i=setInterval(t,5e3);return()=>clearInterval(i)},[]),t.useEffect(()=>{const e=e=>{e.ctrlKey&&e.shiftKey&&"P"===e.key&&d(e=>!e)};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[]),!c)return null;const m=e=>e<1e3?`${e.toFixed(0)}`:`${(e/1e3).toFixed(1)}s`;return e.jsxs("div",{className:"fixed top-4 right-4 w-96 max-h-[80vh] overflow-y-auto z-50 bg-gray-900/95 backdrop-blur-sm border border-gray-700 rounded-lg shadow-2xl",children:[e.jsxs("div",{className:"p-4 border-b border-gray-700",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-lg font-semibold text-white",children:"Performance Monitor"}),e.jsx("button",{onClick:()=>d(!1),className:"text-gray-400 hover:text-white transition-colors",children:"✕"})]}),e.jsxs("div",{className:"text-xs text-gray-400 mt-1",children:["Press Ctrl+Shift+P to toggle • ",s.length," measurements"]})]}),e.jsxs("div",{className:"p-4 space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[e.jsx(k,{title:"Largest Contentful Paint",value:o?.lcp,unit:"ms",budget:i.lcp?.budget||2500,description:"Time until the largest content element is rendered",formatValue:m}),e.jsx(k,{title:"First Input Delay",value:o?.fid,unit:"ms",budget:i.fid?.budget||100,description:"Time from first user interaction to browser response"}),e.jsx(k,{title:"Cumulative Layout Shift",value:o?.cls,unit:"",budget:i.cls?.budget||.1,description:"Visual stability - unexpected layout shifts",formatValue:e=>e.toFixed(3)}),e.jsx(k,{title:"First Contentful Paint",value:o?.fcp,unit:"ms",budget:i.fcp?.budget||1800,description:"Time until first content is painted",formatValue:m}),e.jsx(k,{title:"Time to First Byte",value:o?.ttfb,unit:"ms",budget:i.ttfb?.budget||800,description:"Time until first byte received from server"})]}),o?.transferSize&&e.jsx(k,{title:"Transfer Size",value:o.transferSize,unit:"",budget:i.transferSize?.budget||1048576,description:"Total bytes transferred over network",formatValue:e=>e>1048576?`${(e/1024/1024).toFixed(1)}MB`:`${(e/1024).toFixed(0)}KB`}),s.length>1&&e.jsxs("div",{className:"space-y-3 pt-4 border-t border-gray-700",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-300",children:"Trends"}),e.jsx(C,{metrics:s,metricKey:"lcp",title:"LCP Trend",unit:"ms",budget:i.lcp?.budget||2500}),e.jsx(C,{metrics:s,metricKey:"fcp",title:"FCP Trend",unit:"ms",budget:i.fcp?.budget||1800})]}),o&&e.jsxs("div",{className:"pt-4 border-t border-gray-700",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-300 mb-2",children:"Session Info"}),e.jsxs("div",{className:"text-xs text-gray-400 space-y-1",children:[e.jsxs("div",{children:["URL: ",o.url.split("/").pop()||"Home"]}),e.jsxs("div",{children:["Viewport: ",o.viewport.width,"×",o.viewport.height]}),o.connection?.effectiveType&&e.jsxs("div",{children:["Connection: ",o.connection.effectiveType]}),e.jsxs("div",{children:["Updated: ",new Date(o.timestamp).toLocaleTimeString()]})]})]})]})]})},P=Object.freeze(Object.defineProperty({__proto__:null,PerformanceDashboard:S,default:S},Symbol.toStringTag,{value:"Module"})),M={en:[{name:"Frontend",value:90,projects:["React Portfolio","D3 Visualizations","Astro Sites"]},{name:"Backend",value:85,projects:["Node.js APIs","Python Services","Database Design"]},{name:"Tools",value:80,projects:["Docker","CI/CD","Testing Frameworks"]},{name:"Research",value:95,projects:["Protein Engineering","Antimicrobial Peptides","Gene Therapy"]}],es:[{name:"Frontend",value:90,projects:["Portfolio React","Visualizaciones D3","Sitios Astro"]},{name:"Backend",value:85,projects:["APIs Node.js","Servicios Python","Diseño BD"]},{name:"Herramientas",value:80,projects:["Docker","CI/CD","Testing"]},{name:"Investigación",value:95,projects:["Ingeniería Proteínas","Péptidos Antimicrobianos","Terapia Génica"]}],ca:[{name:"Frontend",value:90,projects:["Portfolio React","Visualitzacions D3","Llocs Astro"]},{name:"Backend",value:85,projects:["APIs Node.js","Serveis Python","Disseny BD"]},{name:"Eines",value:80,projects:["Docker","CI/CD","Testing"]},{name:"Recerca",value:95,projects:["Enginyeria Proteïnes","Pèptids Antimicrobians","Teràpia Gènica"]}]},E=Object.freeze(Object.defineProperty({__proto__:null,default:({lang:s,className:r="",data:i=M,onExport:n})=>{const o=t.useRef(null),c=t.useRef(null),[d,m]=t.useState(!1),[u,h]=t.useState(-1),[x,g]=t.useState(null),[p,f]=t.useState(!1),v=i[s]||M[s],b=300,y=90,j=150;t.useEffect(()=>{const e=window.matchMedia("(prefers-reduced-motion: reduce)");f(e.matches);const t=e=>f(e.matches);return e.addEventListener("change",t),()=>e.removeEventListener("change",t)},[]);const w=2*Math.PI/v.length,N=t.useCallback((e,t)=>{const s=w*t-Math.PI/2,r=e/100*y;return{x:j+Math.cos(s)*r,y:j+Math.sin(s)*r}},[w,j,y]),k=t.useCallback(()=>{if(!o.current)return;const e=a(o.current);e.selectAll("*").remove();const t=e.append("g").attr("class","radar-chart");for(let a=1;a<=5;a++){const e=18*a;t.append("circle").attr("cx",j).attr("cy",j).attr("r",e).attr("fill","none").attr("stroke","rgba(156, 163, 175, 0.3)").attr("stroke-width",1),5===a&&t.append("text").attr("x",j+e+5).attr("y",154).attr("font-size","12px").attr("fill","rgba(156, 163, 175, 0.7)").text("100%")}v.forEach((e,s)=>{const r=w*s-Math.PI/2,a=j+Math.cos(r)*y,i=j+Math.sin(r)*y;t.append("line").attr("x1",j).attr("y1",j).attr("x2",a).attr("y2",i).attr("stroke","rgba(156, 163, 175, 0.3)").attr("stroke-width",1)});const s=v.map((e,t)=>{const s=N(e.value,t);return`${0===t?"M":"L"} ${s.x},${s.y}`}).join(" ")+" Z",r=t.append("path").attr("d",s).attr("fill","rgba(218, 41, 28, 0.2)").attr("stroke","#DA291C").attr("stroke-width",2).attr("opacity",p?1:0),i=t.selectAll(".skill-point").data(v).enter().append("g").attr("class","skill-point").attr("tabindex",0).attr("role","button").attr("aria-label",(e,t)=>`${e.name}: ${e.value}%. ${e.projects?e.projects.join(", "):""}`).style("cursor","pointer").on("focus",(e,t)=>{const s=v.indexOf(t);h(s),C(t,s)}).on("blur",()=>{h(-1),g(null)}).on("mouseenter",(e,t)=>{const s=v.indexOf(t);C(t,s)}).on("mouseleave",()=>g(null));i.each(function(e,t){const s=N(e.value,t);a(this).append("circle").attr("cx",s.x).attr("cy",s.y).attr("r",u===t?8:6).attr("fill","#DA291C").attr("stroke","#fff").attr("stroke-width",2).attr("opacity",p?1:0)}),v.forEach((e,s)=>{const r=w*s-Math.PI/2,a=j+110*Math.cos(r),i=j+110*Math.sin(r);t.append("text").attr("x",a).attr("y",i).attr("text-anchor","middle").attr("dominant-baseline","middle").attr("font-size","14px").attr("font-weight","600").attr("fill","rgba(255, 255, 255, 0.9)").text(e.name)}),p||d||(requestAnimationFrame(()=>{l.fromTo(r.node(),{opacity:0},{opacity:1,duration:.8,ease:"power2.out"}),l.fromTo(i.selectAll("circle").nodes(),{opacity:0,scale:0},{opacity:1,scale:1,duration:.6,stagger:.1,ease:"back.out(1.7)",delay:.4})}),m(!0))},[v,N,p,d,u,j,y,w]),C=t.useCallback((e,t)=>{const s=N(e.value,t);g({skill:e,x:s.x,y:s.y})},[N]);t.useEffect(()=>{const e=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting&&!d&&k()})},{threshold:.3});return c.current&&e.observe(c.current),()=>e.disconnect()},[k,d]),t.useEffect(()=>{(d||p)&&k()},[s,i,u,k,d,p]);const S=t.useCallback(async e=>{if(o.current&&n)if("svg"===e){const e=(new XMLSerializer).serializeToString(o.current),t=new Blob([e],{type:"image/svg+xml"});n(t)}else if("png"===e){const e=document.createElement("canvas"),t=e.getContext("2d"),s=new Image;e.width=600,e.height=600;const r=(new XMLSerializer).serializeToString(o.current),a=new Blob([r],{type:"image/svg+xml"}),i=URL.createObjectURL(a);s.onload=()=>{t&&(t.scale(2,2),t.fillStyle="#0A0A0A",t.fillRect(0,0,b,b),t.drawImage(s,0,0,b,b),e.toBlob(e=>{e&&n(e)},"image/png")),URL.revokeObjectURL(i)},s.src=i}},[n,b]),P=t.useCallback(e=>{if("ArrowRight"===e.key||"ArrowDown"===e.key){e.preventDefault();const t=(u+1)%v.length,s=c.current?.querySelector(`[tabindex="0"]:nth-of-type(${t+1})`);s?.focus()}else if("ArrowLeft"===e.key||"ArrowUp"===e.key){e.preventDefault();const t=0===u?v.length-1:u-1,s=c.current?.querySelector(`[tabindex="0"]:nth-of-type(${t+1})`);s?.focus()}else if("Enter"===e.key||" "===e.key){e.preventDefault();const t=v[u];t&&C(t,u)}},[u,v,C]);return e.jsxs("div",{ref:c,className:`skills-radar-container relative ${r}`,onKeyDown:P,role:"img","aria-label":`Skills radar chart showing proficiency levels in ${v.map(e=>e.name).join(", ")}`,children:[e.jsx("svg",{ref:o,width:b,height:b,viewBox:"0 0 300 300",className:"max-w-full h-auto",role:"presentation"}),x&&e.jsxs("div",{className:"absolute z-10 bg-gray-900 text-white p-3 rounded-lg shadow-lg pointer-events-none max-w-xs",style:{left:x.x+10,top:x.y-10,transform:"translate(-50%, -100%)"},children:[e.jsx("div",{className:"font-semibold text-red-400",children:x.skill.name}),e.jsxs("div",{className:"text-sm text-gray-300",children:[x.skill.value,"% proficiency"]}),x.skill.projects&&e.jsxs("div",{className:"text-xs text-gray-400 mt-1",children:[e.jsx("div",{className:"font-medium",children:"Related projects:"}),e.jsx("ul",{className:"list-disc list-inside",children:x.skill.projects.map((t,s)=>e.jsx("li",{children:t},s))})]})]}),n&&e.jsxs("div",{className:"mt-4 flex gap-2",children:[e.jsx("button",{onClick:()=>S("svg"),className:"px-3 py-1 bg-red-600 text-white text-sm rounded hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500","aria-label":"Export radar chart as SVG",children:"Export SVG"}),e.jsx("button",{onClick:()=>S("png"),className:"px-3 py-1 bg-red-600 text-white text-sm rounded hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500","aria-label":"Export radar chart as PNG",children:"Export PNG"})]})]})}},Symbol.toStringTag,{value:"Module"}));l.registerPlugin(c);const L=Object.freeze(Object.defineProperty({__proto__:null,default:({lang:s="en",className:r="",interactive:c=!0,showLegend:d=!0})=>{const m=t.useRef(null),u=t.useRef(null),h=t.useRef(null),[x,g]=t.useState(null),[p,f]=t.useState({width:800,height:600}),[v,b]=t.useState(null),y={en:{title:"Technical Expertise",subtitle:"Interactive visualization of my skills and experience across different domains",categories:{"Frontend Development":"Frontend Development","Backend & Infrastructure":"Backend & Infrastructure","Data Science & Analysis":"Data Science & Analysis","Research & Biology":"Research & Biology","Tools & Platforms":"Tools & Platforms"},labels:{level:"Proficiency Level",experience:"Years of Experience",projects:"Related Projects",hover:"Hover over skills to see details"}},es:{title:"Experiencia Técnica",subtitle:"Visualización interactiva de mis habilidades y experiencia en diferentes dominios",categories:{"Frontend Development":"Desarrollo Frontend","Backend & Infrastructure":"Backend e Infraestructura","Data Science & Analysis":"Ciencia de Datos y Análisis","Research & Biology":"Investigación y Biología","Tools & Platforms":"Herramientas y Plataformas"},labels:{level:"Nivel de Competencia",experience:"Años de Experiencia",projects:"Proyectos Relacionados",hover:"Pasa el cursor sobre las habilidades para ver detalles"}},ca:{title:"Experiència Tècnica",subtitle:"Visualització interactiva de les meves habilitats i experiència en diferents dominis",categories:{"Frontend Development":"Desenvolupament Frontend","Backend & Infrastructure":"Backend i Infraestructura","Data Science & Analysis":"Ciència de Dades i Anàlisi","Research & Biology":"Recerca i Biologia","Tools & Platforms":"Eines i Plataformes"},labels:{level:"Nivell de Competència",experience:"Anys d'Experiència",projects:"Projectes Relacionats",hover:"Passa el cursor sobre les habilitats per veure detalls"}}}[s],j=[{category:"Frontend Development",color:"#DA291C",skills:[{name:"React/TypeScript",level:95,yearsExperience:4,projects:["Portfolio Website","Research Dashboard","Protein Visualizer"],description:"Advanced React patterns, hooks, TypeScript, modern state management"},{name:"Astro.js",level:90,yearsExperience:2,projects:["Scientific Portfolio","Static Site Generation"],description:"Islands architecture, SSG, performance optimization"},{name:"D3.js/Visualization",level:88,yearsExperience:3,projects:["Protein Structure Viewer","Research Data Plots","Interactive Charts"],description:"Complex data visualizations, SVG animations, scientific plotting"},{name:"CSS/Tailwind",level:92,yearsExperience:5,projects:["Responsive Design","Component Libraries","Design Systems"],description:"Modern CSS, utility frameworks, responsive design, accessibility"},{name:"GSAP/Animations",level:85,yearsExperience:2,projects:["Interactive Timelines","Scroll Animations","UI Transitions"],description:"Performance animations, scroll triggers, complex sequences"}]},{category:"Backend & Infrastructure",color:"#FFD93D",skills:[{name:"Python/FastAPI",level:93,yearsExperience:6,projects:["Research APIs","Data Processing Pipelines","ML Model Serving"],description:"REST APIs, async programming, data validation, testing"},{name:"Node.js/Express",level:82,yearsExperience:3,projects:["Contact Forms","API Gateways","Serverless Functions"],description:"Server-side JavaScript, API development, middleware"},{name:"Docker/Containerization",level:88,yearsExperience:4,projects:["Development Environments","CI/CD Pipelines","Microservices"],description:"Container orchestration, multi-stage builds, deployment"},{name:"PostgreSQL/Databases",level:85,yearsExperience:5,projects:["Research Data Storage","User Management","Analytics"],description:"Relational databases, query optimization, data modeling"},{name:"AWS/Cloud",level:78,yearsExperience:3,projects:["Static Hosting","Lambda Functions","Data Storage"],description:"Cloud infrastructure, serverless computing, CDN"}]},{category:"Data Science & Analysis",color:"#0EA5E9",skills:[{name:"Pandas/NumPy",level:95,yearsExperience:6,projects:["Research Analysis","Publication Datasets","Statistical Modeling"],description:"Data manipulation, statistical analysis, scientific computing"},{name:"Matplotlib/Seaborn",level:92,yearsExperience:5,projects:["Publication Figures","Research Visualizations","Statistical Plots"],description:"Scientific plotting, publication-quality figures, custom visualizations"},{name:"Scikit-learn",level:87,yearsExperience:4,projects:["Protein Classification","Biomarker Discovery","Pattern Recognition"],description:"Machine learning, feature engineering, model validation"},{name:"Jupyter/Analysis",level:93,yearsExperience:6,projects:["Research Notebooks","Data Exploration","Reproducible Analysis"],description:"Interactive computing, research workflows, documentation"},{name:"Statistical Analysis",level:90,yearsExperience:7,projects:["Clinical Studies","Experimental Design","Hypothesis Testing"],description:"Experimental design, hypothesis testing, clinical statistics"}]},{category:"Research & Biology",color:"#10B981",skills:[{name:"Protein Engineering",level:95,yearsExperience:8,projects:["Antimicrobial Peptides","Inclusion Body Refolding","Therapeutic Proteins"],description:"Recombinant protein production, purification, characterization"},{name:"Molecular Biology",level:93,yearsExperience:9,projects:["Gene Cloning","Protein Expression","Cell Culture"],description:"DNA manipulation, expression systems, cell culture techniques"},{name:"Bioinformatics",level:88,yearsExperience:6,projects:["Sequence Analysis","Structure Prediction","Database Mining"],description:"Sequence analysis, structure prediction, phylogenetics"},{name:"Research Methodology",level:94,yearsExperience:10,projects:["Clinical Studies","Experimental Design","Grant Writing"],description:"Experimental design, grant writing, project management"},{name:"Scientific Writing",level:91,yearsExperience:8,projects:["Research Papers","Grant Proposals","Conference Presentations"],description:"Academic writing, peer review, scientific communication"}]},{category:"Tools & Platforms",color:"#8B5CF6",skills:[{name:"Git/GitHub",level:92,yearsExperience:6,projects:["Version Control","Collaboration","CI/CD"],description:"Version control, collaboration workflows, automation"},{name:"VS Code/Development",level:94,yearsExperience:5,projects:["Code Editing","Debugging","Extensions"],description:"Efficient development workflows, extensions, debugging"},{name:"Linux/Command Line",level:87,yearsExperience:8,projects:["Server Management","Automation Scripts","Development"],description:"System administration, shell scripting, automation"},{name:"Figma/Design",level:75,yearsExperience:2,projects:["UI Design","Prototyping","Design Systems"],description:"Interface design, prototyping, collaborative design"},{name:"Testing/QA",level:83,yearsExperience:4,projects:["Unit Testing","Integration Tests","E2E Testing"],description:"Test automation, quality assurance, debugging"}]}];t.useEffect(()=>{const e=()=>{if(u.current){const e=u.current.getBoundingClientRect(),t=Math.max(400,Math.min(e.width,1200)),s=Math.max(300,.75*t);f({width:t,height:s})}};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),t.useEffect(()=>{if(!m.current)return;const e=a(m.current);e.selectAll("*").remove();const{width:t,height:s}=p,r=t-80-80,l=s-40-40,d=Math.min(r,l)/2-20,u=e.attr("width",t).attr("height",s).append("g").attr("transform",`translate(${t/2}, ${s/2})`),h=j.flatMap(e=>e.skills.map(t=>({...t,category:e.category,color:e.color}))),x=h.length,f=2*Math.PI/x,y=i().range([0,d]).domain([0,100]);for(let a=1;a<=5;a++)u.append("circle").attr("r",d*(a/5)).attr("fill","none").attr("stroke","rgba(255, 255, 255, 0.1)").attr("stroke-width",1);h.forEach((e,t)=>{const s=f*t-Math.PI/2,r=[[0,0],[Math.cos(s)*d,Math.sin(s)*d]];u.append("line").attr("x1",r[0][0]).attr("y1",r[0][1]).attr("x2",r[1][0]).attr("y2",r[1][1]).attr("stroke","rgba(255, 255, 255, 0.2)").attr("stroke-width",1);const i=d+30,n=Math.cos(s)*i,o=Math.sin(s)*i;u.append("text").attr("x",n).attr("y",o).attr("text-anchor",n>0?"start":"end").attr("dominant-baseline","middle").attr("fill",e.color).attr("font-size","12px").attr("font-weight","500").text(e.name).style("cursor",c?"pointer":"default").on("mouseover",function(t){c&&(a(this).attr("font-weight","700"),w(t,e))}).on("mouseout",function(){c&&(a(this).attr("font-weight","500"),N())}).on("click",function(){c&&g(e)})}),j.forEach((e,t)=>{if(v&&v!==e.category)return;const s=e.skills,r=[];h.forEach((e,t)=>{const a=f*t-Math.PI/2,i=s.find(t=>t.name===e.name);if(i){const e=y(i.level);r.push([Math.cos(a)*e,Math.sin(a)*e])}else r.push([0,0])}),r.length>0&&r.push(r[0]);const i=n().x(e=>e[0]).y(e=>e[1]).curve(o);u.append("path").datum(r).attr("d",i).attr("fill",e.color).attr("fill-opacity",v?.4:.1).attr("stroke",e.color).attr("stroke-width",v?3:2).attr("stroke-opacity",v?1:.6).style("cursor",c?"pointer":"default").on("mouseover",function(){c&&a(this).attr("fill-opacity",.3).attr("stroke-width",3)}).on("mouseout",function(){c&&a(this).attr("fill-opacity",v?.4:.1).attr("stroke-width",v?3:2)}).on("click",function(){c&&b(v===e.category?null:e.category)}),r.slice(0,-1).forEach((t,r)=>{const i=h[r],n=s.find(e=>e.name===i.name);!n||0===t[0]&&0===t[1]||u.append("circle").attr("cx",t[0]).attr("cy",t[1]).attr("r",4).attr("fill",e.color).attr("stroke","white").attr("stroke-width",2).style("cursor",c?"pointer":"default").on("mouseover",function(e){c&&(a(this).attr("r",6),w(e,n))}).on("mouseout",function(){c&&(a(this).attr("r",4),N())}).on("click",function(){c&&g(n)})})});for(let a=1;a<=5;a++)u.append("text").attr("x",5).attr("y",a/5*-d).attr("text-anchor","start").attr("dominant-baseline","middle").attr("fill","rgba(255, 255, 255, 0.6)").attr("font-size","10px").text(100*a/5+"%")},[p,j,v,c]);const w=(e,t)=>{if(!h.current)return;a(h.current).style("opacity",1).style("left",`${e.pageX+10}px`).style("top",e.pageY-10+"px").html(`\n        <div class="bg-black/90 backdrop-blur-sm border border-white/20 rounded-lg p-3 text-white text-sm max-w-xs">\n          <div class="font-semibold text-red-400 mb-1">${t.name}</div>\n          <div class="mb-1">${y.labels.level}: <span class="font-medium">${t.level}%</span></div>\n          <div class="mb-1">${y.labels.experience}: <span class="font-medium">${t.yearsExperience} years</span></div>\n          <div class="mb-2 text-gray-300 text-xs">${t.description}</div>\n          <div class="text-xs text-gray-400">\n            <div class="font-medium mb-1">${y.labels.projects}:</div>\n            ${t.projects.map(e=>`<div>• ${e}</div>`).join("")}\n          </div>\n        </div>\n      `)},N=()=>{h.current&&a(h.current).style("opacity",0)};return t.useEffect(()=>{u.current&&l.fromTo(u.current,{opacity:0,y:50},{opacity:1,y:0,duration:1,ease:"power2.out",scrollTrigger:{trigger:u.current,start:"top 80%",end:"bottom 20%",toggleActions:"play none none reverse"}})},[]),e.jsx("section",{className:`py-16 bg-gradient-to-b from-black to-gray-900 ${r}`,children:e.jsxs("div",{className:"max-w-7xl mx-auto px-6",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h2",{className:"text-4xl md:text-5xl font-bold mb-4 bg-clip-text text-transparent bg-gradient-to-r from-white to-red-400",children:y.title}),e.jsx("p",{className:"text-xl text-gray-300 max-w-3xl mx-auto",children:y.subtitle}),c&&e.jsx("p",{className:"text-sm text-gray-400 mt-4",children:y.labels.hover})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[d&&e.jsxs("div",{className:"lg:col-span-1",children:[e.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Categories"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("button",{onClick:()=>b(null),className:"w-full text-left px-3 py-2 rounded transition-colors "+(v?"text-gray-400 hover:text-white hover:bg-white/5":"bg-white/10 text-white"),children:"All Skills"}),j.map(t=>e.jsxs("button",{onClick:()=>b(v===t.category?null:t.category),className:"w-full text-left px-3 py-2 rounded transition-colors flex items-center "+(v===t.category?"bg-white/10 text-white":"text-gray-400 hover:text-white hover:bg-white/5"),children:[e.jsx("div",{className:"w-3 h-3 rounded-full mr-2",style:{backgroundColor:t.color}}),e.jsx("span",{className:"text-sm",children:y.categories[t.category]||t.category})]},t.category))]}),x&&e.jsxs("div",{className:"mt-8 p-4 bg-gray-800/50 border border-gray-700 rounded-lg",children:[e.jsx("h4",{className:"font-semibold text-white mb-2",children:x.name}),e.jsxs("div",{className:"text-sm text-gray-300 space-y-1",children:[e.jsxs("div",{children:["Level: ",x.level,"%"]}),e.jsxs("div",{children:["Experience: ",x.yearsExperience," years"]}),e.jsx("div",{className:"text-xs text-gray-400 mt-2",children:x.description})]}),e.jsx("button",{onClick:()=>g(null),className:"mt-3 text-xs text-red-400 hover:text-red-300",children:"Close"})]})]}),e.jsx("div",{className:d?"lg:col-span-3":"col-span-1",children:e.jsxs("div",{ref:u,className:"relative",children:[e.jsx("svg",{ref:m,className:"w-full h-auto"}),e.jsx("div",{ref:h,className:"absolute pointer-events-none z-10",style:{opacity:0}})]})})]}),e.jsxs("div",{className:"mt-16",children:[e.jsx("h3",{className:"text-2xl font-bold text-white mb-8 text-center",children:"Detailed Breakdown"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:j.map(t=>e.jsxs("div",{className:"bg-gray-800/50 border border-gray-700 rounded-xl p-6 backdrop-blur-sm",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx("div",{className:"w-4 h-4 rounded-full mr-3",style:{backgroundColor:t.color}}),e.jsx("h4",{className:"text-lg font-semibold text-white",children:y.categories[t.category]||t.category})]}),e.jsx("div",{className:"space-y-3",children:t.skills.map(s=>e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm font-medium text-gray-200",children:s.name}),e.jsxs("span",{className:"text-xs text-gray-400",children:[s.level,"%"]})]}),e.jsx("div",{className:"w-full bg-gray-700 rounded-full h-1.5",children:e.jsx("div",{className:"h-1.5 rounded-full transition-all duration-300",style:{width:`${s.level}%`,backgroundColor:t.color}})}),e.jsxs("div",{className:"text-xs text-gray-400",children:[s.yearsExperience," years experience"]})]},s.name))})]},t.category))})]})]})})}},Symbol.toStringTag,{value:"Module"}));l.registerPlugin(c);const D=Object.freeze(Object.defineProperty({__proto__:null,default:({lang:s="en",className:r=""})=>{const[a,i]=t.useState(!0),[n,o]=t.useState(!1),[c,d]=t.useState(""),[m,u]=t.useState(0),[h,x]=t.useState([]),g=t.useRef(null),p=t.useRef(null),f=t.useRef(null),v=t.useRef(0),b=t.useRef(!1),y={en:{navigation:[{id:"home",label:"Home",href:"/en/"},{id:"about",label:"About",href:"/en/#about"},{id:"research",label:"Research",href:"/en/#research",children:[{id:"publications",label:"Publications",href:"/en/#publications"},{id:"projects",label:"Projects",href:"/en/#projects"},{id:"timeline",label:"Timeline",href:"/en/#timeline"}]},{id:"contact",label:"Contact",href:"/en/#contact"}],languages:[{code:"en",label:"English",href:"/en/"},{code:"es",label:"Español",href:"/es/"},{code:"ca",label:"Català",href:"/ca/"}],skipToContent:"Skip to main content",menu:"Menu",close:"Close menu",currentPage:"Current page",scrollProgress:"Page progress"},es:{navigation:[{id:"home",label:"Inicio",href:"/es/"},{id:"about",label:"Acerca",href:"/es/#about"},{id:"research",label:"Investigación",href:"/es/#research",children:[{id:"publications",label:"Publicaciones",href:"/es/#publications"},{id:"projects",label:"Proyectos",href:"/es/#projects"},{id:"timeline",label:"Cronología",href:"/es/#timeline"}]},{id:"contact",label:"Contacto",href:"/es/#contact"}],languages:[{code:"en",label:"English",href:"/en/"},{code:"es",label:"Español",href:"/es/"},{code:"ca",label:"Català",href:"/ca/"}],skipToContent:"Saltar al contenido principal",menu:"Menú",close:"Cerrar menú",currentPage:"Página actual",scrollProgress:"Progreso de la página"},ca:{navigation:[{id:"home",label:"Inici",href:"/ca/"},{id:"about",label:"Sobre",href:"/ca/#about"},{id:"research",label:"Recerca",href:"/ca/#research",children:[{id:"publications",label:"Publicacions",href:"/ca/#publications"},{id:"projects",label:"Projectes",href:"/ca/#projects"},{id:"timeline",label:"Cronologia",href:"/ca/#timeline"}]},{id:"contact",label:"Contacte",href:"/ca/#contact"}],languages:[{code:"en",label:"English",href:"/en/"},{code:"es",label:"Español",href:"/es/"},{code:"ca",label:"Català",href:"/ca/"}],skipToContent:"Saltar al contingut principal",menu:"Menú",close:"Tancar menú",currentPage:"Pàgina actual",scrollProgress:"Progrés de la pàgina"}}[s],j=t.useCallback(()=>{b.current||requestAnimationFrame(()=>{const e=window.scrollY,t=document.documentElement.scrollHeight-window.innerHeight,s=Math.min(e/t,1);u(100*s),e>100?e>v.current&&!n?i(!1):e<v.current&&i(!0):i(!0),v.current=e,b.current=!1}),b.current=!0},[n]),w=t.useCallback(()=>{const e=document.querySelectorAll("section[id], div[id]"),t=window.scrollY+100;for(const s of e){const e=s,r=e.offsetTop,a=e.offsetHeight;if(t>=r&&t<r+a){d(e.id);break}}},[]);t.useEffect(()=>{const e=window.location.pathname,t=e.split("/").filter(e=>e),r=[{label:y.navigation[0].label,href:y.navigation[0].href}];if(t.length>1){t.includes("research")&&r.push({label:y.navigation.find(e=>"research"===e.id)?.label||"Research",href:`/${s}/research`});const a=t[t.length-1];a!==s&&r.push({label:a.split("-").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" "),href:e})}x(r)},[s,y.navigation]),t.useEffect(()=>{let e;const t=()=>{e=requestAnimationFrame(()=>{j(),w()})};return window.addEventListener("scroll",t,{passive:!0}),g.current&&l.set(g.current,{y:0,opacity:1}),()=>{window.removeEventListener("scroll",t),e&&cancelAnimationFrame(e)}},[j,w]),t.useEffect(()=>{g.current&&l.to(g.current,{y:a?0:-100,opacity:a?1:.95,duration:.3,ease:"power2.out"})},[a]),t.useEffect(()=>(f.current&&l.to(f.current,{x:n?0:"100%",duration:.4,ease:"power3.inOut"}),document.body.style.overflow=n?"hidden":"auto",()=>{document.body.style.overflow="auto"}),[n]);const N=(e,t)=>{if(t.includes("#")){e.preventDefault();const s=t.split("#")[1],r=document.getElementById(s);if(r){const e=g.current?.offsetHeight||80,t=r.offsetTop-e-20;window.scrollTo({top:t,behavior:"smooth"}),o(!1)}}};return e.jsxs(e.Fragment,{children:[e.jsx("a",{href:"#main-content",className:"sr-only focus:not-sr-only focus:absolute focus:top-4 focus:left-4 focus:bg-red-600 focus:text-white focus:px-4 focus:py-2 focus:rounded focus:z-50 focus:outline-none focus:ring-2 focus:ring-white focus:ring-offset-2",children:y.skipToContent}),e.jsxs("nav",{ref:g,className:`fixed top-0 left-0 right-0 z-40 backdrop-blur-md bg-black/80 border-b border-white/10 ${r}`,role:"navigation","aria-label":"Main navigation",onKeyDown:e=>{"Escape"===e.key&&n&&o(!1)},children:[e.jsx("div",{ref:p,className:"absolute top-0 left-0 h-1 bg-gradient-to-r from-red-500 to-yellow-500 transition-all duration-150 z-50",style:{width:`${m}%`},role:"progressbar","aria-label":y.scrollProgress,"aria-valuenow":Math.round(m),"aria-valuemin":0,"aria-valuemax":100}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6",children:e.jsxs("div",{className:"flex items-center justify-between h-16",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("a",{href:y.navigation[0].href,className:"text-white font-bold text-xl hover:text-red-400 transition-colors focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 focus:ring-offset-black rounded",onClick:e=>N(e,y.navigation[0].href),children:"RRP"})}),e.jsx("div",{className:"hidden md:block",children:e.jsx("div",{className:"ml-10 flex items-baseline space-x-4",children:y.navigation.map(t=>e.jsxs("div",{className:"relative group",children:[e.jsx("a",{href:t.href,className:"px-3 py-2 text-sm font-medium transition-colors rounded focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 focus:ring-offset-black "+(c===t.id?"text-red-400 bg-red-400/10":"text-white hover:text-red-400 hover:bg-white/5"),onClick:e=>N(e,t.href),"aria-current":c===t.id?"page":void 0,children:t.label}),t.children&&e.jsx("div",{className:"absolute left-0 top-full mt-2 w-48 bg-black/95 backdrop-blur-md border border-white/10 rounded-lg shadow-xl opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 z-50",children:e.jsx("div",{className:"py-2",children:t.children.map(t=>e.jsx("a",{href:t.href,className:"block px-4 py-2 text-sm text-white hover:text-red-400 hover:bg-white/5 transition-colors focus:outline-none focus:bg-white/10",onClick:e=>N(e,t.href),children:t.label},t.id))})})]},t.id))})}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"relative group",children:[e.jsxs("button",{className:"text-white hover:text-red-400 transition-colors text-sm font-medium px-2 py-1 rounded focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 focus:ring-offset-black","aria-label":"Choose language",children:[s.toUpperCase(),e.jsx("svg",{className:"ml-1 h-3 w-3 inline-block",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),e.jsx("div",{className:"absolute right-0 top-full mt-2 w-32 bg-black/95 backdrop-blur-md border border-white/10 rounded-lg shadow-xl opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 z-50",children:e.jsx("div",{className:"py-2",children:y.languages.map(t=>e.jsx("a",{href:t.href,className:"block px-4 py-2 text-sm transition-colors focus:outline-none focus:bg-white/10 "+(t.code===s?"text-red-400 bg-red-400/10":"text-white hover:text-red-400 hover:bg-white/5"),"aria-current":t.code===s?"page":void 0,children:t.label},t.code))})})]}),e.jsx("button",{onClick:()=>o(!n),className:"md:hidden text-white hover:text-red-400 transition-colors focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 focus:ring-offset-black rounded p-2","aria-expanded":n,"aria-label":n?y.close:y.menu,children:e.jsxs("div",{className:"w-6 h-6 relative",children:[e.jsx("span",{className:"absolute left-0 top-0 w-6 h-0.5 bg-current transition-all duration-300 "+(n?"rotate-45 top-2.5":"")}),e.jsx("span",{className:"absolute left-0 top-2.5 w-6 h-0.5 bg-current transition-opacity duration-300 "+(n?"opacity-0":"")}),e.jsx("span",{className:"absolute left-0 top-5 w-6 h-0.5 bg-current transition-all duration-300 "+(n?"-rotate-45 top-2.5":"")})]})})]})]})}),h.length>1&&e.jsx("div",{className:"border-t border-white/10 px-4 sm:px-6",children:e.jsx("div",{className:"max-w-7xl mx-auto",children:e.jsx("nav",{"aria-label":"Breadcrumb",className:"py-2",children:e.jsx("ol",{className:"flex items-center space-x-2 text-sm",children:h.map((t,s)=>e.jsxs("li",{className:"flex items-center",children:[s>0&&e.jsx("svg",{className:"h-4 w-4 text-gray-400 mx-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})}),s===h.length-1?e.jsx("span",{className:"text-red-400 font-medium","aria-current":"page",children:t.label}):e.jsx("a",{href:t.href,className:"text-white hover:text-red-400 transition-colors focus:outline-none focus:text-red-400",onClick:e=>N(e,t.href),children:t.label})]},s))})})})})]}),n&&e.jsx("div",{className:"fixed inset-0 z-30 bg-black/50 backdrop-blur-sm md:hidden",onClick:()=>o(!1),"aria-hidden":"true"}),e.jsx("div",{ref:f,className:"fixed top-0 right-0 bottom-0 z-40 w-64 bg-black/95 backdrop-blur-md border-l border-white/10 md:hidden",style:{transform:"translateX(100%)"},role:"dialog","aria-modal":"true","aria-label":"Mobile navigation",children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-white/10",children:[e.jsx("h2",{className:"text-white font-semibold",children:"Navigation"}),e.jsx("button",{onClick:()=>o(!1),className:"text-white hover:text-red-400 transition-colors focus:outline-none focus:ring-2 focus:ring-red-500 rounded p-1","aria-label":y.close,children:e.jsx("svg",{className:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsx("nav",{className:"flex-1 px-4 py-6",children:e.jsx("ul",{className:"space-y-2",children:y.navigation.map(t=>e.jsxs("li",{children:[e.jsx("a",{href:t.href,className:"block px-3 py-2 text-base font-medium rounded transition-colors focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 focus:ring-offset-black "+(c===t.id?"text-red-400 bg-red-400/10":"text-white hover:text-red-400 hover:bg-white/5"),onClick:e=>N(e,t.href),"aria-current":c===t.id?"page":void 0,children:t.label}),t.children&&e.jsx("ul",{className:"ml-4 mt-2 space-y-1",children:t.children.map(t=>e.jsx("li",{children:e.jsx("a",{href:t.href,className:"block px-3 py-2 text-sm text-gray-300 hover:text-red-400 hover:bg-white/5 rounded transition-colors focus:outline-none focus:bg-white/10",onClick:e=>N(e,t.href),children:t.label})},t.id))})]},t.id))})}),e.jsxs("div",{className:"border-t border-white/10 p-4",children:[e.jsx("h3",{className:"text-white text-sm font-medium mb-3",children:"Language"}),e.jsx("div",{className:"space-y-1",children:y.languages.map(t=>e.jsx("a",{href:t.href,className:"block px-3 py-2 text-sm rounded transition-colors focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 focus:ring-offset-black "+(t.code===s?"text-red-400 bg-red-400/10":"text-white hover:text-red-400 hover:bg-white/5"),"aria-current":t.code===s?"page":void 0,children:t.label},t.code))})]})]})})]})}},Symbol.toStringTag,{value:"Module"})),A=t.createContext(null),T=({children:s,defaultMode:r="system",enableTransitions:a=!0})=>{const[i,n]=t.useState(null),[o,l]=t.useState(r),[c,m]=t.useState(!1);t.useEffect(()=>{const e=d();n(e.getTheme()),l(e.getMode()),m(!0);const t=e.subscribe(()=>{n(e.getTheme()),l(e.getMode())});if(a&&!document.getElementById("theme-styles")){const e=document.createElement("style");e.id="theme-styles",e.textContent="\n        .theme-transition,\n        .theme-transition *,\n        .theme-transition *:before,\n        .theme-transition *:after {\n          transition: \n            background-color 0.3s cubic-bezier(0.4, 0, 0.2, 1),\n            border-color 0.3s cubic-bezier(0.4, 0, 0.2, 1),\n            color 0.3s cubic-bezier(0.4, 0, 0.2, 1),\n            box-shadow 0.3s cubic-bezier(0.4, 0, 0.2, 1) !important;\n        }\n        \n        @keyframes fadeIn {\n          from { opacity: 0; transform: translateY(10px); }\n          to { opacity: 1; transform: translateY(0); }\n        }\n        \n        @keyframes slideUp {\n          from { transform: translateY(20px); opacity: 0; }\n          to { transform: translateY(0); opacity: 1; }\n        }\n        \n        @keyframes scaleIn {\n          from { transform: scale(0.95); opacity: 0; }\n          to { transform: scale(1); opacity: 1; }\n        }\n        \n        @keyframes spin {\n          from { transform: rotate(0deg); }\n          to { transform: rotate(360deg); }\n        }\n        \n        @keyframes pulse {\n          0%, 100% { opacity: 1; }\n          50% { opacity: 0.7; }\n        }\n      ",document.head.appendChild(e)}return t},[a]);if(!c||!i)return e.jsx("div",{style:{visibility:"hidden"},children:s});const u={theme:i,mode:o,setMode:e=>{d().setMode(e)},toggleTheme:()=>{d().toggleTheme()},isSystemMode:"system"===o,isDark:"dark"===i.mode,isLight:"light"===i.mode};return e.jsx(A.Provider,{value:u,children:s})},R=()=>{const e=t.useContext(A);if(!e)throw new Error("useTheme must be used within a ThemeProvider");return e},z=Object.freeze(Object.defineProperty({__proto__:null,ThemeProvider:T,ThemeToggle:({className:t=""})=>{const{mode:s,setMode:r,isDark:a,isSystemMode:i}=R(),n=()=>{switch(s){case"light":return"Light mode";case"dark":return"Dark mode";case"system":return"System mode";default:return"Toggle theme"}};return e.jsx("button",{onClick:()=>r((()=>{switch(s){case"light":return"dark";case"dark":return"system";default:return"light"}})()),className:`relative p-2 rounded-lg transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 hover:bg-gray-200 dark:hover:bg-gray-700 ${t}`,"aria-label":n(),title:n(),children:e.jsxs("div",{className:"relative overflow-hidden",children:[i?e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}):a?e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"})}):e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"})}),e.jsx("div",{className:"absolute -top-1 -right-1 w-2 h-2 rounded-full transition-colors "+("system"===s?"bg-blue-500":a?"bg-purple-500":"bg-yellow-500")})]})})},ThemedDiv:({children:t,lightClass:s="",darkClass:r="",className:a=""})=>{const{isDark:i}=R();return e.jsx("div",{className:`${a} ${i?r:s}`,children:t})},default:T,useTheme:R,useThemeStyles:()=>{const{theme:e}=R();return{colors:e.colors,typography:e.typography,spacing:e.spacing,breakpoints:e.breakpoints,animations:e.animations,shadows:e.shadows}},useThemeValue:(e,t)=>{const{isDark:s}=R();return s?t:e}},Symbol.toStringTag,{value:"Module"})),I={low:{particles:800,size:1.5,speed:.5},med:{particles:1200,size:2,speed:.8},high:{particles:2e3,size:2.5,speed:1}},F=Object.freeze(Object.defineProperty({__proto__:null,default:({enabled:s=!0,quality:r="med",className:a=""})=>{const i=t.useRef(null),n=t.useRef(null),[o,l]=t.useState(!1),[c,d]=t.useState(!1),[m,h]=t.useState(!1),[x,g]=t.useState(!1),p=t.useRef({x:0,y:0}),f=t.useRef(0);t.useEffect(()=>{const e=window.matchMedia("(prefers-reduced-motion: reduce)");h(e.matches);const t=window.matchMedia("(max-width: 768px)");g(t.matches);const s=e=>{h(e.matches)},r=e=>{g(e.matches)};return e.addEventListener("change",s),t.addEventListener("change",r),()=>{e.removeEventListener("change",s),t.removeEventListener("change",r)}},[]);const v=t.useCallback(e=>{!m&&s&&(f.current>0||(f.current=requestAnimationFrame(()=>{const t=i.current?.getBoundingClientRect();t&&(p.current.x=(e.clientX-t.left)/t.width*2-1,p.current.y=-(e.clientY-t.top)/t.height*2+1),f.current=0})))},[m,s]),b=t.useCallback(async()=>{if(i.current&&s&&!m)try{const e=await u(()=>import("./vendor-utils.gse-eQoW.js").then(e=>e.h),__vite__mapDeps([0,1])),t=i.current,s=t.getBoundingClientRect(),a=new e.Scene,o=new e.PerspectiveCamera(75,s.width/s.height,.1,1e3);o.position.z=5;const c=new e.WebGLRenderer({canvas:t,alpha:!0,antialias:!x,powerPreference:x?"low-power":"high-performance"});c.setSize(s.width,s.height),c.setPixelRatio(Math.min(window.devicePixelRatio,x?1.5:2));const d=I[r],m=x?Math.floor(.6*d.particles):d.particles,h=new e.BufferGeometry,g=new Float32Array(3*m),p=new Float32Array(3*m),f=new Float32Array(m),v=[new e.Color("#DA291C"),new e.Color("#FFD93D"),new e.Color("#FFFFFF"),new e.Color("#E5E5E5")];for(let r=0;r<m;r++){const e=3*r,t=8*Math.random()+2,s=Math.random()*Math.PI*2,a=Math.random()*Math.PI;g[e]=t*Math.sin(a)*Math.cos(s),g[e+1]=t*Math.sin(a)*Math.sin(s),g[e+2]=t*Math.cos(a);const i=v[Math.floor(Math.random()*v.length)];p[e]=i.r,p[e+1]=i.g,p[e+2]=i.b,f[r]=Math.random()*d.size+.5}h.setAttribute("position",new e.BufferAttribute(g,3)),h.setAttribute("color",new e.BufferAttribute(p,3)),h.setAttribute("size",new e.BufferAttribute(f,1));const b=new e.ShaderMaterial({uniforms:{time:{value:0},mouse:{value:new e.Vector2}},vertexShader:"\n          attribute float size;\n          varying vec3 vColor;\n          uniform float time;\n          uniform vec2 mouse;\n          \n          void main() {\n            vColor = color;\n            vec3 pos = position;\n            \n            // Gentle wave motion\n            pos.x += sin(time * 0.5 + position.y * 0.1) * 0.1;\n            pos.y += cos(time * 0.3 + position.x * 0.1) * 0.1;\n            \n            // Mouse interaction\n            vec2 mouseInfluence = mouse * 0.3;\n            pos.xy += mouseInfluence * (1.0 / (distance(pos.xy, mouseInfluence) + 1.0));\n            \n            vec4 mvPosition = modelViewMatrix * vec4(pos, 1.0);\n            gl_PointSize = size * (300.0 / -mvPosition.z);\n            gl_Position = projectionMatrix * mvPosition;\n          }\n        ",fragmentShader:"\n          varying vec3 vColor;\n          \n          void main() {\n            float r = distance(gl_PointCoord, vec2(0.5, 0.5));\n            if (r > 0.5) discard;\n            \n            float alpha = 1.0 - r * 2.0;\n            gl_FragColor = vec4(vColor, alpha * 0.8);\n          }\n        ",transparent:!0,blending:e.AdditiveBlending,depthTest:!1,vertexColors:!0}),y=new e.Points(h,b);a.add(y),n.current={scene:a,camera:o,renderer:c,particles:y,geometry:h,material:b,animationId:null,mouse:{x:0,y:0}},l(!0)}catch(e){d(!0)}},[s,m,x,r]),y=t.useCallback(()=>{if(!n.current||m)return;const{scene:e,camera:t,renderer:s,material:r}=n.current,a=.001*Date.now();r.uniforms.time.value=a,r.uniforms.mouse.value.set(p.current.x,p.current.y),s.render(e,t),n.current.animationId=requestAnimationFrame(y)},[m]),j=t.useCallback(()=>{if(!n.current||!i.current)return;const{camera:e,renderer:t}=n.current,s=i.current.getBoundingClientRect();e.aspect=s.width/s.height,e.updateProjectionMatrix(),t.setSize(s.width,s.height)},[]),w=t.useCallback(()=>{if(!n.current)return;const{renderer:e,geometry:t,material:s,animationId:r}=n.current;r&&cancelAnimationFrame(r),t?.dispose(),s?.dispose(),e?.dispose(),n.current=null},[]);t.useEffect(()=>{if(!s||m)return;const e=setTimeout(b,100);return()=>clearTimeout(e)},[b,s,m]),t.useEffect(()=>(o&&!m&&y(),()=>{n.current?.animationId&&cancelAnimationFrame(n.current.animationId)}),[o,y,m]),t.useEffect(()=>{if(s&&!m)return window.addEventListener("mousemove",v,{passive:!0}),window.addEventListener("resize",j,{passive:!0}),()=>{window.removeEventListener("mousemove",v),window.removeEventListener("resize",j)}},[v,j,s,m]),t.useEffect(()=>w,[w]);const N=t.useMemo(()=>!m&&s?null:e.jsx("div",{className:`absolute inset-0 opacity-20 ${a}`,style:{background:"\n            radial-gradient(circle at 20% 30%, rgba(218, 41, 28, 0.1) 0%, transparent 50%),\n            radial-gradient(circle at 80% 70%, rgba(255, 217, 61, 0.1) 0%, transparent 50%),\n            radial-gradient(circle at 40% 80%, rgba(255, 255, 255, 0.05) 0%, transparent 50%)\n          "},"aria-hidden":"true"}),[m,s,a]);return!s||c?null:m?N:e.jsxs(e.Fragment,{children:[e.jsx("canvas",{ref:i,className:`absolute inset-0 pointer-events-none ${a}`,style:{width:"100%",height:"100%",opacity:o?1:0,transition:"opacity 0.5s ease-in-out"},"aria-hidden":"true"}),!o&&e.jsx("div",{className:`absolute inset-0 opacity-10 ${a}`,style:{background:"\n              radial-gradient(circle at 25% 25%, rgba(218, 41, 28, 0.1) 0%, transparent 50%),\n              radial-gradient(circle at 75% 75%, rgba(255, 217, 61, 0.1) 0%, transparent 50%)\n            "},"aria-hidden":"true"})]})}},Symbol.toStringTag,{value:"Module"}));export{y as A,v as E,h as G,f as L,g as O,x as P,E as S,z as T,u as _,p as a,b,j as c,w as d,N as e,P as f,L as g,D as h,F as i};
