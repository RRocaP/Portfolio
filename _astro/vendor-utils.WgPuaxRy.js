var e,t,r,n,s,a,i=Object.defineProperty,o=(e,t,r)=>((e,t,r)=>t in e?i(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r)(e,"symbol"!=typeof t?t+"":t,r),c={exports:{}},d={};function u(){return a||(a=1,c.exports=(s||(s=1,function(e){function t(e,t){var r=e.length;e.push(t);e:for(;0<r;){var n=r-1>>>1,a=e[n];if(!(0<s(a,t)))break e;e[n]=t,e[r]=a,r=n}}function r(e){return 0===e.length?null:e[0]}function n(e){if(0===e.length)return null;var t=e[0],r=e.pop();if(r!==t){e[0]=r;e:for(var n=0,a=e.length,i=a>>>1;n<i;){var o=2*(n+1)-1,c=e[o],d=o+1,u=e[d];if(0>s(c,r))d<a&&0>s(u,c)?(e[n]=u,e[d]=r,n=d):(e[n]=c,e[o]=r,n=o);else{if(!(d<a&&0>s(u,r)))break e;e[n]=u,e[d]=r,n=d}}}return t}function s(e,t){var r=e.sortIndex-t.sortIndex;return 0!==r?r:e.id-t.id}if(e.unstable_now=void 0,"object"==typeof performance&&"function"==typeof performance.now){var a=performance;e.unstable_now=function(){return a.now()}}else{var i=Date,o=i.now();e.unstable_now=function(){return i.now()-o}}var c=[],d=[],u=1,l=null,h=3,p=!1,f=!1,m=!1,y=!1,g="function"==typeof setTimeout?setTimeout:null,v="function"==typeof clearTimeout?clearTimeout:null,_="undefined"!=typeof setImmediate?setImmediate:null;function b(e){for(var s=r(d);null!==s;){if(null===s.callback)n(d);else{if(!(s.startTime<=e))break;n(d),s.sortIndex=s.expirationTime,t(c,s)}s=r(d)}}function w(e){if(m=!1,b(e),!f)if(null!==r(c))f=!0,x||(x=!0,k());else{var t=r(d);null!==t&&N(w,t.startTime-e)}}var k,x=!1,A=-1,S=5,$=-1;function C(){return!(!y&&e.unstable_now()-$<S)}function j(){if(y=!1,x){var t=e.unstable_now();$=t;var s=!0;try{e:{f=!1,m&&(m=!1,v(A),A=-1),p=!0;var a=h;try{t:{for(b(t),l=r(c);null!==l&&!(l.expirationTime>t&&C());){var i=l.callback;if("function"==typeof i){l.callback=null,h=l.priorityLevel;var o=i(l.expirationTime<=t);if(t=e.unstable_now(),"function"==typeof o){l.callback=o,b(t),s=!0;break t}l===r(c)&&n(c),b(t)}else n(c);l=r(c)}if(null!==l)s=!0;else{var u=r(d);null!==u&&N(w,u.startTime-t),s=!1}}break e}finally{l=null,h=a,p=!1}s=void 0}}finally{s?k():x=!1}}}if("function"==typeof _)k=function(){_(j)};else if("undefined"!=typeof MessageChannel){var O=new MessageChannel,T=O.port2;O.port1.onmessage=j,k=function(){T.postMessage(null)}}else k=function(){g(j,0)};function N(t,r){A=g(function(){t(e.unstable_now())},r)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(e){e.callback=null},e.unstable_forceFrameRate=function(e){0>e||125<e||(S=0<e?Math.floor(1e3/e):5)},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var r=h;h=t;try{return e()}finally{h=r}},e.unstable_requestPaint=function(){y=!0},e.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var r=h;h=e;try{return t()}finally{h=r}},e.unstable_scheduleCallback=function(n,s,a){var i=e.unstable_now();switch(a="object"==typeof a&&null!==a&&"number"==typeof(a=a.delay)&&0<a?i+a:i,n){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return n={id:u++,callback:s,priorityLevel:n,startTime:a,expirationTime:o=a+o,sortIndex:-1},a>i?(n.sortIndex=a,t(d,n),null===r(c)&&n===r(d)&&(m?(v(A),A=-1):m=!0,N(w,a-i))):(n.sortIndex=o,t(c,n),f||p||(f=!0,x||(x=!0,k()))),n},e.unstable_shouldYield=C,e.unstable_wrapCallback=function(e){var t=h;return function(){var r=h;h=t;try{return e.apply(this,arguments)}finally{h=r}}}}(d)),d)),c.exports}class l extends Error{constructor(e,t){const{name:r,title:n,message:s,stack:a,location:i,hint:c,frame:d}=e;super(s,t),o(this,"loc"),o(this,"title"),o(this,"hint"),o(this,"frame"),o(this,"type","AstroError"),this.title=n,this.name=r,s&&(this.message=s),this.stack=a||this.stack,this.loc=i,this.hint=c,this.frame=d}setLocation(e){this.loc=e}setName(e){this.name=e}setMessage(e){this.message=e}setHint(e){this.hint=e}setFrame(e,t){this.frame=function(e,t){if(!t||void 0===t.line||void 0===t.column)return"";const r=(n=e,n.replace(/\r\n|\r(?!\n)|\n/g,"\n")).split("\n").map(e=>e.replace(/\t/g,"  "));var n;const s=[];for(let o=-2;o<=2;o++)r[t.line+o]&&s.push(t.line+o);let a=0;for(const o of s){let e=`> ${o}`;e.length>a&&(a=e.length)}let i="";for(const o of s){const e=o===t.line-1;i+=e?"> ":"  ",i+=`${o+1} | ${r[o]}\n`,e&&(i+=`${Array.from({length:a}).join(" ")}  | ${Array.from({length:t.column}).join(" ")}^\n`)}return i}(e,t)}static is(e){return"AstroError"===e.type}}const h={name:"MissingMediaQueryDirective",title:"Missing value for `client:media` directive.",message:'Media query not provided for `client:media` directive. A media query similar to `client:media="(max-width: 600px)"` must be provided'},p={name:"NoMatchingRenderer",title:"No matching renderer found.",message:(e,t,r,n)=>`Unable to render \`${e}\`.\n\n${n>0?`There ${r?"are":"is"} ${n} renderer${r?"s":""} configured in your \`astro.config.mjs\` file,\nbut ${r?"none were":"it was not"} able to server-side render \`${e}\`.`:"No valid renderer was found "+(t?`for the \`.${t}\` file extension.`:"for this file extension.")}`,hint:e=>`Did you mean to enable the ${e} integration?\n\nSee https://docs.astro.build/en/guides/framework-components/ for more information on how to install and configure integrations.`},f={name:"NoClientOnlyHint",title:"Missing hint on client:only directive.",message:e=>`Unable to render \`${e}\`. When using the \`client:only\` hydration strategy, Astro needs a hint to use the correct renderer.`,hint:e=>`Did you mean to pass \`client:only="${e}"\`? See https://docs.astro.build/en/reference/directives-reference/#clientonly for more information on client:only`},m={name:"NoMatchingImport",title:"No import found for component.",message:e=>`Could not render \`${e}\`. No matching import has been found for \`${e}\`.`,hint:"Please make sure the component is properly imported."},y={name:"InvalidComponentArgs",title:"Invalid component arguments.",message:e=>`Invalid arguments passed to${e?` <${e}>`:""} component.`,hint:"Astro components cannot be rendered directly via function call, such as `Component()` or `{items.map(Component)}`."},g={name:"AstroGlobUsedOutside",title:"Astro.glob() used outside of an Astro file.",message:e=>`\`Astro.glob(${e})\` can only be used in \`.astro\` files. \`import.meta.glob(${e})\` can be used instead to achieve a similar result.`,hint:"See Vite's documentation on `import.meta.glob` for more information: https://vite.dev/guide/features.html#glob-import"},v={name:"AstroGlobNoMatch",title:"Astro.glob() did not match any files.",message:e=>`\`Astro.glob(${e})\` did not return any matching files.`,hint:"Check the pattern for typos."};function _(e,t,r){const n=t?.split("/").pop()?.replace(".astro","")??"",s=(...t)=>{if(!function(e){return 3===e.length&&!(!e[0]||"object"!=typeof e[0])}(t))throw new l({...y,message:y.message(n)});return e(...t)};return Object.defineProperty(s,"name",{value:n,writable:!1}),s.isAstroComponentFactory=!0,s.moduleId=t,s.propagation=r,s}function b(e,t,r){return"function"==typeof e?_(e,t,r):_((n=e).factory,n.moduleId,n.propagation);var n}function w(e){return{site:e?new URL(e):void 0,generator:"Astro v5.13.2",glob:e=>{if("string"==typeof e)throw new l({...g,message:g.message(JSON.stringify(e))});let t=[...Object.values(e)];if(0===t.length)throw new l({...v,message:v.message(JSON.stringify(e))});return Promise.all(t.map(e=>e()))}}}"undefined"!=typeof process&&process.stdout&&process.stdout.isTTY;const{replace:k}="",x=/[&<>'"]/g,A={"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"},S=e=>A[e];function $(e){return!!e&&"object"==typeof e&&"then"in e&&"function"==typeof e.then}const C=e=>k.call(e,x,S);class j extends Uint8Array{}Object.defineProperty(j.prototype,Symbol.toStringTag,{get:()=>"HTMLBytes"});class O extends String{get[Symbol.toStringTag](){return"HTMLString"}}const T=e=>e instanceof O?e:"string"==typeof e?new O(e):e;function N(e){return"function"==typeof e.getReader}async function*I(e){if(N(e))for await(const t of async function*(e){const t=e.getReader();try{for(;;){const{done:e,value:r}=await t.read();if(e)return;yield r}}finally{t.releaseLock()}}(e))yield E(t);else for await(const t of e)yield E(t)}function E(e){if(e&&"object"==typeof e){if(e instanceof Uint8Array)return new j(e);if(e instanceof Response&&e.body){return I(e.body)}if("function"==typeof e.then)return Promise.resolve(e).then(e=>E(e));if(e[Symbol.for("astro:slot-string")])return e;if(Symbol.iterator in e)return function*(e){for(const t of e)yield E(t)}(e);if(Symbol.asyncIterator in e||N(e))return I(e)}return T(e)}function Z(e){var t,r,n="";if("string"==typeof e||"number"==typeof e)n+=e;else if("object"==typeof e)if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=Z(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function P(){for(var e,t,r=0,n="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=Z(e))&&(n&&(n+=" "),n+=t);return n}const R=0,L=1,M=2,U=3,F=4,D=5,V=6,z=7,H=8,W=9,q=10,B=11;function K(e,t={},r=new WeakSet){if(r.has(e))throw new Error(`Cyclic reference detected while serializing props for <${t.displayName} client:${t.hydrate}>!\n\nCyclic references cannot be safely serialized for client-side usage. Please remove the cyclic reference.`);r.add(e);const n=e.map(e=>G(e,t,r));return r.delete(e),n}function J(e,t={},r=new WeakSet){if(r.has(e))throw new Error(`Cyclic reference detected while serializing props for <${t.displayName} client:${t.hydrate}>!\n\nCyclic references cannot be safely serialized for client-side usage. Please remove the cyclic reference.`);r.add(e);const n=Object.fromEntries(Object.entries(e).map(([e,n])=>[e,G(n,t,r)]));return r.delete(e),n}function G(e,t={},r=new WeakSet){switch(Object.prototype.toString.call(e)){case"[object Date]":return[U,e.toISOString()];case"[object RegExp]":return[M,e.source];case"[object Map]":return[F,K(Array.from(e),t,r)];case"[object Set]":return[D,K(Array.from(e),t,r)];case"[object BigInt]":return[V,e.toString()];case"[object URL]":return[z,e.toString()];case"[object Array]":return[L,K(e,t,r)];case"[object Uint8Array]":return[H,Array.from(e)];case"[object Uint16Array]":return[W,Array.from(e)];case"[object Uint32Array]":return[q,Array.from(e)];default:return null!==e&&"object"==typeof e?[R,J(e,t,r)]:e===1/0?[B,1]:e===-1/0?[B,-1]:void 0===e?[R]:[R,e]}}function Y(e,t){return JSON.stringify(J(e,t))}const Q=Object.freeze(["data-astro-transition-scope","data-astro-transition-persist","data-astro-transition-persist-props"]);
/**
 * shortdash - https://github.com/bibig/node-shorthash
 *
 * @license
 *
 * (The MIT License)
 *
 * Copyright (c) 2013 Bibig <bibig@me.com>
 *
 * Permission is hereby granted, free of charge, to any person
 * obtaining a copy of this software and associated documentation
 * files (the "Software"), to deal in the Software without
 * restriction, including without limitation the rights to use,
 * copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the
 * Software is furnished to do so, subject to the following
 * conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES
 * OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT
 * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,
 * WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
 * OTHER DEALINGS IN THE SOFTWARE.
 */
const X="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXY";const ee=Symbol.for("astro.headAndContent");function te(e,t){const r=e.clientDirectives.get(t);if(!r)throw new Error(`Unknown directive: ${t}`);return r}function re(e,t,r){switch(t){case"both":return`<style>astro-island,astro-slot,astro-static-slot{display:contents}</style><script>${te(e,r)}<\/script><script>(()=>{var A=Object.defineProperty;var g=(i,o,a)=>o in i?A(i,o,{enumerable:!0,configurable:!0,writable:!0,value:a}):i[o]=a;var d=(i,o,a)=>g(i,typeof o!="symbol"?o+"":o,a);{let i={0:t=>m(t),1:t=>a(t),2:t=>new RegExp(t),3:t=>new Date(t),4:t=>new Map(a(t)),5:t=>new Set(a(t)),6:t=>BigInt(t),7:t=>new URL(t),8:t=>new Uint8Array(t),9:t=>new Uint16Array(t),10:t=>new Uint32Array(t),11:t=>1/0*t},o=t=>{let[l,e]=t;return l in i?i[l](e):void 0},a=t=>t.map(o),m=t=>typeof t!="object"||t===null?t:Object.fromEntries(Object.entries(t).map(([l,e])=>[l,o(e)]));class y extends HTMLElement{constructor(){super(...arguments);d(this,"Component");d(this,"hydrator");d(this,"hydrate",async()=>{var b;if(!this.hydrator||!this.isConnected)return;let e=(b=this.parentElement)==null?void 0:b.closest("astro-island[ssr]");if(e){e.addEventListener("astro:hydrate",this.hydrate,{once:!0});return}let c=this.querySelectorAll("astro-slot"),n={},h=this.querySelectorAll("template[data-astro-template]");for(let r of h){let s=r.closest(this.tagName);s!=null&&s.isSameNode(this)&&(n[r.getAttribute("data-astro-template")||"default"]=r.innerHTML,r.remove())}for(let r of c){let s=r.closest(this.tagName);s!=null&&s.isSameNode(this)&&(n[r.getAttribute("name")||"default"]=r.innerHTML)}let p;try{p=this.hasAttribute("props")?m(JSON.parse(this.getAttribute("props"))):{}}catch(r){let s=this.getAttribute("component-url")||"<unknown>",v=this.getAttribute("component-export");throw v&&(s+=\` (export \${v})\`),console.error(\`[hydrate] Error parsing props for component \${s}\`,this.getAttribute("props"),r),r}let u;await this.hydrator(this)(this.Component,p,n,{client:this.getAttribute("client")}),this.removeAttribute("ssr"),this.dispatchEvent(new CustomEvent("astro:hydrate"))});d(this,"unmount",()=>{this.isConnected||this.dispatchEvent(new CustomEvent("astro:unmount"))})}disconnectedCallback(){document.removeEventListener("astro:after-swap",this.unmount),document.addEventListener("astro:after-swap",this.unmount,{once:!0})}connectedCallback(){if(!this.hasAttribute("await-children")||document.readyState==="interactive"||document.readyState==="complete")this.childrenConnectedCallback();else{let e=()=>{document.removeEventListener("DOMContentLoaded",e),c.disconnect(),this.childrenConnectedCallback()},c=new MutationObserver(()=>{var n;((n=this.lastChild)==null?void 0:n.nodeType)===Node.COMMENT_NODE&&this.lastChild.nodeValue==="astro:end"&&(this.lastChild.remove(),e())});c.observe(this,{childList:!0}),document.addEventListener("DOMContentLoaded",e)}}async childrenConnectedCallback(){let e=this.getAttribute("before-hydration-url");e&&await import(e),this.start()}async start(){let e=JSON.parse(this.getAttribute("opts")),c=this.getAttribute("client");if(Astro[c]===void 0){window.addEventListener(\`astro:\${c}\`,()=>this.start(),{once:!0});return}try{await Astro[c](async()=>{let n=this.getAttribute("renderer-url"),[h,{default:p}]=await Promise.all([import(this.getAttribute("component-url")),n?import(n):()=>()=>{}]),u=this.getAttribute("component-export")||"default";if(!u.includes("."))this.Component=h[u];else{this.Component=h;for(let f of u.split("."))this.Component=this.Component[f]}return this.hydrator=p,this.hydrate},e,this)}catch(n){console.error(\`[astro-island] Error hydrating \${this.getAttribute("component-url")}\`,n)}}attributeChangedCallback(){this.hydrate()}}d(y,"observedAttributes",["props"]),customElements.get("astro-island")||customElements.define("astro-island",y)}})();<\/script>`;case"directive":return`<script>${te(e,r)}<\/script>`}}function ne(e){const t=new Set,r=new Set;for(const o of e.scriptHashes)t.add(`'${o}'`);for(const o of e.styleHashes)r.add(`'${o}'`);for(const o of e._metadata.extraStyleHashes)r.add(`'${o}'`);for(const o of e._metadata.extraScriptHashes)t.add(`'${o}'`);let n="";e.directives.length>0&&(n=e.directives.join(";")+";");let s="'self'";e.scriptResources.length>0&&(s=e.scriptResources.map(e=>`${e}`).join(" "));let a="'self'";e.styleResources.length>0&&(a=e.styleResources.map(e=>`${e}`).join(" "));const i=e.isStrictDynamic?" 'strict-dynamic'":"";return`${n} ${`script-src ${s} ${Array.from(t).join(" ")}${i};`} ${`style-src ${a} ${Array.from(r).join(" ")};`}`}const se=Symbol.for("astro:render");function ae(e){return Object.defineProperty(e,se,{value:!0})}const ie=/^(area|base|br|col|command|embed|hr|img|input|keygen|link|meta|param|source|track|wbr)$/i,oe=/^(?:allowfullscreen|async|autofocus|autoplay|checked|controls|default|defer|disabled|disablepictureinpicture|disableremoteplayback|formnovalidate|hidden|inert|loop|nomodule|novalidate|open|playsinline|readonly|required|reversed|scoped|seamless|selected|itemscope)$/i,ce=/&/g,de=/"/g,ue=new Set(["set:html","set:text"]),le=e=>e.trim().replace(/(?!^)\b\w|\s+|\W+/g,(e,t)=>/\W/.test(e)?"":0===t?e:e.toUpperCase()),he=(e,t=!0)=>t?String(e).replace(ce,"&#38;").replace(de,"&#34;"):e,pe=e=>Object.entries(e).filter(([e,t])=>"string"==typeof t&&t.trim()||"number"==typeof t).map(([e,t])=>"-"!==e[0]&&"-"!==e[1]?`${(e=>e.toLowerCase()===e?e:e.replace(/[A-Z]/g,e=>`-${e.toLowerCase()}`))(e)}:${t}`:`${e}:${t}`).join(";");function fe(e){let t="";for(const[r,n]of Object.entries(e))t+=`const ${le(r)} = ${JSON.stringify(n)?.replace(/<\/script>/g,"\\x3C/script>")};\n`;return T(t)}function me(e){return 1===e.length?e[0]:`${e.slice(0,-1).join(", ")} or ${e[e.length-1]}`}function ye(e,t,r,n){return n&&function(e){return e.includes("-")}(n)?T(` ${e}="${he(t,r)}"`):T(t?` ${e}`:"")}function ge(e,t,r=!0,n=""){if(null==e)return"";if(ue.has(t))return"";if("class:list"===t){const n=he(P(e),r);return""===n?"":T(` ${t.slice(0,-5)}="${n}"`)}if("style"===t&&!(e instanceof O)){if(Array.isArray(e)&&2===e.length)return T(` ${t}="${he(`${pe(e[0])};${e[1]}`,r)}"`);if("object"==typeof e)return T(` ${t}="${he(pe(e),r)}"`)}return"className"===t?T(` class="${he(e,r)}"`):"string"==typeof e&&e.includes("&")&&function(e){try{const t=new URL(e);return xe.includes(t.protocol)}catch{return!1}}(e)?T(` ${t}="${he(e,!1)}"`):oe.test(t)?ye(t,e,r,n):""===e?T(` ${t}`):"popover"===t&&"boolean"==typeof e||"download"===t&&"boolean"==typeof e?ye(t,e,r,n):T(` ${t}="${he(e,r)}"`)}function ve(e,t=!0,r){let n="";for(const[s,a]of Object.entries(e))n+=ge(a,s,t,r);return T(n)}function _e(e,{props:t,children:r=""},n=!0){const{lang:s,"data-astro-id":a,"define:vars":i,...o}=t;return i&&("style"===e&&(delete o["is:global"],delete o["is:scoped"]),"script"===e&&(delete o.hoist,r=fe(i)+"\n"+r)),null!=r&&""!=r||!ie.test(e)?`<${e}${ve(o,n,e)}>${r}</${e}>`:`<${e}${ve(o,n,e)}>`}const be=()=>{};class we{constructor(e,t){o(this,"chunks",[]),o(this,"renderPromise"),o(this,"destination"),o(this,"flushed",!1),this.destination=e,this.renderPromise=t(this),$(this.renderPromise)&&Promise.resolve(this.renderPromise).catch(be)}write(e){this.flushed?this.destination.write(e):this.chunks.push(e)}flush(){if(this.flushed)throw new Error("The render buffer has already been flushed.");this.flushed=!0;for(const e of this.chunks)this.destination.write(e);return this.renderPromise}}function ke(e,t){return new we(e,t)}"undefined"!=typeof process&&Object.prototype.toString.call(process);const xe=["http:","https:"];const Ae=(e,t,r)=>{const n=JSON.stringify(e.props),s=e.children;return t===r.findIndex(e=>JSON.stringify(e.props)===n&&e.children==s)};function Se(e){e._metadata.hasRenderedHead=!0;let t="";e.shouldInjectCspMetaTags&&"meta"===e.cspDestination&&(t+=_e("meta",{props:{"http-equiv":"content-security-policy",content:ne(e)},children:""},!1));const r=Array.from(e.styles).filter(Ae).map(e=>"stylesheet"===e.props.rel?_e("link",e):_e("style",e));e.styles.clear();const n=Array.from(e.scripts).filter(Ae).map(t=>(e.userAssetsBase&&(t.props.src=("/"===e.base?"":e.base)+e.userAssetsBase+t.props.src),_e("script",t,!1))),s=Array.from(e.links).filter(Ae).map(e=>_e("link",e,!1));if(t+=r.join("\n")+s.join("\n")+n.join("\n"),e._metadata.extraHead.length>0)for(const a of e._metadata.extraHead)t+=a;return T(t)}function $e(){return ae({type:"maybe-head"})}const Ce="0123456789ABCDEF";var je,Oe,Te,Ne;function Ie(e){return function(e,t,r){let n="";for(let s=0;s<e.byteLength;s+=3){let a=0,i=0;for(let t=0;t<3&&s+t<e.byteLength;t++)a=a<<8|e[s+t],i+=8;for(let e=0;e<4;e++)i>=6?(n+=t[a>>i-6&63],i-=6):i>0?(n+=t[a<<6-i&63],i=0):r===Ze.Include&&(n+="=")}return n}(e,Ee,Ze.Include)}(Oe=je||(je={}))[Oe.Include=0]="Include",Oe[Oe.None=1]="None",(Ne=Te||(Te={}))[Ne.Required=0]="Required",Ne[Ne.Ignore=1]="Ignore";const Ee="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";var Ze,Pe,Re,Le,Me;!function(e){e[e.Include=0]="Include",e[e.None=1]="None"}(Ze||(Ze={})),function(e){e[e.Required=0]="Required",e[e.Ignore=1]="Ignore"}(Pe||(Pe={})),(Le=Re||(Re={})).assertEqual=e=>{},Le.assertIs=function(e){},Le.assertNever=function(e){throw new Error},Le.arrayToEnum=e=>{const t={};for(const r of e)t[r]=r;return t},Le.getValidEnumValues=e=>{const t=Le.objectKeys(e).filter(t=>"number"!=typeof e[e[t]]),r={};for(const n of t)r[n]=e[n];return Le.objectValues(r)},Le.objectValues=e=>Le.objectKeys(e).map(function(t){return e[t]}),Le.objectKeys="function"==typeof Object.keys?e=>Object.keys(e):e=>{const t=[];for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.push(r);return t},Le.find=(e,t)=>{for(const r of e)if(t(r))return r},Le.isInteger="function"==typeof Number.isInteger?e=>Number.isInteger(e):e=>"number"==typeof e&&Number.isFinite(e)&&Math.floor(e)===e,Le.joinValues=function(e,t=" | "){return e.map(e=>"string"==typeof e?`'${e}'`:e).join(t)},Le.jsonStringifyReplacer=(e,t)=>"bigint"==typeof t?t.toString():t,(Me||(Me={})).mergeShapes=(e,t)=>({...e,...t});const Ue=Re.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Fe=e=>{switch(typeof e){case"undefined":return Ue.undefined;case"string":return Ue.string;case"number":return Number.isNaN(e)?Ue.nan:Ue.number;case"boolean":return Ue.boolean;case"function":return Ue.function;case"bigint":return Ue.bigint;case"symbol":return Ue.symbol;case"object":return Array.isArray(e)?Ue.array:null===e?Ue.null:e.then&&"function"==typeof e.then&&e.catch&&"function"==typeof e.catch?Ue.promise:"undefined"!=typeof Map&&e instanceof Map?Ue.map:"undefined"!=typeof Set&&e instanceof Set?Ue.set:"undefined"!=typeof Date&&e instanceof Date?Ue.date:Ue.object;default:return Ue.unknown}},De=Re.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Ve extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=e=>{this.issues=[...this.issues,e]},this.addIssues=(e=[])=>{this.issues=[...this.issues,...e]};const t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}format(e){const t=e||function(e){return e.message},r={_errors:[]},n=e=>{for(const s of e.issues)if("invalid_union"===s.code)s.unionErrors.map(n);else if("invalid_return_type"===s.code)n(s.returnTypeError);else if("invalid_arguments"===s.code)n(s.argumentsError);else if(0===s.path.length)r._errors.push(t(s));else{let e=r,n=0;for(;n<s.path.length;){const r=s.path[n];n===s.path.length-1?(e[r]=e[r]||{_errors:[]},e[r]._errors.push(t(s))):e[r]=e[r]||{_errors:[]},e=e[r],n++}}};return n(this),r}static assert(e){if(!(e instanceof Ve))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Re.jsonStringifyReplacer,2)}get isEmpty(){return 0===this.issues.length}flatten(e=e=>e.message){const t={},r=[];for(const n of this.issues)if(n.path.length>0){const r=n.path[0];t[r]=t[r]||[],t[r].push(e(n))}else r.push(e(n));return{formErrors:r,fieldErrors:t}}get formErrors(){return this.flatten()}}Ve.create=e=>new Ve(e);const ze=(e,t)=>{let r;switch(e.code){case De.invalid_type:r=e.received===Ue.undefined?"Required":`Expected ${e.expected}, received ${e.received}`;break;case De.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,Re.jsonStringifyReplacer)}`;break;case De.unrecognized_keys:r=`Unrecognized key(s) in object: ${Re.joinValues(e.keys,", ")}`;break;case De.invalid_union:r="Invalid input";break;case De.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${Re.joinValues(e.options)}`;break;case De.invalid_enum_value:r=`Invalid enum value. Expected ${Re.joinValues(e.options)}, received '${e.received}'`;break;case De.invalid_arguments:r="Invalid function arguments";break;case De.invalid_return_type:r="Invalid function return type";break;case De.invalid_date:r="Invalid date";break;case De.invalid_string:"object"==typeof e.validation?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,"number"==typeof e.validation.position&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:Re.assertNever(e.validation):r="regex"!==e.validation?`Invalid ${e.validation}`:"Invalid";break;case De.too_small:r="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:"number"===e.type||"bigint"===e.type?`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:"date"===e.type?`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:"Invalid input";break;case De.too_big:r="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"bigint"===e.type?`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"date"===e.type?`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:"Invalid input";break;case De.custom:r="Invalid input";break;case De.invalid_intersection_types:r="Intersection results could not be merged";break;case De.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case De.not_finite:r="Number must be finite";break;default:r=t.defaultError,Re.assertNever(e)}return{message:r}};let He=ze;function We(e,t){const r=He,n=(e=>{const{data:t,path:r,errorMaps:n,issueData:s}=e,a=[...r,...s.path||[]],i={...s,path:a};if(void 0!==s.message)return{...s,path:a,message:s.message};let o="";const c=n.filter(e=>!!e).slice().reverse();for(const d of c)o=d(i,{data:t,defaultError:o}).message;return{...s,path:a,message:o}})({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===ze?void 0:ze].filter(e=>!!e)});e.common.issues.push(n)}class qe{constructor(){this.value="valid"}dirty(){"valid"===this.value&&(this.value="dirty")}abort(){"aborted"!==this.value&&(this.value="aborted")}static mergeArray(e,t){const r=[];for(const n of t){if("aborted"===n.status)return Be;"dirty"===n.status&&e.dirty(),r.push(n.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,t){const r=[];for(const n of t){const e=await n.key,t=await n.value;r.push({key:e,value:t})}return qe.mergeObjectSync(e,r)}static mergeObjectSync(e,t){const r={};for(const n of t){const{key:t,value:s}=n;if("aborted"===t.status)return Be;if("aborted"===s.status)return Be;"dirty"===t.status&&e.dirty(),"dirty"===s.status&&e.dirty(),"__proto__"===t.value||void 0===s.value&&!n.alwaysSet||(r[t.value]=s.value)}return{status:e.value,value:r}}}const Be=Object.freeze({status:"aborted"}),Ke=e=>({status:"dirty",value:e}),Je=e=>({status:"valid",value:e}),Ge=e=>"aborted"===e.status,Ye=e=>"dirty"===e.status,Qe=e=>"valid"===e.status,Xe=e=>"undefined"!=typeof Promise&&e instanceof Promise;var et,tt;(tt=et||(et={})).errToObj=e=>"string"==typeof e?{message:e}:e||{},tt.toString=e=>"string"==typeof e?e:e?.message;class rt{constructor(e,t,r,n){this._cachedPath=[],this.parent=e,this.data=t,this._path=r,this._key=n}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const nt=(e,t)=>{if(Qe(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const t=new Ve(e.common.issues);return this._error=t,this._error}}};function st(e){if(!e)return{};const{errorMap:t,invalid_type_error:r,required_error:n,description:s}=e;if(t&&(r||n))throw new Error('Can\'t use "invalid_type_error" or "required_error" in conjunction with custom error map.');if(t)return{errorMap:t,description:s};return{errorMap:(t,s)=>{const{message:a}=e;return"invalid_enum_value"===t.code?{message:a??s.defaultError}:void 0===s.data?{message:a??n??s.defaultError}:"invalid_type"!==t.code?{message:s.defaultError}:{message:a??r??s.defaultError}},description:s}}class at{get description(){return this._def.description}_getType(e){return Fe(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:Fe(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new qe,ctx:{common:e.parent.common,data:e.data,parsedType:Fe(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const t=this._parse(e);if(Xe(t))throw new Error("Synchronous parse encountered promise.");return t}_parseAsync(e){const t=this._parse(e);return Promise.resolve(t)}parse(e,t){const r=this.safeParse(e,t);if(r.success)return r.data;throw r.error}safeParse(e,t){const r={common:{issues:[],async:t?.async??!1,contextualErrorMap:t?.errorMap},path:t?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Fe(e)},n=this._parseSync({data:e,path:r.path,parent:r});return nt(r,n)}"~validate"(e){const t={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Fe(e)};if(!this["~standard"].async)try{const r=this._parseSync({data:e,path:[],parent:t});return Qe(r)?{value:r.value}:{issues:t.common.issues}}catch(r){r?.message?.toLowerCase()?.includes("encountered")&&(this["~standard"].async=!0),t.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:t}).then(e=>Qe(e)?{value:e.value}:{issues:t.common.issues})}async parseAsync(e,t){const r=await this.safeParseAsync(e,t);if(r.success)return r.data;throw r.error}async safeParseAsync(e,t){const r={common:{issues:[],contextualErrorMap:t?.errorMap,async:!0},path:t?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Fe(e)},n=this._parse({data:e,path:r.path,parent:r}),s=await(Xe(n)?n:Promise.resolve(n));return nt(r,s)}refine(e,t){const r=e=>"string"==typeof t||void 0===t?{message:t}:"function"==typeof t?t(e):t;return this._refinement((t,n)=>{const s=e(t),a=()=>n.addIssue({code:De.custom,...r(t)});return"undefined"!=typeof Promise&&s instanceof Promise?s.then(e=>!!e||(a(),!1)):!!s||(a(),!1)})}refinement(e,t){return this._refinement((r,n)=>!!e(r)||(n.addIssue("function"==typeof t?t(r,n):t),!1))}_refinement(e){return new nr({schema:this,typeName:fr.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:e=>this["~validate"](e)}}optional(){return sr.create(this,this._def)}nullable(){return ar.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Vt.create(this)}promise(){return rr.create(this,this._def)}or(e){return Wt.create([this,e],this._def)}and(e){return Bt.create(this,e,this._def)}transform(e){return new nr({...st(this._def),schema:this,typeName:fr.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const t="function"==typeof e?e:()=>e;return new ir({...st(this._def),innerType:this,defaultValue:t,typeName:fr.ZodDefault})}brand(){return new dr({typeName:fr.ZodBranded,type:this,...st(this._def)})}catch(e){const t="function"==typeof e?e:()=>e;return new or({...st(this._def),innerType:this,catchValue:t,typeName:fr.ZodCatch})}describe(e){return new(0,this.constructor)({...this._def,description:e})}pipe(e){return ur.create(this,e)}readonly(){return lr.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const it=/^c[^\s-]{8,}$/i,ot=/^[0-9a-z]+$/,ct=/^[0-9A-HJKMNP-TV-Z]{26}$/i,dt=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,ut=/^[a-z0-9_-]{21}$/i,lt=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,ht=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,pt=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i;let ft;const mt=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,yt=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,gt=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,vt=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,_t=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,bt=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,wt="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",kt=new RegExp(`^${wt}$`);function xt(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:null==e.precision&&(t=`${t}(\\.\\d+)?`);return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${e.precision?"+":"?"}`}function At(e){return new RegExp(`^${xt(e)}$`)}function St(e){let t=`${wt}T${xt(e)}`;const r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,new RegExp(`^${t}$`)}function $t(e,t){return!("v4"!==t&&t||!mt.test(e))||!("v6"!==t&&t||!gt.test(e))}function Ct(e,t){if(!lt.test(e))return!1;try{const[r]=e.split(".");if(!r)return!1;const n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),s=JSON.parse(atob(n));return"object"==typeof s&&null!==s&&((!("typ"in s)||"JWT"===s?.typ)&&(!!s.alg&&(!t||s.alg===t)))}catch{return!1}}function jt(e,t){return!("v4"!==t&&t||!yt.test(e))||!("v6"!==t&&t||!vt.test(e))}class Ot extends at{_parse(e){this._def.coerce&&(e.data=String(e.data));if(this._getType(e)!==Ue.string){const t=this._getOrReturnCtx(e);return We(t,{code:De.invalid_type,expected:Ue.string,received:t.parsedType}),Be}const t=new qe;let r;for(const n of this._def.checks)if("min"===n.kind)e.data.length<n.value&&(r=this._getOrReturnCtx(e,r),We(r,{code:De.too_small,minimum:n.value,type:"string",inclusive:!0,exact:!1,message:n.message}),t.dirty());else if("max"===n.kind)e.data.length>n.value&&(r=this._getOrReturnCtx(e,r),We(r,{code:De.too_big,maximum:n.value,type:"string",inclusive:!0,exact:!1,message:n.message}),t.dirty());else if("length"===n.kind){const s=e.data.length>n.value,a=e.data.length<n.value;(s||a)&&(r=this._getOrReturnCtx(e,r),s?We(r,{code:De.too_big,maximum:n.value,type:"string",inclusive:!0,exact:!0,message:n.message}):a&&We(r,{code:De.too_small,minimum:n.value,type:"string",inclusive:!0,exact:!0,message:n.message}),t.dirty())}else if("email"===n.kind)pt.test(e.data)||(r=this._getOrReturnCtx(e,r),We(r,{validation:"email",code:De.invalid_string,message:n.message}),t.dirty());else if("emoji"===n.kind)ft||(ft=new RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),ft.test(e.data)||(r=this._getOrReturnCtx(e,r),We(r,{validation:"emoji",code:De.invalid_string,message:n.message}),t.dirty());else if("uuid"===n.kind)dt.test(e.data)||(r=this._getOrReturnCtx(e,r),We(r,{validation:"uuid",code:De.invalid_string,message:n.message}),t.dirty());else if("nanoid"===n.kind)ut.test(e.data)||(r=this._getOrReturnCtx(e,r),We(r,{validation:"nanoid",code:De.invalid_string,message:n.message}),t.dirty());else if("cuid"===n.kind)it.test(e.data)||(r=this._getOrReturnCtx(e,r),We(r,{validation:"cuid",code:De.invalid_string,message:n.message}),t.dirty());else if("cuid2"===n.kind)ot.test(e.data)||(r=this._getOrReturnCtx(e,r),We(r,{validation:"cuid2",code:De.invalid_string,message:n.message}),t.dirty());else if("ulid"===n.kind)ct.test(e.data)||(r=this._getOrReturnCtx(e,r),We(r,{validation:"ulid",code:De.invalid_string,message:n.message}),t.dirty());else if("url"===n.kind)try{new URL(e.data)}catch{r=this._getOrReturnCtx(e,r),We(r,{validation:"url",code:De.invalid_string,message:n.message}),t.dirty()}else if("regex"===n.kind){n.regex.lastIndex=0;n.regex.test(e.data)||(r=this._getOrReturnCtx(e,r),We(r,{validation:"regex",code:De.invalid_string,message:n.message}),t.dirty())}else if("trim"===n.kind)e.data=e.data.trim();else if("includes"===n.kind)e.data.includes(n.value,n.position)||(r=this._getOrReturnCtx(e,r),We(r,{code:De.invalid_string,validation:{includes:n.value,position:n.position},message:n.message}),t.dirty());else if("toLowerCase"===n.kind)e.data=e.data.toLowerCase();else if("toUpperCase"===n.kind)e.data=e.data.toUpperCase();else if("startsWith"===n.kind)e.data.startsWith(n.value)||(r=this._getOrReturnCtx(e,r),We(r,{code:De.invalid_string,validation:{startsWith:n.value},message:n.message}),t.dirty());else if("endsWith"===n.kind)e.data.endsWith(n.value)||(r=this._getOrReturnCtx(e,r),We(r,{code:De.invalid_string,validation:{endsWith:n.value},message:n.message}),t.dirty());else if("datetime"===n.kind){St(n).test(e.data)||(r=this._getOrReturnCtx(e,r),We(r,{code:De.invalid_string,validation:"datetime",message:n.message}),t.dirty())}else if("date"===n.kind){kt.test(e.data)||(r=this._getOrReturnCtx(e,r),We(r,{code:De.invalid_string,validation:"date",message:n.message}),t.dirty())}else if("time"===n.kind){At(n).test(e.data)||(r=this._getOrReturnCtx(e,r),We(r,{code:De.invalid_string,validation:"time",message:n.message}),t.dirty())}else"duration"===n.kind?ht.test(e.data)||(r=this._getOrReturnCtx(e,r),We(r,{validation:"duration",code:De.invalid_string,message:n.message}),t.dirty()):"ip"===n.kind?$t(e.data,n.version)||(r=this._getOrReturnCtx(e,r),We(r,{validation:"ip",code:De.invalid_string,message:n.message}),t.dirty()):"jwt"===n.kind?Ct(e.data,n.alg)||(r=this._getOrReturnCtx(e,r),We(r,{validation:"jwt",code:De.invalid_string,message:n.message}),t.dirty()):"cidr"===n.kind?jt(e.data,n.version)||(r=this._getOrReturnCtx(e,r),We(r,{validation:"cidr",code:De.invalid_string,message:n.message}),t.dirty()):"base64"===n.kind?_t.test(e.data)||(r=this._getOrReturnCtx(e,r),We(r,{validation:"base64",code:De.invalid_string,message:n.message}),t.dirty()):"base64url"===n.kind?bt.test(e.data)||(r=this._getOrReturnCtx(e,r),We(r,{validation:"base64url",code:De.invalid_string,message:n.message}),t.dirty()):Re.assertNever(n);return{status:t.value,value:e.data}}_regex(e,t,r){return this.refinement(t=>e.test(t),{validation:t,code:De.invalid_string,...et.errToObj(r)})}_addCheck(e){return new Ot({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...et.errToObj(e)})}url(e){return this._addCheck({kind:"url",...et.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...et.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...et.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...et.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...et.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...et.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...et.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...et.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...et.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...et.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...et.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...et.errToObj(e)})}datetime(e){return"string"==typeof e?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:void 0===e?.precision?null:e?.precision,offset:e?.offset??!1,local:e?.local??!1,...et.errToObj(e?.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return"string"==typeof e?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:void 0===e?.precision?null:e?.precision,...et.errToObj(e?.message)})}duration(e){return this._addCheck({kind:"duration",...et.errToObj(e)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...et.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:t?.position,...et.errToObj(t?.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...et.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...et.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...et.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...et.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...et.errToObj(t)})}nonempty(e){return this.min(1,et.errToObj(e))}trim(){return new Ot({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Ot({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Ot({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>"datetime"===e.kind)}get isDate(){return!!this._def.checks.find(e=>"date"===e.kind)}get isTime(){return!!this._def.checks.find(e=>"time"===e.kind)}get isDuration(){return!!this._def.checks.find(e=>"duration"===e.kind)}get isEmail(){return!!this._def.checks.find(e=>"email"===e.kind)}get isURL(){return!!this._def.checks.find(e=>"url"===e.kind)}get isEmoji(){return!!this._def.checks.find(e=>"emoji"===e.kind)}get isUUID(){return!!this._def.checks.find(e=>"uuid"===e.kind)}get isNANOID(){return!!this._def.checks.find(e=>"nanoid"===e.kind)}get isCUID(){return!!this._def.checks.find(e=>"cuid"===e.kind)}get isCUID2(){return!!this._def.checks.find(e=>"cuid2"===e.kind)}get isULID(){return!!this._def.checks.find(e=>"ulid"===e.kind)}get isIP(){return!!this._def.checks.find(e=>"ip"===e.kind)}get isCIDR(){return!!this._def.checks.find(e=>"cidr"===e.kind)}get isBase64(){return!!this._def.checks.find(e=>"base64"===e.kind)}get isBase64url(){return!!this._def.checks.find(e=>"base64url"===e.kind)}get minLength(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}function Tt(e,t){const r=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,s=r>n?r:n;return Number.parseInt(e.toFixed(s).replace(".",""))%Number.parseInt(t.toFixed(s).replace(".",""))/10**s}Ot.create=e=>new Ot({checks:[],typeName:fr.ZodString,coerce:e?.coerce??!1,...st(e)});class Nt extends at{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){this._def.coerce&&(e.data=Number(e.data));if(this._getType(e)!==Ue.number){const t=this._getOrReturnCtx(e);return We(t,{code:De.invalid_type,expected:Ue.number,received:t.parsedType}),Be}let t;const r=new qe;for(const n of this._def.checks)if("int"===n.kind)Re.isInteger(e.data)||(t=this._getOrReturnCtx(e,t),We(t,{code:De.invalid_type,expected:"integer",received:"float",message:n.message}),r.dirty());else if("min"===n.kind){(n.inclusive?e.data<n.value:e.data<=n.value)&&(t=this._getOrReturnCtx(e,t),We(t,{code:De.too_small,minimum:n.value,type:"number",inclusive:n.inclusive,exact:!1,message:n.message}),r.dirty())}else if("max"===n.kind){(n.inclusive?e.data>n.value:e.data>=n.value)&&(t=this._getOrReturnCtx(e,t),We(t,{code:De.too_big,maximum:n.value,type:"number",inclusive:n.inclusive,exact:!1,message:n.message}),r.dirty())}else"multipleOf"===n.kind?0!==Tt(e.data,n.value)&&(t=this._getOrReturnCtx(e,t),We(t,{code:De.not_multiple_of,multipleOf:n.value,message:n.message}),r.dirty()):"finite"===n.kind?Number.isFinite(e.data)||(t=this._getOrReturnCtx(e,t),We(t,{code:De.not_finite,message:n.message}),r.dirty()):Re.assertNever(n);return{status:r.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,et.toString(t))}gt(e,t){return this.setLimit("min",e,!1,et.toString(t))}lte(e,t){return this.setLimit("max",e,!0,et.toString(t))}lt(e,t){return this.setLimit("max",e,!1,et.toString(t))}setLimit(e,t,r,n){return new Nt({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:et.toString(n)}]})}_addCheck(e){return new Nt({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:et.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:et.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:et.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:et.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:et.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:et.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:et.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:et.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:et.toString(e)})}get minValue(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find(e=>"int"===e.kind||"multipleOf"===e.kind&&Re.isInteger(e.value))}get isFinite(){let e=null,t=null;for(const r of this._def.checks){if("finite"===r.kind||"int"===r.kind||"multipleOf"===r.kind)return!0;"min"===r.kind?(null===t||r.value>t)&&(t=r.value):"max"===r.kind&&(null===e||r.value<e)&&(e=r.value)}return Number.isFinite(t)&&Number.isFinite(e)}}Nt.create=e=>new Nt({checks:[],typeName:fr.ZodNumber,coerce:e?.coerce||!1,...st(e)});class It extends at{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==Ue.bigint)return this._getInvalidInput(e);let t;const r=new qe;for(const n of this._def.checks)if("min"===n.kind){(n.inclusive?e.data<n.value:e.data<=n.value)&&(t=this._getOrReturnCtx(e,t),We(t,{code:De.too_small,type:"bigint",minimum:n.value,inclusive:n.inclusive,message:n.message}),r.dirty())}else if("max"===n.kind){(n.inclusive?e.data>n.value:e.data>=n.value)&&(t=this._getOrReturnCtx(e,t),We(t,{code:De.too_big,type:"bigint",maximum:n.value,inclusive:n.inclusive,message:n.message}),r.dirty())}else"multipleOf"===n.kind?e.data%n.value!==BigInt(0)&&(t=this._getOrReturnCtx(e,t),We(t,{code:De.not_multiple_of,multipleOf:n.value,message:n.message}),r.dirty()):Re.assertNever(n);return{status:r.value,value:e.data}}_getInvalidInput(e){const t=this._getOrReturnCtx(e);return We(t,{code:De.invalid_type,expected:Ue.bigint,received:t.parsedType}),Be}gte(e,t){return this.setLimit("min",e,!0,et.toString(t))}gt(e,t){return this.setLimit("min",e,!1,et.toString(t))}lte(e,t){return this.setLimit("max",e,!0,et.toString(t))}lt(e,t){return this.setLimit("max",e,!1,et.toString(t))}setLimit(e,t,r,n){return new It({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:et.toString(n)}]})}_addCheck(e){return new It({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:et.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:et.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:et.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:et.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:et.toString(t)})}get minValue(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}It.create=e=>new It({checks:[],typeName:fr.ZodBigInt,coerce:e?.coerce??!1,...st(e)});class Et extends at{_parse(e){this._def.coerce&&(e.data=Boolean(e.data));if(this._getType(e)!==Ue.boolean){const t=this._getOrReturnCtx(e);return We(t,{code:De.invalid_type,expected:Ue.boolean,received:t.parsedType}),Be}return Je(e.data)}}Et.create=e=>new Et({typeName:fr.ZodBoolean,coerce:e?.coerce||!1,...st(e)});class Zt extends at{_parse(e){this._def.coerce&&(e.data=new Date(e.data));if(this._getType(e)!==Ue.date){const t=this._getOrReturnCtx(e);return We(t,{code:De.invalid_type,expected:Ue.date,received:t.parsedType}),Be}if(Number.isNaN(e.data.getTime())){return We(this._getOrReturnCtx(e),{code:De.invalid_date}),Be}const t=new qe;let r;for(const n of this._def.checks)"min"===n.kind?e.data.getTime()<n.value&&(r=this._getOrReturnCtx(e,r),We(r,{code:De.too_small,message:n.message,inclusive:!0,exact:!1,minimum:n.value,type:"date"}),t.dirty()):"max"===n.kind?e.data.getTime()>n.value&&(r=this._getOrReturnCtx(e,r),We(r,{code:De.too_big,message:n.message,inclusive:!0,exact:!1,maximum:n.value,type:"date"}),t.dirty()):Re.assertNever(n);return{status:t.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Zt({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:et.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:et.toString(t)})}get minDate(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return null!=e?new Date(e):null}get maxDate(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return null!=e?new Date(e):null}}Zt.create=e=>new Zt({checks:[],coerce:e?.coerce||!1,typeName:fr.ZodDate,...st(e)});class Pt extends at{_parse(e){if(this._getType(e)!==Ue.symbol){const t=this._getOrReturnCtx(e);return We(t,{code:De.invalid_type,expected:Ue.symbol,received:t.parsedType}),Be}return Je(e.data)}}Pt.create=e=>new Pt({typeName:fr.ZodSymbol,...st(e)});class Rt extends at{_parse(e){if(this._getType(e)!==Ue.undefined){const t=this._getOrReturnCtx(e);return We(t,{code:De.invalid_type,expected:Ue.undefined,received:t.parsedType}),Be}return Je(e.data)}}Rt.create=e=>new Rt({typeName:fr.ZodUndefined,...st(e)});class Lt extends at{_parse(e){if(this._getType(e)!==Ue.null){const t=this._getOrReturnCtx(e);return We(t,{code:De.invalid_type,expected:Ue.null,received:t.parsedType}),Be}return Je(e.data)}}Lt.create=e=>new Lt({typeName:fr.ZodNull,...st(e)});class Mt extends at{constructor(){super(...arguments),this._any=!0}_parse(e){return Je(e.data)}}Mt.create=e=>new Mt({typeName:fr.ZodAny,...st(e)});class Ut extends at{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Je(e.data)}}Ut.create=e=>new Ut({typeName:fr.ZodUnknown,...st(e)});class Ft extends at{_parse(e){const t=this._getOrReturnCtx(e);return We(t,{code:De.invalid_type,expected:Ue.never,received:t.parsedType}),Be}}Ft.create=e=>new Ft({typeName:fr.ZodNever,...st(e)});class Dt extends at{_parse(e){if(this._getType(e)!==Ue.undefined){const t=this._getOrReturnCtx(e);return We(t,{code:De.invalid_type,expected:Ue.void,received:t.parsedType}),Be}return Je(e.data)}}Dt.create=e=>new Dt({typeName:fr.ZodVoid,...st(e)});class Vt extends at{_parse(e){const{ctx:t,status:r}=this._processInputParams(e),n=this._def;if(t.parsedType!==Ue.array)return We(t,{code:De.invalid_type,expected:Ue.array,received:t.parsedType}),Be;if(null!==n.exactLength){const e=t.data.length>n.exactLength.value,s=t.data.length<n.exactLength.value;(e||s)&&(We(t,{code:e?De.too_big:De.too_small,minimum:s?n.exactLength.value:void 0,maximum:e?n.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:n.exactLength.message}),r.dirty())}if(null!==n.minLength&&t.data.length<n.minLength.value&&(We(t,{code:De.too_small,minimum:n.minLength.value,type:"array",inclusive:!0,exact:!1,message:n.minLength.message}),r.dirty()),null!==n.maxLength&&t.data.length>n.maxLength.value&&(We(t,{code:De.too_big,maximum:n.maxLength.value,type:"array",inclusive:!0,exact:!1,message:n.maxLength.message}),r.dirty()),t.common.async)return Promise.all([...t.data].map((e,r)=>n.type._parseAsync(new rt(t,e,t.path,r)))).then(e=>qe.mergeArray(r,e));const s=[...t.data].map((e,r)=>n.type._parseSync(new rt(t,e,t.path,r)));return qe.mergeArray(r,s)}get element(){return this._def.type}min(e,t){return new Vt({...this._def,minLength:{value:e,message:et.toString(t)}})}max(e,t){return new Vt({...this._def,maxLength:{value:e,message:et.toString(t)}})}length(e,t){return new Vt({...this._def,exactLength:{value:e,message:et.toString(t)}})}nonempty(e){return this.min(1,e)}}function zt(e){if(e instanceof Ht){const t={};for(const r in e.shape){const n=e.shape[r];t[r]=sr.create(zt(n))}return new Ht({...e._def,shape:()=>t})}return e instanceof Vt?new Vt({...e._def,type:zt(e.element)}):e instanceof sr?sr.create(zt(e.unwrap())):e instanceof ar?ar.create(zt(e.unwrap())):e instanceof Kt?Kt.create(e.items.map(e=>zt(e))):e}Vt.create=(e,t)=>new Vt({type:e,minLength:null,maxLength:null,exactLength:null,typeName:fr.ZodArray,...st(t)});class Ht extends at{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(null!==this._cached)return this._cached;const e=this._def.shape(),t=Re.objectKeys(e);return this._cached={shape:e,keys:t},this._cached}_parse(e){if(this._getType(e)!==Ue.object){const t=this._getOrReturnCtx(e);return We(t,{code:De.invalid_type,expected:Ue.object,received:t.parsedType}),Be}const{status:t,ctx:r}=this._processInputParams(e),{shape:n,keys:s}=this._getCached(),a=[];if(!(this._def.catchall instanceof Ft&&"strip"===this._def.unknownKeys))for(const o in r.data)s.includes(o)||a.push(o);const i=[];for(const o of s){const e=n[o],t=r.data[o];i.push({key:{status:"valid",value:o},value:e._parse(new rt(r,t,r.path,o)),alwaysSet:o in r.data})}if(this._def.catchall instanceof Ft){const e=this._def.unknownKeys;if("passthrough"===e)for(const t of a)i.push({key:{status:"valid",value:t},value:{status:"valid",value:r.data[t]}});else if("strict"===e)a.length>0&&(We(r,{code:De.unrecognized_keys,keys:a}),t.dirty());else if("strip"!==e)throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const e=this._def.catchall;for(const t of a){const n=r.data[t];i.push({key:{status:"valid",value:t},value:e._parse(new rt(r,n,r.path,t)),alwaysSet:t in r.data})}}return r.common.async?Promise.resolve().then(async()=>{const e=[];for(const t of i){const r=await t.key,n=await t.value;e.push({key:r,value:n,alwaysSet:t.alwaysSet})}return e}).then(e=>qe.mergeObjectSync(t,e)):qe.mergeObjectSync(t,i)}get shape(){return this._def.shape()}strict(e){return et.errToObj,new Ht({...this._def,unknownKeys:"strict",...void 0!==e?{errorMap:(t,r)=>{const n=this._def.errorMap?.(t,r).message??r.defaultError;return"unrecognized_keys"===t.code?{message:et.errToObj(e).message??n}:{message:n}}}:{}})}strip(){return new Ht({...this._def,unknownKeys:"strip"})}passthrough(){return new Ht({...this._def,unknownKeys:"passthrough"})}extend(e){return new Ht({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Ht({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:fr.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new Ht({...this._def,catchall:e})}pick(e){const t={};for(const r of Re.objectKeys(e))e[r]&&this.shape[r]&&(t[r]=this.shape[r]);return new Ht({...this._def,shape:()=>t})}omit(e){const t={};for(const r of Re.objectKeys(this.shape))e[r]||(t[r]=this.shape[r]);return new Ht({...this._def,shape:()=>t})}deepPartial(){return zt(this)}partial(e){const t={};for(const r of Re.objectKeys(this.shape)){const n=this.shape[r];e&&!e[r]?t[r]=n:t[r]=n.optional()}return new Ht({...this._def,shape:()=>t})}required(e){const t={};for(const r of Re.objectKeys(this.shape))if(e&&!e[r])t[r]=this.shape[r];else{let e=this.shape[r];for(;e instanceof sr;)e=e._def.innerType;t[r]=e}return new Ht({...this._def,shape:()=>t})}keyof(){return Xt(Re.objectKeys(this.shape))}}Ht.create=(e,t)=>new Ht({shape:()=>e,unknownKeys:"strip",catchall:Ft.create(),typeName:fr.ZodObject,...st(t)}),Ht.strictCreate=(e,t)=>new Ht({shape:()=>e,unknownKeys:"strict",catchall:Ft.create(),typeName:fr.ZodObject,...st(t)}),Ht.lazycreate=(e,t)=>new Ht({shape:e,unknownKeys:"strip",catchall:Ft.create(),typeName:fr.ZodObject,...st(t)});class Wt extends at{_parse(e){const{ctx:t}=this._processInputParams(e),r=this._def.options;if(t.common.async)return Promise.all(r.map(async e=>{const r={...t,common:{...t.common,issues:[]},parent:null};return{result:await e._parseAsync({data:t.data,path:t.path,parent:r}),ctx:r}})).then(function(e){for(const t of e)if("valid"===t.result.status)return t.result;for(const n of e)if("dirty"===n.result.status)return t.common.issues.push(...n.ctx.common.issues),n.result;const r=e.map(e=>new Ve(e.ctx.common.issues));return We(t,{code:De.invalid_union,unionErrors:r}),Be});{let e;const n=[];for(const a of r){const r={...t,common:{...t.common,issues:[]},parent:null},s=a._parseSync({data:t.data,path:t.path,parent:r});if("valid"===s.status)return s;"dirty"!==s.status||e||(e={result:s,ctx:r}),r.common.issues.length&&n.push(r.common.issues)}if(e)return t.common.issues.push(...e.ctx.common.issues),e.result;const s=n.map(e=>new Ve(e));return We(t,{code:De.invalid_union,unionErrors:s}),Be}}get options(){return this._def.options}}function qt(e,t){const r=Fe(e),n=Fe(t);if(e===t)return{valid:!0,data:e};if(r===Ue.object&&n===Ue.object){const r=Re.objectKeys(t),n=Re.objectKeys(e).filter(e=>-1!==r.indexOf(e)),s={...e,...t};for(const a of n){const r=qt(e[a],t[a]);if(!r.valid)return{valid:!1};s[a]=r.data}return{valid:!0,data:s}}if(r===Ue.array&&n===Ue.array){if(e.length!==t.length)return{valid:!1};const r=[];for(let n=0;n<e.length;n++){const s=qt(e[n],t[n]);if(!s.valid)return{valid:!1};r.push(s.data)}return{valid:!0,data:r}}return r===Ue.date&&n===Ue.date&&+e===+t?{valid:!0,data:e}:{valid:!1}}Wt.create=(e,t)=>new Wt({options:e,typeName:fr.ZodUnion,...st(t)});class Bt extends at{_parse(e){const{status:t,ctx:r}=this._processInputParams(e),n=(e,n)=>{if(Ge(e)||Ge(n))return Be;const s=qt(e.value,n.value);return s.valid?((Ye(e)||Ye(n))&&t.dirty(),{status:t.value,value:s.data}):(We(r,{code:De.invalid_intersection_types}),Be)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([e,t])=>n(e,t)):n(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}Bt.create=(e,t,r)=>new Bt({left:e,right:t,typeName:fr.ZodIntersection,...st(r)});class Kt extends at{_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==Ue.array)return We(r,{code:De.invalid_type,expected:Ue.array,received:r.parsedType}),Be;if(r.data.length<this._def.items.length)return We(r,{code:De.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Be;!this._def.rest&&r.data.length>this._def.items.length&&(We(r,{code:De.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());const n=[...r.data].map((e,t)=>{const n=this._def.items[t]||this._def.rest;return n?n._parse(new rt(r,e,r.path,t)):null}).filter(e=>!!e);return r.common.async?Promise.all(n).then(e=>qe.mergeArray(t,e)):qe.mergeArray(t,n)}get items(){return this._def.items}rest(e){return new Kt({...this._def,rest:e})}}Kt.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Kt({items:e,typeName:fr.ZodTuple,rest:null,...st(t)})};class Jt extends at{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==Ue.map)return We(r,{code:De.invalid_type,expected:Ue.map,received:r.parsedType}),Be;const n=this._def.keyType,s=this._def.valueType,a=[...r.data.entries()].map(([e,t],a)=>({key:n._parse(new rt(r,e,r.path,[a,"key"])),value:s._parse(new rt(r,t,r.path,[a,"value"]))}));if(r.common.async){const e=new Map;return Promise.resolve().then(async()=>{for(const r of a){const n=await r.key,s=await r.value;if("aborted"===n.status||"aborted"===s.status)return Be;"dirty"!==n.status&&"dirty"!==s.status||t.dirty(),e.set(n.value,s.value)}return{status:t.value,value:e}})}{const e=new Map;for(const r of a){const n=r.key,s=r.value;if("aborted"===n.status||"aborted"===s.status)return Be;"dirty"!==n.status&&"dirty"!==s.status||t.dirty(),e.set(n.value,s.value)}return{status:t.value,value:e}}}}Jt.create=(e,t,r)=>new Jt({valueType:t,keyType:e,typeName:fr.ZodMap,...st(r)});class Gt extends at{_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==Ue.set)return We(r,{code:De.invalid_type,expected:Ue.set,received:r.parsedType}),Be;const n=this._def;null!==n.minSize&&r.data.size<n.minSize.value&&(We(r,{code:De.too_small,minimum:n.minSize.value,type:"set",inclusive:!0,exact:!1,message:n.minSize.message}),t.dirty()),null!==n.maxSize&&r.data.size>n.maxSize.value&&(We(r,{code:De.too_big,maximum:n.maxSize.value,type:"set",inclusive:!0,exact:!1,message:n.maxSize.message}),t.dirty());const s=this._def.valueType;function a(e){const r=new Set;for(const n of e){if("aborted"===n.status)return Be;"dirty"===n.status&&t.dirty(),r.add(n.value)}return{status:t.value,value:r}}const i=[...r.data.values()].map((e,t)=>s._parse(new rt(r,e,r.path,t)));return r.common.async?Promise.all(i).then(e=>a(e)):a(i)}min(e,t){return new Gt({...this._def,minSize:{value:e,message:et.toString(t)}})}max(e,t){return new Gt({...this._def,maxSize:{value:e,message:et.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}Gt.create=(e,t)=>new Gt({valueType:e,minSize:null,maxSize:null,typeName:fr.ZodSet,...st(t)});class Yt extends at{get schema(){return this._def.getter()}_parse(e){const{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}Yt.create=(e,t)=>new Yt({getter:e,typeName:fr.ZodLazy,...st(t)});class Qt extends at{_parse(e){if(e.data!==this._def.value){const t=this._getOrReturnCtx(e);return We(t,{received:t.data,code:De.invalid_literal,expected:this._def.value}),Be}return{status:"valid",value:e.data}}get value(){return this._def.value}}function Xt(e,t){return new er({values:e,typeName:fr.ZodEnum,...st(t)})}Qt.create=(e,t)=>new Qt({value:e,typeName:fr.ZodLiteral,...st(t)});class er extends at{_parse(e){if("string"!=typeof e.data){const t=this._getOrReturnCtx(e),r=this._def.values;return We(t,{expected:Re.joinValues(r),received:t.parsedType,code:De.invalid_type}),Be}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const t=this._getOrReturnCtx(e),r=this._def.values;return We(t,{received:t.data,code:De.invalid_enum_value,options:r}),Be}return Je(e.data)}get options(){return this._def.values}get enum(){const e={};for(const t of this._def.values)e[t]=t;return e}get Values(){const e={};for(const t of this._def.values)e[t]=t;return e}get Enum(){const e={};for(const t of this._def.values)e[t]=t;return e}extract(e,t=this._def){return er.create(e,{...this._def,...t})}exclude(e,t=this._def){return er.create(this.options.filter(t=>!e.includes(t)),{...this._def,...t})}}er.create=Xt;class tr extends at{_parse(e){const t=Re.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==Ue.string&&r.parsedType!==Ue.number){const e=Re.objectValues(t);return We(r,{expected:Re.joinValues(e),received:r.parsedType,code:De.invalid_type}),Be}if(this._cache||(this._cache=new Set(Re.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const e=Re.objectValues(t);return We(r,{received:r.data,code:De.invalid_enum_value,options:e}),Be}return Je(e.data)}get enum(){return this._def.values}}tr.create=(e,t)=>new tr({values:e,typeName:fr.ZodNativeEnum,...st(t)});class rr extends at{unwrap(){return this._def.type}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==Ue.promise&&!1===t.common.async)return We(t,{code:De.invalid_type,expected:Ue.promise,received:t.parsedType}),Be;const r=t.parsedType===Ue.promise?t.data:Promise.resolve(t.data);return Je(r.then(e=>this._def.type.parseAsync(e,{path:t.path,errorMap:t.common.contextualErrorMap})))}}rr.create=(e,t)=>new rr({type:e,typeName:fr.ZodPromise,...st(t)});class nr extends at{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===fr.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:t,ctx:r}=this._processInputParams(e),n=this._def.effect||null,s={addIssue:e=>{We(r,e),e.fatal?t.abort():t.dirty()},get path(){return r.path}};if(s.addIssue=s.addIssue.bind(s),"preprocess"===n.type){const e=n.transform(r.data,s);if(r.common.async)return Promise.resolve(e).then(async e=>{if("aborted"===t.value)return Be;const n=await this._def.schema._parseAsync({data:e,path:r.path,parent:r});return"aborted"===n.status?Be:"dirty"===n.status||"dirty"===t.value?Ke(n.value):n});{if("aborted"===t.value)return Be;const n=this._def.schema._parseSync({data:e,path:r.path,parent:r});return"aborted"===n.status?Be:"dirty"===n.status||"dirty"===t.value?Ke(n.value):n}}if("refinement"===n.type){const e=e=>{const t=n.refinement(e,s);if(r.common.async)return Promise.resolve(t);if(t instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return e};if(!1===r.common.async){const n=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return"aborted"===n.status?Be:("dirty"===n.status&&t.dirty(),e(n.value),{status:t.value,value:n.value})}return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(r=>"aborted"===r.status?Be:("dirty"===r.status&&t.dirty(),e(r.value).then(()=>({status:t.value,value:r.value}))))}if("transform"===n.type){if(!1===r.common.async){const e=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!Qe(e))return Be;const a=n.transform(e.value,s);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:a}}return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(e=>Qe(e)?Promise.resolve(n.transform(e.value,s)).then(e=>({status:t.value,value:e})):Be)}Re.assertNever(n)}}nr.create=(e,t,r)=>new nr({schema:e,typeName:fr.ZodEffects,effect:t,...st(r)}),nr.createWithPreprocess=(e,t,r)=>new nr({schema:t,effect:{type:"preprocess",transform:e},typeName:fr.ZodEffects,...st(r)});class sr extends at{_parse(e){return this._getType(e)===Ue.undefined?Je(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}sr.create=(e,t)=>new sr({innerType:e,typeName:fr.ZodOptional,...st(t)});class ar extends at{_parse(e){return this._getType(e)===Ue.null?Je(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}ar.create=(e,t)=>new ar({innerType:e,typeName:fr.ZodNullable,...st(t)});class ir extends at{_parse(e){const{ctx:t}=this._processInputParams(e);let r=t.data;return t.parsedType===Ue.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}ir.create=(e,t)=>new ir({innerType:e,typeName:fr.ZodDefault,defaultValue:"function"==typeof t.default?t.default:()=>t.default,...st(t)});class or extends at{_parse(e){const{ctx:t}=this._processInputParams(e),r={...t,common:{...t.common,issues:[]}},n=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return Xe(n)?n.then(e=>({status:"valid",value:"valid"===e.status?e.value:this._def.catchValue({get error(){return new Ve(r.common.issues)},input:r.data})})):{status:"valid",value:"valid"===n.status?n.value:this._def.catchValue({get error(){return new Ve(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}or.create=(e,t)=>new or({innerType:e,typeName:fr.ZodCatch,catchValue:"function"==typeof t.catch?t.catch:()=>t.catch,...st(t)});class cr extends at{_parse(e){if(this._getType(e)!==Ue.nan){const t=this._getOrReturnCtx(e);return We(t,{code:De.invalid_type,expected:Ue.nan,received:t.parsedType}),Be}return{status:"valid",value:e.data}}}cr.create=e=>new cr({typeName:fr.ZodNaN,...st(e)});class dr extends at{_parse(e){const{ctx:t}=this._processInputParams(e),r=t.data;return this._def.type._parse({data:r,path:t.path,parent:t})}unwrap(){return this._def.type}}class ur extends at{_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.common.async){return(async()=>{const e=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return"aborted"===e.status?Be:"dirty"===e.status?(t.dirty(),Ke(e.value)):this._def.out._parseAsync({data:e.value,path:r.path,parent:r})})()}{const e=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return"aborted"===e.status?Be:"dirty"===e.status?(t.dirty(),{status:"dirty",value:e.value}):this._def.out._parseSync({data:e.value,path:r.path,parent:r})}}static create(e,t){return new ur({in:e,out:t,typeName:fr.ZodPipeline})}}class lr extends at{_parse(e){const t=this._def.innerType._parse(e),r=e=>(Qe(e)&&(e.value=Object.freeze(e.value)),e);return Xe(t)?t.then(e=>r(e)):r(t)}unwrap(){return this._def.innerType}}function hr(e,t){const r="function"==typeof e?e(t):"string"==typeof e?{message:e}:e;return"string"==typeof r?{message:r}:r}function pr(e,t={},r){return e?Mt.create().superRefine((n,s)=>{const a=e(n);if(a instanceof Promise)return a.then(e=>{if(!e){const e=hr(t,n),a=e.fatal??r??!0;s.addIssue({code:"custom",...e,fatal:a})}});if(!a){const e=hr(t,n),a=e.fatal??r??!0;s.addIssue({code:"custom",...e,fatal:a})}}):Mt.create()}var fr,mr;lr.create=(e,t)=>new lr({innerType:e,typeName:fr.ZodReadonly,...st(t)}),(mr=fr||(fr={})).ZodString="ZodString",mr.ZodNumber="ZodNumber",mr.ZodNaN="ZodNaN",mr.ZodBigInt="ZodBigInt",mr.ZodBoolean="ZodBoolean",mr.ZodDate="ZodDate",mr.ZodSymbol="ZodSymbol",mr.ZodUndefined="ZodUndefined",mr.ZodNull="ZodNull",mr.ZodAny="ZodAny",mr.ZodUnknown="ZodUnknown",mr.ZodNever="ZodNever",mr.ZodVoid="ZodVoid",mr.ZodArray="ZodArray",mr.ZodObject="ZodObject",mr.ZodUnion="ZodUnion",mr.ZodDiscriminatedUnion="ZodDiscriminatedUnion",mr.ZodIntersection="ZodIntersection",mr.ZodTuple="ZodTuple",mr.ZodRecord="ZodRecord",mr.ZodMap="ZodMap",mr.ZodSet="ZodSet",mr.ZodFunction="ZodFunction",mr.ZodLazy="ZodLazy",mr.ZodLiteral="ZodLiteral",mr.ZodEnum="ZodEnum",mr.ZodEffects="ZodEffects",mr.ZodNativeEnum="ZodNativeEnum",mr.ZodOptional="ZodOptional",mr.ZodNullable="ZodNullable",mr.ZodDefault="ZodDefault",mr.ZodCatch="ZodCatch",mr.ZodPromise="ZodPromise",mr.ZodBranded="ZodBranded",mr.ZodPipeline="ZodPipeline",mr.ZodReadonly="ZodReadonly",Mt.create,Ft.create,Vt.create,Wt.create,Bt.create,Kt.create;const yr=er.create;rr.create,sr.create,ar.create;const gr={"SHA-256":"sha256-","SHA-384":"sha384-","SHA-512":"sha512-"},vr=Object.values(gr);yr(Object.keys(gr)).optional().default("SHA-256"),pr(e=>"string"==typeof e&&vr.some(t=>e.startsWith(t)));const _r=["base-uri","child-src","connect-src","default-src","fenced-frame-src","font-src","form-action","frame-ancestors","frame-src","img-src","manifest-src","media-src","object-src","referrer","report-to","report-uri","require-trusted-types-for","sandbox","trusted-types","upgrade-insecure-requests","worker-src"];pr(e=>"string"==typeof e&&_r.some(t=>e.startsWith(t)));const br=new TextEncoder;new TextDecoder;async function wr(e,t){const r=crypto.getRandomValues(new Uint8Array(12)),n=br.encode(t),s=await crypto.subtle.encrypt({name:"AES-GCM",iv:r},e,n);return function(e){let t="";for(let r=0;r<e.length;r++)t+=Ce[e[r]>>4],t+=Ce[15&e[r]];return t}(r)+Ie(new Uint8Array(s))}async function kr(e,t){const r=await crypto.subtle.digest(t,br.encode(e)),n=Ie(new Uint8Array(r));return`${gr[t]}${n}`}const xr=Symbol.for("astro.renderTemplateResult");e=xr;class Ar{constructor(t,r){o(this,e,!0),o(this,"htmlParts"),o(this,"expressions"),o(this,"error"),this.htmlParts=t,this.error=void 0,this.expressions=r.map(e=>$(e)?Promise.resolve(e).catch(e=>{if(!this.error)throw this.error=e,e}):e)}render(e){const t=this.expressions.map(t=>ke(e,e=>{if(t||0===t)return Vr(e,t)}));let r=0;const n=()=>{for(;r<this.htmlParts.length;){const s=this.htmlParts[r],a=t[r];if(r++,s&&e.write(T(s)),a){const e=a.flush();if($(e))return e.then(n)}}};return n()}}function Sr(e,...t){return new Ar(e,t)}const $r=Symbol.for("astro:slot-string");class Cr extends(r=O,t=$r,r){constructor(e,r){super(e),o(this,"instructions"),o(this,t),this.instructions=r,this[$r]=!0}}async function jr(e,t,r){let n="",s=null;const a={write(t){if(t instanceof Cr)n+=t,t.instructions&&(s??(s=[]),s.push(...t.instructions));else{if(t instanceof Response)return;"object"==typeof t&&"type"in t&&"string"==typeof t.type?(null===s&&(s=[]),s.push(t)):n+=Dr(e,t)}}},i=function(e,t){return{async render(r){await Vr(r,"function"==typeof t?t(e):t)}}}(e,t);return await i.render(a),T(new Cr(n,s))}async function Or(e,t={}){let r=null,n={};return t&&await Promise.all(Object.entries(t).map(([t,s])=>jr(e,s).then(e=>{e.instructions&&(null===r&&(r=[]),r.push(...e.instructions)),n[t]=e}))),{slotInstructions:r,children:n}}const Tr=new Set(["server:component-path","server:component-export","server:component-directive","server:defer"]);const Nr=/<\/script/giu,Ir=/<!--/gu;function Er(e){return JSON.stringify(e).replace(Nr,"<\\/script").replace(Ir,"\\u003C!--")}class Zr{constructor(e,t,r,n){o(this,"result"),o(this,"props"),o(this,"slots"),o(this,"displayName"),o(this,"hostId"),o(this,"islandContent"),o(this,"componentPath"),o(this,"componentExport"),o(this,"componentId"),this.result=e,this.props=t,this.slots=r,this.displayName=n}async init(){const e=await this.getIslandContent();if(this.result.cspDestination){this.result._metadata.extraScriptHashes.push(await kr(Rr,this.result.cspAlgorithm));const t=await kr(e,this.result.cspAlgorithm);this.result._metadata.extraScriptHashes.push(t)}return{[ee]:!0}}async render(e){const t=await this.getHostId(),r=await this.getIslandContent();e.write(ae({type:"server-island-runtime"})),e.write("\x3c!--[if astro]>server-island-start<![endif]--\x3e");for(const n in this.slots)"fallback"===n&&await Vr(e,this.slots.fallback(this.result));e.write(`<script type="module" data-astro-rerun data-island-id="${t}">${r}<\/script>`)}getComponentPath(){if(this.componentPath)return this.componentPath;const e=this.props["server:component-path"];if(!e)throw new Error("Could not find server component path");return this.componentPath=e,e}getComponentExport(){if(this.componentExport)return this.componentExport;const e=this.props["server:component-export"];if(!e)throw new Error("Could not find server component export");return this.componentExport=e,e}async getHostId(){return this.hostId||(this.hostId=await crypto.randomUUID()),this.hostId}async getIslandContent(){if(this.islandContent)return this.islandContent;const e=this.getComponentPath(),t=this.getComponentExport(),r=this.result.serverIslandNameMap.get(e);if(!r)throw new Error("Could not find server component name");for(const h of Object.keys(this.props))Tr.has(h)&&delete this.props[h];const n={};for(const h in this.slots)if("fallback"!==h){const e=await jr(this.result,this.slots[h]);n[h]=e.toString()}const s=await this.result.key,a=0===Object.keys(this.props).length?"":await wr(s,JSON.stringify(this.props)),i=await this.getHostId(),o=this.result.base.endsWith("/")?"":"/";let c=`${this.result.base}${o}_server-islands/${r}${"always"===this.result.trailingSlash?"/":""}`;const d=function(e,t,r){const n=new URLSearchParams;return n.set("e",e),n.set("p",t),n.set("s",r),n}(t,a,Er(n)),u=(c+"?"+d.toString()).length<2048;u&&(c+="?"+d.toString(),this.result._metadata.extraHead.push(T(`<link rel="preload" as="fetch" href="${c}" crossorigin="anonymous">`)));const l=u?`let response = await fetch('${c}');`:`let data = {\n\tcomponentExport: ${Er(t)},\n\tencryptedProps: ${Er(a)},\n\tslots: ${Er(n)},\n};\nlet response = await fetch('${c}', {\n\tmethod: 'POST',\n\tbody: JSON.stringify(data),\n});`;return this.islandContent=`${l}replaceServerIsland('${i}', response);`,this.islandContent}}const Pr=()=>`<script>${Rr}<\/script>`,Rr=T("async function replaceServerIsland(id, r) {\n\tlet s = document.querySelector(`script[data-island-id=\"${id}\"]`);\n\t// If there's no matching script, or the request fails then return\n\tif (!s || r.status !== 200 || r.headers.get('content-type')?.split(';')[0].trim() !== 'text/html') return;\n\t// Load the HTML before modifying the DOM in case of errors\n\tlet html = await r.text();\n\t// Remove any placeholder content before the island script\n\twhile (s.previousSibling && s.previousSibling.nodeType !== 8 && s.previousSibling.data !== '[if astro]>server-island-start<![endif]')\n\t\ts.previousSibling.remove();\n\ts.previousSibling?.remove();\n\t// Insert the new HTML\n\ts.before(document.createRange().createContextualFragment(html));\n\t// Remove the script. Prior to v5.4.2, this was the trick to force rerun of scripts.  Keeping it to minimize change to the existing behavior.\n\ts.remove();\n}".split("\n").map(e=>e.trim()).filter(e=>e&&!e.startsWith("//")).join(" ")),Lr=Symbol.for("astro:fragment"),Mr=Symbol.for("astro:renderer");new TextEncoder;const Ur=new TextDecoder;function Fr(e,t){if(function(e){return e&&"object"==typeof e&&e[se]}(t)){const r=t;switch(r.type){case"directive":{const{hydration:t}=r;let n=t&&function(e){return!e._metadata.hasHydrationScript&&(e._metadata.hasHydrationScript=!0)}(e),s=t&&function(e,t){return!e._metadata.hasDirectives.has(t)&&(e._metadata.hasDirectives.add(t),!0)}(e,t.directive);if(n){let r=re(e,"both",t.directive);return T(r)}if(s){let r=re(e,"directive",t.directive);return T(r)}return""}case"head":return e._metadata.hasRenderedHead||e.partial?"":Se(e);case"maybe-head":return e._metadata.hasRenderedHead||e._metadata.headInTree||e.partial?"":Se(e);case"renderer-hydration-script":{const{rendererSpecificHydrationScripts:t}=e._metadata,{rendererName:n}=r;return t.has(n)?"":(t.add(n),r.render())}case"server-island-runtime":return e._metadata.hasRenderedServerIslandRuntime?"":(e._metadata.hasRenderedServerIslandRuntime=!0,Pr());default:throw new Error(`Unknown chunk type: ${t.type}`)}}else{if(t instanceof Response)return"";if(t[$r]){let r="";const n=t;if(n.instructions)for(const t of n.instructions)r+=Fr(e,t);return r+=t.toString(),r}}return t.toString()}function Dr(e,t){return ArrayBuffer.isView(t)?Ur.decode(t):Fr(e,t)}function Vr(e,t){if($(t))return t.then(t=>Vr(e,t));if(t instanceof Cr)e.write(t);else if(r=t,"[object HTMLString]"!==Object.prototype.toString.call(r)){var r;if(Array.isArray(t))return function(e,t){const r=t.map(t=>ke(e,e=>Vr(e,t))),n=r[Symbol.iterator](),s=()=>{for(;;){const{value:e,done:t}=n.next();if(t)break;const r=e.flush();if($(r))return r.then(s)}};return s()}(e,t);if("function"==typeof t)return Vr(e,t());if(t||0===t)if("string"!=typeof t){if((n=t)&&"object"==typeof n&&"render"in n&&"function"==typeof n.render)return t.render(e);var n;if(function(e){return"object"==typeof e&&null!==e&&!!e[xr]}(t))return t.render(e);if(function(e){return"object"==typeof e&&null!==e&&!!e[zr]}(t))return t.render(e);if(!ArrayBuffer.isView(t))return"object"==typeof t&&(Symbol.asyncIterator in t||Symbol.iterator in t)?Symbol.asyncIterator in t?async function(e,t){for await(const r of t)await Vr(e,r)}(e,t):function(e,t){const r=t[Symbol.iterator](),n=()=>{for(;;){const{value:t,done:s}=r.next();if(s)break;const a=Vr(e,t);if($(a))return a.then(n)}};return n()}(e,t):void e.write(t);e.write(t)}else e.write(T(C(t)))}else e.write(t)}const zr=Symbol.for("astro.componentInstance");n=zr;class Hr{constructor(e,t,r,s){o(this,n,!0),o(this,"result"),o(this,"props"),o(this,"slotValues"),o(this,"factory"),o(this,"returnValue"),this.result=e,this.props=t,this.factory=s,this.slotValues={};for(const n in r){let t=!1,s=r[n](e);this.slotValues[n]=()=>t?r[n](e):(t=!0,s)}}init(e){return void 0!==this.returnValue||(this.returnValue=this.factory(e,this.props,this.slotValues),$(this.returnValue)&&this.returnValue.then(e=>{this.returnValue=e}).catch(()=>{})),this.returnValue}render(e){const t=this.init(this.result);return $(t)?t.then(t=>this.renderImpl(e,t)):this.renderImpl(e,t)}renderImpl(e,t){return"object"==typeof(r=t)&&null!==r&&r[ee]?t.content.render(e):Vr(e,t);var r}}function Wr(e,t,r,n,s={}){!function(e,t){if(null!=e){const r=[...t.keys()].map(e=>`client:${e}`);for(const t of Object.keys(e))r.includes(t)}}(n,e.clientDirectives);const a=new Hr(e,n,s,r);return function(e,t){const r=function(e,t){let r=t.propagation||"none";return t.moduleId&&e.componentMetadata.has(t.moduleId)&&"none"===r&&(r=e.componentMetadata.get(t.moduleId).propagation),r}(e,t);return"in-tree"===r||"self"===r}(e,r)&&e._metadata.propagators.add(a),a}async function qr(e,t,r,n){const s=function(e){const t=customElements.getName(e);if(t)return t;const r=e.name.replace(/^HTML|Element$/g,"").replace(/[A-Z]/g,"-$&").toLowerCase().replace(/^-/,"html-");return r}(t);let a="";for(const i in r)a+=` ${i}="${he(await r[i])}"`;return T(`<${s}${a}>${await jr(e,n?.default)}</${s}>`)}const Br=new Map([["solid","solid-js"]]),Kr=new Set(["solid-js","react","preact","vue","svelte"]);const Jr=/<\/?astro-slot\b[^>]*>/g,Gr=/<\/?astro-static-slot\b[^>]*>/g;async function Yr(e,t,r,n,s={}){if(!r&&"client:only"in n==!1)throw new Error(`Unable to render ${t} because it is ${r}!\nDid you forget to import the component or is it possible there is a typo?`);const{renderers:a,clientDirectives:i}=e,o={astroStaticSlot:!0,displayName:t},{hydration:c,isPage:d,props:u,propsWithoutTransitionAttributes:y}=function(e,t){let r={isPage:!1,hydration:null,props:{},propsWithoutTransitionAttributes:{}};for(const[n,s]of Object.entries(e))if(n.startsWith("server:")&&"server:root"===n&&(r.isPage=!0),n.startsWith("client:"))switch(r.hydration||(r.hydration={directive:"",value:"",componentUrl:"",componentExport:{value:""}}),n){case"client:component-path":r.hydration.componentUrl=s;break;case"client:component-export":r.hydration.componentExport.value=s;break;case"client:component-hydration":case"client:display-name":break;default:if(r.hydration.directive=n.split(":")[1],r.hydration.value=s,!t.has(r.hydration.directive)){const e=Array.from(t.keys()).map(e=>`client:${e}`).join(", ");throw new Error(`Error: invalid hydration directive "${n}". Supported hydration methods: ${e}`)}if("media"===r.hydration.directive&&"string"!=typeof r.hydration.value)throw new l(h)}else r.props[n]=s,Q.includes(n)||(r.propsWithoutTransitionAttributes[n]=s);for(const n of Object.getOwnPropertySymbols(e))r.props[n]=e[n],r.propsWithoutTransitionAttributes[n]=e[n];return r}(n,i);let g,v="";c&&(o.hydrate=c.directive,o.hydrateArgs=c.value,o.componentExport=c.componentExport,o.componentUrl=c.componentUrl);const _=function(e){const t=e?.split(".").pop();switch(t){case"svelte":return["@astrojs/svelte"];case"vue":return["@astrojs/vue"];case"jsx":case"tsx":return["@astrojs/react","@astrojs/preact","@astrojs/solid-js","@astrojs/vue (jsx)"];default:return["@astrojs/react","@astrojs/preact","@astrojs/solid-js","@astrojs/vue","@astrojs/svelte"]}}(o.componentUrl),b=a.filter(e=>"astro:jsx"!==e.name),{children:w,slotInstructions:k}=await Or(e,s);let x;if("only"!==o.hydrate){let t=!1;try{t=r&&r[Mr]}catch{}if(t){const e=r[Mr];x=a.find(({name:t})=>t===e)}if(!x){let t;for(const n of a)try{if(await n.ssr.check.call({result:e},r,u,w)){x=n;break}}catch(O){t??(t=O)}if(!x&&t)throw t}if(!x&&"function"==typeof HTMLElement&&function(e){return"undefined"!=typeof HTMLElement&&HTMLElement.isPrototypeOf(e)}(r)){const t=await qr(e,r,n,s);return{render(e){e.write(t)}}}}else{if(o.hydrateArgs){const e=Br.has(o.hydrateArgs)?Br.get(o.hydrateArgs):o.hydrateArgs;Kr.has(e)&&(x=a.find(({name:t})=>t===`@astrojs/${e}`||t===e))}if(x||1!==b.length||(x=b[0]),!x){const e=o.componentUrl?.split(".").pop();x=a.find(({name:t})=>t===`@astrojs/${e}`||t===e)}}if(x)"only"===o.hydrate?v=await jr(e,s?.fallback):(performance.now(),({html:v,attrs:g}=await x.ssr.renderToStaticMarkup.call({result:e},r,y,w,o)));else{if("only"===o.hydrate){const e=Br.has(o.hydrateArgs)?Br.get(o.hydrateArgs):o.hydrateArgs;if(Kr.has(e)){const e=b.length>1;throw new l({...p,message:p.message(o.displayName,o?.componentUrl?.split(".").pop(),e,b.length),hint:p.hint(me(_.map(e=>"`"+e+"`")))})}throw new l({...f,message:f.message(o.displayName),hint:f.hint(_.map(e=>e.replace("@astrojs/","")).join("|"))})}if("string"!=typeof r){const t=b.filter(e=>_.includes(e.name)),n=b.length>1;if(0===t.length)throw new l({...p,message:p.message(o.displayName,o?.componentUrl?.split(".").pop(),n,b.length),hint:p.hint(me(_.map(e=>"`"+e+"`")))});if(1!==t.length)throw new Error(`Unable to render ${o.displayName}!\n\nThis component likely uses ${me(_)},\nbut Astro encountered an error during server-side rendering.\n\nPlease ensure that ${o.displayName}:\n1. Does not unconditionally access browser-specific globals like \`window\` or \`document\`.\n   If this is unavoidable, use the \`client:only\` hydration directive.\n2. Does not conditionally return \`null\` or \`undefined\` when rendered on the server.\n\nIf you're still stuck, please open an issue on GitHub or join us at https://astro.build/chat.`);x=t[0],({html:v,attrs:g}=await x.ssr.renderToStaticMarkup.call({result:e},r,y,w,o))}}if(!v&&"string"==typeof r){const t=function(e){const t=/[&<>'"\s]+/;return t.test(e)?e.trim().split(t)[0].trim():e}(r),n=Object.values(w).join(""),s=Sr`<${t}${ve(u,!0,t)}${T(""===n&&ie.test(t)?"/>":`>${n}</${t}>`)}`;v="";const a={write(t){t instanceof Response||(v+=Dr(e,t))}};await s.render(a)}if(!c)return{render(e){if(k)for(const t of k)e.write(t);d||"astro:jsx"===x?.name?e.write(v):v&&v.length>0&&e.write(T(function(e,t=!0){const r=t?Gr:Jr;return e.replace(r,"")}(v,x?.ssr?.supportsAstroStaticSlot)))}};const A=function(e){let t,r="",n=function(e){let t=0;if(0===e.length)return t;for(let r=0;r<e.length;r++)t=(t<<5)-t+e.charCodeAt(r),t&=t;return t}(e);const s=n<0?"Z":"";for(n=Math.abs(n);n>=61;)t=n%61,n=Math.floor(n/61),r=X[t]+r;return n>0&&(r=X[n]+r),s+r}(`\x3c!--${o.componentExport.value}:${o.componentUrl}--\x3e\n${v}\n${Y(u,o)}`),S=await async function(e,t){const{renderer:r,result:n,astroId:s,props:a,attrs:i}=e,{hydrate:o,componentUrl:c,componentExport:d}=t;if(!d.value)throw new l({...m,message:m.message(t.displayName)});const u={children:"",props:{uid:s}};if(i)for(const[l,p]of Object.entries(i))u.props[l]=C(p);u.props["component-url"]=await n.resolve(decodeURI(c)),r.clientEntrypoint&&(u.props["component-export"]=d.value,u.props["renderer-url"]=await n.resolve(decodeURI(r.clientEntrypoint.toString())),u.props.props=C(Y(a,t))),u.props.ssr="",u.props.client=o;let h=await n.resolve("astro:scripts/before-hydration.js");return h.length&&(u.props["before-hydration-url"]=h),u.props.opts=C(JSON.stringify({name:t.displayName,value:t.hydrateArgs||""})),Q.forEach(e=>{void 0!==a[e]&&(u.props[e]=a[e])}),u}({renderer:x,result:e,astroId:A,props:u,attrs:g},o);let $=[];if(v){if(Object.keys(w).length>0)for(const l of Object.keys(w)){let e=x?.ssr?.supportsAstroStaticSlot?o.hydrate?"astro-slot":"astro-static-slot":"astro-slot",t="default"===l?`<${e}>`:`<${e} name="${l}">`;v.includes(t)||$.push(l)}}else $=Object.keys(w);const j=$.length>0?$.map(e=>`<template data-astro-template${"default"!==e?`="${e}"`:""}>${w[e]}</template>`).join(""):"";return S.children=`${v??""}${j}`,S.children&&(S.props["await-children"]="",S.children+="\x3c!--astro:end--\x3e"),{render(e){if(k)for(const r of k)e.write(r);e.write(ae({type:"directive",hydration:c})),"only"!==c.directive&&x?.ssr.renderHydrationScript&&e.write(ae({type:"renderer-hydration-script",rendererName:x.name,render:x.ssr.renderHydrationScript}));const t=_e("astro-island",S,!1);e.write(T(t))}}}function Qr(e,t,r,n,s={}){return $(r)?r.catch(i).then(r=>Qr(e,t,r,n,s)):function(e){return e===Lr}(r)?async function(e,t={}){const r=await jr(e,t?.default);return{render(e){null!=r&&e.write(r)}}}(e,s).catch(i):(n=function(e){if(void 0!==e["class:list"]){const t=e["class:list"];delete e["class:list"],e.class=P(e.class,t),""===e.class&&delete e.class}return e}(n),function(e){return e&&!0===e["astro:html"]}(r)?async function(e,t,r,n={}){const{slotInstructions:s,children:a}=await Or(e,n),i=t({slots:a}),o=s?s.map(t=>Dr(e,t)).join(""):"";return{render(e){e.write(T(o+i))}}}(e,r,0,s).catch(i):null!=(a=r)&&!0===a.isAstroComponentFactory?function(e,t,r,n,s={}){if(function(e){return"server:component-directive"in e}(n)){const r=new Zr(e,n,s,t);return e._metadata.propagators.add(r),r}const a=Wr(e,0,r,n,s);return{render:e=>a.render(e)}}(e,t,r,n,s):Yr(e,t,r,n,s).catch(i));var a;function i(t){if(e.cancelled)return{render(){}};throw t}}async function Xr(e,t){if(e._metadata.renderedScripts.has(t))return;e._metadata.renderedScripts.add(t);const r=e.inlinedScripts.get(t);if(null!=r)return r?T(`<script type="module">${r}<\/script>`):"";const n=await e.resolve(t);return T(`<script type="module" src="${e.userAssetsBase?("/"===e.base?"":e.base)+e.userAssetsBase:""}${n}"><\/script>`)}
/*! https://mths.be/cssesc v3.0.0 by @mathias */var en,tn;!function(){if(tn)return en;tn=1;var e={}.hasOwnProperty,t=/[ -,\.\/:-@\[-\^`\{-~]/,r=/[ -,\.\/:-@\[\]\^`\{-~]/,n=/(^|\\+)?(\\[A-F0-9]{1,6})\x20(?![a-fA-F0-9\x20])/g,s=function s(a,i){"single"!=(i=function(t,r){if(!t)return r;var n={};for(var s in r)n[s]=e.call(t,s)?t[s]:r[s];return n}(i,s.options)).quotes&&"double"!=i.quotes&&(i.quotes="single");for(var o="double"==i.quotes?'"':"'",c=i.isIdentifier,d=a.charAt(0),u="",l=0,h=a.length;l<h;){var p=a.charAt(l++),f=p.charCodeAt(),m=void 0;if(f<32||f>126){if(f>=55296&&f<=56319&&l<h){var y=a.charCodeAt(l++);56320==(64512&y)?f=((1023&f)<<10)+(1023&y)+65536:l--}m="\\"+f.toString(16).toUpperCase()+" "}else m=i.escapeEverything?t.test(p)?"\\"+p:"\\"+f.toString(16).toUpperCase()+" ":/[\t\n\f\r\x0B]/.test(p)?"\\"+f.toString(16).toUpperCase()+" ":"\\"==p||!c&&('"'==p&&o==p||"'"==p&&o==p)||c&&r.test(p)?"\\"+p:p;u+=m}return c&&(/^-[-\d]/.test(u)?u="\\-"+u.slice(1):/\d/.test(d)&&(u="\\3"+d+" "+u.slice(1))),u=u.replace(n,function(e,t,r){return t&&t.length%2?e:(t||"")+r}),!c&&i.wrap?o+u+o:u};s.options={escapeEverything:!1,isIdentifier:!1,quotes:"single",wrap:!1},s.version="3.0.0",en=s}(),"0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ-_".split("").reduce((e,t)=>(e[t.charCodeAt(0)]=t,e),[]),"-0123456789_".split("").reduce((e,t)=>(e[t.charCodeAt(0)]=t,e),[]);export{Lr as F,w as a,ge as b,b as c,Xr as d,Qr as e,u as f,fe as g,$e as m,Sr as r,E as u};
