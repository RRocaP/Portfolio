---
export interface Props {
  lang: 'en' | 'es' | 'ca';
  strings: any;
}

const { lang, strings } = Astro.props;

const publications = [
  {
    title:
      'Tailoring capsid-directed evolution technology for improved AAV-mediated CAR-T generation',
    authors: 'Roca-Pinilla, R., et al.',
    journal: 'Molecular Therapy',
    year: '2024',
    doi: '10.1016/j.ymthe.2024.12.012',
    type: 'Research Article',
  },
  {
    title:
      'Harnessing whole human liver ex situ normothermic perfusion for preclinical AAV vector evaluation',
    authors: 'Roca-Pinilla, R., et al.',
    journal: 'Nature Communications',
    year: '2024',
    doi: '10.1038/s41467-024-46194-y',
    type: 'Research Article',
  },
  {
    title:
      'Antibiofilm surfaces based on the immobilization of a novel recombinant antimicrobial multidomain protein',
    authors: 'Roca-Pinilla, R., et al.',
    journal: 'Materials Advances',
    year: '2023',
    doi: '10.1039/d2ma00978a',
    type: 'Research Article',
  },
  {
    title: 'Antimicrobial Applications of Inclusion Bodies',
    authors: 'Roca-Pinilla, R., et al.',
    journal: 'Methods in Molecular Biology',
    year: '2023',
    doi: '10.1007/978-1-0716-2930-7_19',
    type: 'Book Chapter',
  },
  {
    title:
      'Characterization of the humanized FRG mouse model and development of an AAV-LK03 variant',
    authors: 'Roca-Pinilla, R., et al.',
    journal: 'Molecular Therapy - Methods & Clinical Development',
    year: '2023',
    doi: '10.1016/j.omtm.2022.12.014',
    type: 'Research Article',
  },
  {
    title: 'The future of recombinant host defense peptides',
    authors: 'Roca-Pinilla, R., et al.',
    journal: 'Microbial Cell Factories',
    year: '2022',
    doi: '10.1186/s12934-022-01991-2',
    type: 'Review',
  },
  {
    title: 'Functional Inclusion Bodies',
    authors: 'Roca-Pinilla, R., et al.',
    journal: 'Methods in Molecular Biology',
    year: '2022',
    doi: '10.1007/978-1-0716-2930-7',
    type: 'Book Chapter',
  },
  {
    title: 'Antimicrobial potential of Recombinant Host Defense Peptides',
    authors: 'Roca-Pinilla, R., et al.',
    journal: 'World Buiatrics Congress',
    year: '2022',
    doi: '',
    type: 'Conference Poster',
  },
  {
    title:
      'Sequence edition of single domains modulates immune and antimicrobial potential',
    authors:
      'Roca-Pinilla, R., López-Cano, A., Saubi, C., Garcia-Fruitós, E., Arís, A.',
    journal: 'Scientific Reports',
    year: '2021',
    doi: '10.1038/s41598-021-03220-z',
    type: 'Research Article',
  },
  {
    title: 'Selecting Subpopulations of High-Quality Protein Conformers',
    authors: 'Roca-Pinilla, R., et al.',
    journal: 'International Journal of Molecular Sciences',
    year: '2021',
    doi: '10.3390/ijms22126008',
    type: 'Research Article',
  },
  {
    title: 'Exploring the use of leucine zippers for inclusion bodies',
    authors: 'Roca-Pinilla, R., et al.',
    journal: 'Microbial Cell Factories',
    year: '2020',
    doi: '10.1186/s12934-020-01425-x',
    type: 'Research Article',
  },
  {
    title: 'CCL21-loaded 3D hydrogels for T cell expansion and differentiation',
    authors: 'Roca-Pinilla, R., et al.',
    journal: 'Biomaterials',
    year: '2020',
    doi: '10.1016/j.biomaterials.2020.119878',
    type: 'Research Article',
  },
  {
    title:
      'A new generation of recombinant polypeptides combines multiple protein domains',
    authors:
      'Roca-Pinilla, R., López-Cano, A., Saubi, C., Garcia-Fruitós, E., Arís, A.',
    journal: 'Microbial Cell Factories',
    year: '2020',
    doi: '10.1186/s12934-020-01380-7',
    type: 'Research Article',
  },
  {
    title:
      'Recombinant protein-based nanoparticles: Inflammatory effects and therapeutic potential',
    authors: 'Roca-Pinilla, R., et al.',
    journal: 'Pharmaceutics',
    year: '2020',
    doi: '10.3390/pharmaceutics12050450',
    type: 'Research Article',
  },
  {
    title:
      'A new approach to obtain pure and active proteins from Lactococcus lactis',
    authors: 'Roca-Pinilla, R., et al.',
    journal: 'Scientific Reports',
    year: '2018',
    doi: '10.1038/s41598-018-33087-6',
    type: 'Research Article',
  },
];
---

<section id="publications" class="col-span-12 py-24">
  <div class="max-w-4xl mx-auto">
    <h2 class="font-sans text-display-md text-center mb-16 text-balance">
      {strings.publications.title}
    </h2>

    <div class="space-y-8">
      {
        publications.map(pub => (
          <article class="bg-surface-1 border border-border rounded-sm p-8 hover:border-accent-yellow/30 transition-colors">
            <div class="flex items-start justify-between mb-4">
              <span class="text-sm text-accent-yellow bg-accent-yellow/10 px-3 py-1 rounded border border-accent-yellow/20">
                {pub.type}
              </span>
              <span class="text-sm text-text-muted">{pub.year}</span>
            </div>

            <h3 class="font-sans text-heading-lg text-body-text mb-4 leading-tight">
              {pub.title}
            </h3>

            <p class="text-text-muted mb-4 max-w-prose">{pub.authors}</p>

            <div class="flex items-center justify-between">
              <p class="text-sm text-text-muted max-w-prose">
                <em>{pub.journal}</em>
              </p>

              <a
                href={`https://doi.org/${pub.doi}`}
                target="_blank"
                rel="noopener noreferrer"
                class="text-sm text-accent-yellow hover:text-yellow-400 transition-colors focus-ring"
              >
                DOI: {pub.doi} →
              </a>
            </div>
          </article>
        ))
      }
    </div>

    <!-- Academic Profile Links - Prominent Section -->
    <div
      class="academic-profiles-section mt-16 p-8 bg-accent-yellow/5 border border-accent-yellow/20 rounded-lg"
    >
      <h3 class="font-sans text-heading-lg text-center mb-8 text-body-text">
        {strings.publications.profilesTitle || 'Academic Profiles'}
      </h3>

      <div
        class="flex flex-col sm:flex-row justify-center gap-6 max-w-2xl mx-auto"
      >
        <a
          href="https://orcid.org/0000-0002-7393-6200"
          target="_blank"
          rel="noopener noreferrer"
          class="academic-profile-card group focus-ring"
        >
          <div class="profile-icon orcid-icon">
            <svg viewBox="0 0 24 24" fill="currentColor" class="w-8 h-8">
              <path
                d="M12 0C5.372 0 0 5.372 0 12s5.372 12 12 12 12-5.372 12-12S18.628 0 12 0zM7.369 4.378c.525 0 .947.431.947.947s-.422.947-.947.947a.95.95 0 01-.947-.947c0-.525.422-.947.947-.947zm-.722 3.038h1.444v10.041H6.647V7.416zm3.562 0h3.9c3.712 0 5.344 2.653 5.344 5.025 0 2.578-2.016 5.025-5.325 5.025h-3.919V7.416zm1.444 1.303v7.444h2.297c3.272 0 4.022-2.484 4.022-3.722 0-2.016-1.284-3.722-4.097-3.722h-2.222z"
              ></path>
            </svg>
          </div>
          <div class="profile-info">
            <h4 class="profile-title">ORCID Profile</h4>
            <p class="profile-description">0000-0002-7393-6200</p>
            <div class="profile-stats">
              16+ Publications • Verified Research
            </div>
          </div>
          <div class="profile-arrow">
            <svg
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
              class="w-5 h-5"
            >
              <path d="M7 17l9.2-9.2M17 17V7H7"></path>
            </svg>
          </div>
        </a>

        <a
          href={`https://scholar.google.com/citations?user=t73kFuAAAAAJ&hl=${lang}`}
          target="_blank"
          rel="noopener noreferrer"
          class="academic-profile-card group focus-ring"
        >
          <div class="profile-icon scholar-icon">
            <svg viewBox="0 0 24 24" fill="currentColor" class="w-8 h-8">
              <path
                d="M12 24a7 7 0 110-14 7 7 0 010 14zm0-24L0 9.5l4.838 3.94A8 8 0 0112 9a8 8 0 017.162 4.44L24 9.5z"
              ></path>
            </svg>
          </div>
          <div class="profile-info">
            <h4 class="profile-title">Google Scholar</h4>
            <p class="profile-description">Academic Citation Metrics</p>
            <div class="profile-stats">250+ Citations • h-index Tracking</div>
          </div>
          <div class="profile-arrow">
            <svg
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
              class="w-5 h-5"
            >
              <path d="M7 17l9.2-9.2M17 17V7H7"></path>
            </svg>
          </div>
        </a>
      </div>
    </div>
  </div>
</section>
