---
export interface Props {
  lang?: 'en' | 'es' | 'ca';
}

const { lang = 'en' } = Astro.props;

const translations = {
  en: {
    title: 'Biomedical Engineer • Molecular Biologist',
    tagline: 'Engineering antimicrobial proteins to combat drug-resistant infections',
    cta: 'Explore Research'
  },
  es: {
    title: 'Ingeniero Biomédico • Biólogo Molecular',
    tagline: 'Ingeniería de proteínas antimicrobianas contra infecciones resistentes',
    cta: 'Explorar Investigación'
  },
  ca: {
    title: 'Enginyer Biomèdic • Biòleg Molecular',
    tagline: 'Enginyeria de proteïnes antimicrobianes contra infeccions resistents',
    cta: 'Explorar Recerca'
  }
};

const t = translations[lang];
---

<script is:inline>
  // Simple fade-in animation for hero content
  (function() {
    function initHeroAnimations() {
      const heroContent = document.querySelector('.hero-content');
      if (!heroContent) return;
      
      // Fade in hero content with stagger
      const elements = heroContent.querySelectorAll('.fade-in');
      elements.forEach((el, index) => {
        el.style.opacity = '0';
        el.style.transform = 'translateY(20px)';
        
        setTimeout(() => {
          el.style.transition = 'opacity 0.8s ease-out, transform 0.8s ease-out';
          el.style.opacity = '1';
          el.style.transform = 'translateY(0)';
        }, index * 150);
      });
    }
    
    // Initialize when DOM is ready
    if (document.readyState === 'loading') {
      document.addEventListener('DOMContentLoaded', initHeroAnimations);
    } else {
      initHeroAnimations();
    }
  })();
</script>

<section id="home" class="hero-final" role="banner" aria-label="Hero section">
  <!-- Simplified background -->
  <div class="hero-background" aria-hidden="true">
    <!-- Static DNA helix decoration -->
    <svg class="dna-decoration" viewBox="0 0 120 200" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
      <path d="M40 20 Q60 35 40 50 Q20 65 40 80 Q60 95 40 110 Q20 125 40 140 Q60 155 40 170" 
            stroke="rgba(220,38,38,0.1)" stroke-width="2" fill="none"/>
      <path d="M80 20 Q60 35 80 50 Q100 65 80 80 Q60 95 80 110 Q100 125 80 140 Q60 155 80 170" 
            stroke="rgba(220,38,38,0.1)" stroke-width="2" fill="none"/>
      <!-- Base pairs -->
      <line x1="40" y1="35" x2="80" y2="35" stroke="rgba(255,215,0,0.08)" stroke-width="1"/>
      <line x1="40" y1="65" x2="80" y2="65" stroke="rgba(255,215,0,0.08)" stroke-width="1"/>
      <line x1="40" y1="95" x2="80" y2="95" stroke="rgba(255,215,0,0.08)" stroke-width="1"/>
      <line x1="40" y1="125" x2="80" y2="125" stroke="rgba(255,215,0,0.08)" stroke-width="1"/>
      <line x1="40" y1="155" x2="80" y2="155" stroke="rgba(255,215,0,0.08)" stroke-width="1"/>
    </svg>
    
    <!-- Gradient overlay -->
    <div class="hero-gradient"></div>
  </div>
  
  <div class="hero-container">
    <div class="hero-content">
      <div class="name-section fade-in">
        <h1 class="hero-name">Ramon Roca Pinilla</h1>
      </div>
      
      <div class="title-section fade-in">
        <h2 class="hero-title">{t.title}</h2>
      </div>
      
      <div class="tagline-section fade-in">
        <p class="hero-tagline">{t.tagline}</p>
      </div>
      
      <div class="cta-section fade-in">
        <a href="#research" class="cta-button">
          {t.cta}
          <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true">
            <path d="M5 12h14M12 5l7 7-7 7"/>
          </svg>
        </a>
      </div>
    </div>
  </div>
</section>

<style>
  .hero-final {
    position: relative;
    min-height: 100vh;
    display: flex;
    align-items: center;
    justify-content: center;
    background: linear-gradient(135deg, #0A0A0A 0%, #0D0D0D 50%, #0A0A0A 100%);
    overflow: hidden;
  }
  
  /* Simplified background with subtle decoration */
  .hero-background {
    position: absolute;
    inset: 0;
    z-index: 0;
  }
  
  .dna-decoration {
    position: absolute;
    right: 10%;
    top: 20%;
    width: 120px;
    height: 200px;
    opacity: 0.6;
  }
  
  .hero-gradient {
    position: absolute;
    inset: 0;
    background: radial-gradient(
      60% 50% at 50% 40%, 
      rgba(220,38,38,0.08) 0%, 
      transparent 60%
    );
    z-index: 1;
  }
  
  .hero-container {
    position: relative;
    z-index: 10;
    width: 100%;
    max-width: 1200px;
    margin: 0 auto;
    padding: 0 2rem;
  }
  
  .hero-content {
    text-align: center;
    max-width: 900px;
    margin: 0 auto;
  }
  
  /* Fade in animation for all sections */
  .fade-in {
    opacity: 0;
    transform: translateY(20px);
  }
  
  /* Name Section */
  .name-section {
    margin-bottom: 1.5rem;
  }
  
  .hero-name {
    font-family: var(--font-display, 'Inter');
    font-size: clamp(3rem, 8vw, 5rem);
    font-weight: 300;
    line-height: 1.1;
    letter-spacing: -0.02em;
    color: #FFFFFF;
    margin: 0;
  }
  
  /* Title Section - Professional specialization */
  .title-section {
    margin-bottom: 2rem;
  }
  
  .hero-title {
    font-family: var(--font-primary, 'Inter');
    font-size: 1.25rem;
    font-weight: 600;
    line-height: 1.4;
    letter-spacing: 0.025em;
    text-transform: uppercase;
    margin: 0;
    background: linear-gradient(135deg, #FFFFFF 0%, #FF9A9A 50%, #DC2626 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }
  
  /* Tagline Section */
  .tagline-section {
    margin-bottom: 3rem;
  }
  
  .hero-tagline {
    font-family: var(--font-primary, 'Inter');
    font-size: clamp(1.125rem, 2.5vw, 1.375rem);
    font-weight: 400;
    line-height: 1.5;
    color: #E5E5E5;
    max-width: 600px;
    margin: 0 auto;
  }
  
  /* CTA Section */
  .cta-section {
    /* margin-bottom handled by parent spacing */
  }
  
  .cta-button {
    display: inline-flex;
    align-items: center;
    gap: 0.75rem;
    padding: 1rem 2.5rem;
    font-family: var(--font-primary, 'Inter');
    font-size: 1rem;
    font-weight: 600;
    text-decoration: none;
    color: #FFFFFF;
    background: #EF4444;
    border: 1px solid #EF4444;
    border-radius: 8px;
    transition: all 0.3s ease;
    box-shadow: 0 8px 30px rgba(220, 38, 38, 0.25);
    min-height: 48px; /* Touch target */
  }
  
  .cta-button:hover {
    background: #FF5555;
    transform: translateY(-2px);
    box-shadow: 0 12px 40px rgba(220, 38, 38, 0.3);
  }
  
  .cta-button:focus-visible {
    outline: 3px solid rgba(239, 68, 68, 0.5);
    outline-offset: 2px;
  }
  
  .cta-button svg {
    transition: transform 0.3s ease;
  }
  
  .cta-button:hover svg {
    transform: translateX(4px);
  }
  
  /* Language-specific optimizations */
  .hero-title:lang(es),
  .hero-title:lang(ca) {
    font-size: clamp(1.125rem, 2.25vw, 1.25rem);
    letter-spacing: 0.02em;
  }
  
  .hero-tagline:lang(es),
  .hero-tagline:lang(ca) {
    max-width: 650px;
    line-height: 1.6;
  }
  
  /* Mobile optimizations */
  @media (max-width: 768px) {
    .hero-container {
      padding: 0 1.5rem;
    }
    
    .hero-name {
      font-size: clamp(2.5rem, 10vw, 3.5rem);
    }
    
    .hero-title {
      font-size: clamp(1rem, 3vw, 1.125rem);
      line-height: 1.5;
    }
    
    .hero-tagline {
      font-size: clamp(1rem, 4vw, 1.125rem);
      max-width: 100%;
    }
    
    .cta-button {
      padding: 1rem 2rem;
      font-size: 0.95rem;
      width: 100%;
      max-width: 280px;
      justify-content: center;
    }
    
    .dna-decoration {
      right: 5%;
      top: 15%;
      width: 80px;
      height: 140px;
      opacity: 0.4;
    }
  }
  
  /* Reduced motion preferences */
  @media (prefers-reduced-motion: reduce) {
    .fade-in {
      opacity: 1;
      transform: none;
    }
    
    .cta-button,
    .cta-button svg {
      transition: none;
    }
    
    .cta-button:hover {
      transform: none;
    }
    
    .cta-button:hover svg {
      transform: none;
    }
  }
  
  /* Extra small screens - Most conservative sizing */
  @media (max-width: 480px) {
    .hero-container {
      padding: 0 1rem;
    }
    
    .hero-title:lang(es),
    .hero-title:lang(ca) {
      font-size: clamp(0.65rem, 2vw, 0.85rem);
      line-height: 1.5;
      letter-spacing: 0.005em;
      /* Maximum text wrapping support for small screens */
      word-spacing: 0.01em;
    }
    
    .hero-tagline:lang(es),
    .hero-tagline:lang(ca) {
      font-size: clamp(0.8rem, 3vw, 1rem);
    }
  }
</style>

