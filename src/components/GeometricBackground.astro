---
export interface Props { red?: string; accent?: string }
const { red = '#DC2626', accent = '#EF4444' } = Astro.props as Props;
---

<div class="geo-bg" aria-hidden="true">
  <svg class="geo-svg" viewBox="0 0 1200 600" preserveAspectRatio="xMidYMid slice" role="img" aria-label="Decorative geometric background">
    <defs>
      <linearGradient id="g-red-bold" x1="0" x2="1" y1="0" y2="1">
        <stop offset="0%" stop-color={red} stop-opacity="0.9" />
        <stop offset="100%" stop-color={accent} stop-opacity="0.6" />
      </linearGradient>
      <linearGradient id="g-black" x1="0" x2="1" y1="0" y2="1">
        <stop offset="0%" stop-color="#000000" stop-opacity="0.8" />
        <stop offset="100%" stop-color="#1a1a1a" stop-opacity="0.4" />
      </linearGradient>
      <filter id="blur-heavy">
        <feGaussianBlur stdDeviation="20" />
      </filter>
      <filter id="blur-light">
        <feGaussianBlur stdDeviation="3" />
      </filter>
    </defs>

    <!-- Bold black geometric shapes -->
    <g class="black-geometry">
      <polygon points="0,0 400,0 200,300" fill="url(#g-black)" opacity="0.6" />
      <polygon points="1200,0 1000,0 1100,400" fill="url(#g-black)" opacity="0.5" />
      <polygon points="0,600 300,600 150,400" fill="url(#g-black)" opacity="0.4" />
    </g>

    <!-- Bold red accent shapes -->
    <g filter="url(#blur-heavy)">
      <circle cx="900" cy="100" r="250" fill={red} opacity="0.3" class="pulse-slow" />
      <circle cx="200" cy="400" r="180" fill={accent} opacity="0.25" class="pulse-fast" />
    </g>

    <!-- Sharp geometric lines -->
    <g class="lines">
      <line x1="0" y1="200" x2="600" y2="0" stroke={red} stroke-width="2" opacity="0.6" />
      <line x1="600" y1="600" x2="1200" y2="300" stroke={accent} stroke-width="2" opacity="0.5" />
      <line x1="400" y1="0" x2="800" y2="600" stroke="#000000" stroke-width="3" opacity="0.3" />
    </g>

    <!-- Minimalist rectangles -->
    <g class="rectangles">
      <rect x="750" y="250" width="200" height="3" fill={red} opacity="0.8" transform="rotate(25 850 251.5)" />
      <rect x="250" y="150" width="150" height="3" fill="#000000" opacity="0.6" transform="rotate(-15 325 151.5)" />
      <rect x="500" y="400" width="180" height="3" fill={accent} opacity="0.7" transform="rotate(45 590 401.5)" />
    </g>

    <!-- Bold corner accents -->
    <g class="corners">
      <path d="M0,0 L150,0 L0,150 Z" fill={red} opacity="0.4" />
      <path d="M1200,0 L1200,150 L1050,0 Z" fill="#000000" opacity="0.5" />
      <path d="M1200,600 L1050,600 L1200,450 Z" fill={accent} opacity="0.3" />
      <path d="M0,600 L0,450 L150,600 Z" fill="#000000" opacity="0.4" />
    </g>

    <!-- Floating dots -->
    <g class="dots">
      <circle cx="300" cy="200" r="4" fill={red} opacity="0.9" class="float" />
      <circle cx="900" cy="400" r="4" fill="#ffffff" opacity="0.6" class="float-delayed" />
      <circle cx="600" cy="300" r="5" fill={accent} opacity="0.8" class="float" />
      <circle cx="150" cy="500" r="3" fill="#ffffff" opacity="0.5" class="float-delayed" />
      <circle cx="1050" cy="200" r="4" fill={red} opacity="0.7" class="float" />
    </g>
  </svg>
</div>

<style>
  .geo-bg { 
    position: absolute; 
    inset: 0; 
    z-index: -1; 
    pointer-events: none; 
    overflow: hidden;
    background: linear-gradient(135deg, #0a0a0a 0%, #1a0000 50%, #0a0a0a 100%);
  }
  .geo-svg { width: 100%; height: 100%; display: block; }
  
  .pulse-slow { 
    transform-origin: center; 
    animation: pulse-slow 8s ease-in-out infinite; 
  }
  .pulse-fast { 
    transform-origin: center; 
    animation: pulse-fast 4s ease-in-out infinite; 
  }
  .float { 
    animation: float 6s ease-in-out infinite; 
  }
  .float-delayed { 
    animation: float 6s ease-in-out 3s infinite; 
  }

  @keyframes pulse-slow { 
    0%, 100% { opacity: 0.3; transform: scale(1); } 
    50% { opacity: 0.5; transform: scale(1.1); } 
  }
  @keyframes pulse-fast { 
    0%, 100% { opacity: 0.25; transform: scale(1); } 
    50% { opacity: 0.4; transform: scale(1.05); } 
  }
  @keyframes float { 
    0%, 100% { transform: translateY(0px); } 
    50% { transform: translateY(-10px); } 
  }

  @media (prefers-reduced-motion: reduce) {
    .pulse-slow, .pulse-fast, .float, .float-delayed { animation: none !important; }
  }
</style>
