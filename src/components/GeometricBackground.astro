---
export interface Props { red?: string; accent?: string }
const { red = '#DC2626', accent = '#EF4444' } = Astro.props as Props;
---

<div class="geo-bg" aria-hidden="true">
  <svg class="geo-svg" viewBox="0 0 1200 600" preserveAspectRatio="xMidYMid slice" role="img" aria-label="Decorative geometric background">
    <defs>
      <linearGradient id="g-red-bold" x1="0" x2="1" y1="0" y2="1">
        <stop offset="0%" stop-color="#FF0000" stop-opacity="1" />
        <stop offset="100%" stop-color="#8B0000" stop-opacity="0.8" />
      </linearGradient>
      <linearGradient id="g-black" x1="0" x2="1" y1="0" y2="1">
        <stop offset="0%" stop-color="#000000" stop-opacity="0.95" />
        <stop offset="100%" stop-color="#1a1a1a" stop-opacity="0.7" />
      </linearGradient>
      <filter id="blur-heavy">
        <feGaussianBlur stdDeviation="40" />
      </filter>
      <filter id="blur-light">
        <feGaussianBlur stdDeviation="2" />
      </filter>
    </defs>

    <!-- Bold black geometric shapes -->
    <g class="black-geometry">
      <polygon points="0,0 400,0 200,300" fill="#000000" opacity="0.8" />
      <polygon points="1200,0 1000,0 1100,400" fill="#000000" opacity="0.7" />
      <polygon points="0,600 300,600 150,400" fill="#000000" opacity="0.6" />
    </g>

    <!-- Subtle red accents -->
    <g>
      <circle cx="900" cy="100" r="180" fill="#DC2626" opacity="0.15" filter="url(#blur-heavy)" class="pulse-slow" />
      <circle cx="200" cy="400" r="120" fill="#8B0000" opacity="0.1" filter="url(#blur-heavy)" class="pulse-fast" />
      <ellipse cx="600" cy="300" rx="200" ry="100" fill="#4B0000" opacity="0.08" filter="url(#blur-heavy)" transform="rotate(25 600 300)" />
    </g>

    <!-- Minimal geometric lines -->
    <g class="lines">
      <line x1="0" y1="200" x2="600" y2="0" stroke={red} stroke-width="1" opacity="0.2" />
      <line x1="600" y1="600" x2="1200" y2="300" stroke={accent} stroke-width="1" opacity="0.15" />
      <line x1="400" y1="0" x2="800" y2="600" stroke="#1a1a1a" stroke-width="2" opacity="0.4" />
    </g>

    <!-- Minimalist rectangles -->
    <g class="rectangles">
      <rect x="750" y="250" width="200" height="2" fill={red} opacity="0.2" transform="rotate(25 850 251)" />
      <rect x="250" y="150" width="150" height="2" fill="#1a1a1a" opacity="0.5" transform="rotate(-15 325 151)" />
      <rect x="500" y="400" width="180" height="2" fill={accent} opacity="0.15" transform="rotate(45 590 401)" />
    </g>

    <!-- Subtle corner accents -->
    <g class="corners">
      <path d="M0,0 L150,0 L0,150 Z" fill="#1a1a1a" opacity="0.6" />
      <path d="M1200,0 L1200,150 L1050,0 Z" fill="#2a0000" opacity="0.3" />
      <path d="M1200,600 L1050,600 L1200,450 Z" fill="#1a1a1a" opacity="0.5" />
      <path d="M0,600 L0,450 L150,600 Z" fill="#2a0000" opacity="0.25" />
    </g>

    <!-- Minimal floating dots -->
    <g class="dots">
      <circle cx="300" cy="200" r="2" fill={red} opacity="0.3" class="float" />
      <circle cx="900" cy="400" r="2" fill="#333333" opacity="0.4" class="float-delayed" />
      <circle cx="600" cy="300" r="3" fill={accent} opacity="0.2" class="float" />
      <circle cx="150" cy="500" r="2" fill="#2a2a2a" opacity="0.3" class="float-delayed" />
      <circle cx="1050" cy="200" r="2" fill={red} opacity="0.25" class="float" />
    </g>
  </svg>
</div>

<style>
  .geo-bg { 
    position: absolute; 
    inset: 0; 
    z-index: 2; 
    pointer-events: none; 
    overflow: hidden;
    background: linear-gradient(135deg, #000000 0%, #0a0a0a 25%, #050505 50%, #0a0a0a 75%, #000000 100%);
  }
  .geo-svg { width: 100%; height: 100%; display: block; }
  
  .pulse-slow { 
    transform-origin: center; 
    animation: pulse-slow 8s ease-in-out infinite; 
  }
  .pulse-fast { 
    transform-origin: center; 
    animation: pulse-fast 4s ease-in-out infinite; 
  }
  .float { 
    animation: float 6s ease-in-out infinite; 
  }
  .float-delayed { 
    animation: float 6s ease-in-out 3s infinite; 
  }

  @keyframes pulse-slow { 
    0%, 100% { opacity: 0.1; transform: scale(1); } 
    50% { opacity: 0.15; transform: scale(1.05); } 
  }
  @keyframes pulse-fast { 
    0%, 100% { opacity: 0.08; transform: scale(1); } 
    50% { opacity: 0.12; transform: scale(1.03); } 
  }
  @keyframes float { 
    0%, 100% { transform: translateY(0px); } 
    50% { transform: translateY(-10px); } 
  }

  @media (prefers-reduced-motion: reduce) {
    .pulse-slow, .pulse-fast, .float, .float-delayed { animation: none !important; }
  }
</style>
