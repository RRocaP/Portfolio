---
// VideoHero.astro - Main hero section with video background
import SmartVideo from './SmartVideo.astro';
import { t } from '../data/i18n';

export interface Props {
  lang: 'en' | 'es' | 'ca';
}

const { lang } = Astro.props;
---

<section id="home" class="hero relative min-h-screen flex items-center justify-center overflow-hidden">
  <!-- Hero Video Background -->
  <div class="absolute inset-0 z-0">
    <SmartVideo
      mp4Src="/Portfolio/media/hero-sequence-structure-binder-16x9.mp4"
      webmSrc="/Portfolio/media/hero-sequence-structure-binder-16x9.webm"
      poster="/Portfolio/media/hero-sequence-structure-binder-poster.jpg"
      aspect="16/9"
      className="w-full h-full"
      alt="Protein design sequence showing amino acid tokens flowing into helical structure with binding interactions"
      priority={true}
    />
    <!-- Dark overlay for text readability -->
    <div class="absolute inset-0 bg-black/40"></div>
  </div>

  <!-- Hero Content -->
  <div class="relative z-10 container mx-auto text-center text-white">
    <div class="max-w-4xl mx-auto">
      <h1 class="text-5xl md:text-7xl font-bold mb-6 leading-tight">
        {t(lang, 'hero.title')}
      </h1>
      <p class="text-xl md:text-2xl mb-4 font-medium text-gray-200">
        {t(lang, 'hero.subtitle')}
      </p>
      <p class="text-lg md:text-xl mb-8 text-gray-300 max-w-3xl mx-auto leading-relaxed">
        {t(lang, 'hero.tagline')}
      </p>
      
      <!-- CTA Buttons -->
      <div class="flex flex-col sm:flex-row gap-4 justify-center">
        <a 
          href="#research" 
          class="btn-primary px-8 py-3 bg-red-600 hover:bg-red-700 text-white rounded-lg font-semibold transition-all duration-300 transform hover:scale-105 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 focus:ring-offset-black"
        >
          {lang === 'en' ? 'Explore Research' : lang === 'es' ? 'Explorar Investigaci√≥n' : 'Explorar Recerca'}
        </a>
        <a 
          href="#publications" 
          class="btn-secondary px-8 py-3 border-2 border-white text-white hover:bg-white hover:text-black rounded-lg font-semibold transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-white focus:ring-offset-2 focus:ring-offset-black"
        >
          {lang === 'en' ? 'View Publications' : lang === 'es' ? 'Ver Publicaciones' : 'Veure Publicacions'}
        </a>
      </div>
    </div>
  </div>

  <!-- Scroll Indicator -->
  <div class="absolute bottom-8 left-1/2 transform -translate-x-1/2 z-10">
    <div class="animate-bounce">
      <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 14l-7 7m0 0l-7-7m7 7V3"></path>
      </svg>
    </div>
  </div>

  <!-- Hero accent background effects -->
  <div class="hero-accent"></div>
</section>

<style>
  .hero {
    background: linear-gradient(135deg, var(--background) 0%, var(--background-alt) 100%);
  }
  
  /* Enhanced focus states */
  .btn-primary:focus-visible,
  .btn-secondary:focus-visible {
    outline: 3px solid var(--accent-red);
    outline-offset: 2px;
  }
  
  /* Ensure proper contrast on overlay */
  @media (prefers-contrast: high) {
    .hero .bg-black\/40 {
      background-color: rgba(0, 0, 0, 0.7);
    }
  }
</style>
