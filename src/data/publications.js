export const publications = [
  // === 2025 ===
  {
    title: "Tailoring capsid-directed evolution technology for improved AAV-mediated CAR-T generation",
    authors: "Roca-Pinilla R, Cabanes-Creus M, Shanu A, Kreiss L, Duong T, Kaidonis G, Lisowski L",
    year: "2025",
    journal: "Molecular Therapy",
    volume: "33(6)",
    doi: "10.1016/j.ymthe.2024.12.012",
    url: "https://doi.org/10.1016/j.ymthe.2024.12.012",
    featured: true,
    impactFactor: 12.1,
    quartile: "Q1",
    citations: 3,
    type: "article",
    category: "gene_therapy",
    tags: ["AAV", "CAR-T", "directed evolution", "capsid engineering", "gene therapy"],
    abstract: "Tailoring capsid-directed evolution technology to generate improved AAV variants for efficient CAR-T cell generation",
    collaborationType: "international",
    isOpenAccess: true,
    isFirstAuthor: true
  },
  {
    title: "Preclinical Advances for the Translation of an AAV-Mediated Gene Therapy for CTNNB1 Syndrome",
    authors: "Lisowski L, [...], Roca-Pinilla R, [...] et al.",
    year: "2025",
    journal: "Molecular Therapy",
    volume: "33(4)",
    doi: "10.1016/j.ymthe.2025.01.020",
    url: "https://doi.org/10.1016/j.ymthe.2025.01.020",
    featured: true,
    impactFactor: 12.1,
    quartile: "Q1",
    citations: 0,
    type: "article",
    category: "gene_therapy",
    tags: ["AAV", "gene therapy", "CTNNB1", "preclinical", "rare disease"],
    abstract: "Preclinical development and evaluation of AAV-mediated gene therapy for CTNNB1 syndrome",
    collaborationType: "international",
    isOpenAccess: true,
    isFirstAuthor: false
  },
  {
    title: "AAV2 Bypasses Direct Endosomal Escape via pH-Independent Membrane Penetration",
    authors: "Cabanes-Creus M, Roca-Pinilla R, et al.",
    year: "2025",
    journal: "bioRxiv",
    doi: "10.1101/2025.01.15.632345",
    url: "https://doi.org/10.1101/2025.01.15.632345",
    featured: false,
    citations: 1,
    type: "preprint",
    category: "gene_therapy",
    tags: ["AAV2", "endosomal escape", "membrane penetration", "gene therapy"],
    abstract: "AAV2 bypasses direct endosomal escape through a pH-independent membrane penetration mechanism",
    collaborationType: "international",
    isOpenAccess: true,
    isFirstAuthor: false
  },

  // === 2024 ===
  {
    title: "Harnessing whole human liver ex situ normothermic perfusion for preclinical AAV vector evaluation",
    authors: "Scott S, Carlessi R, Nguyen QH, Forrest ARR, Roca-Pinilla R, Cabanes-Creus M, Navarro RG, Knight M, Jones M, Denisenko E, Alexander IE, Tirnitz-Parker JEE, Lisowski L",
    year: "2024",
    journal: "Nature Communications",
    volume: "15",
    pages: "2144",
    doi: "10.1038/s41467-024-46194-y",
    url: "https://doi.org/10.1038/s41467-024-46194-y",
    featured: true,
    impactFactor: 14.7,
    quartile: "Q1",
    citations: 25,
    type: "article",
    category: "gene_therapy",
    tags: ["AAV vectors", "gene therapy", "liver perfusion", "preclinical models", "human tissue"],
    abstract: "Development of clinically predictive model systems for AAV vector evaluation using whole human liver ex situ normothermic perfusion",
    collaborationType: "international",
    isOpenAccess: true,
    isFirstAuthor: false,
    metrics: {
      downloads: 89,
      altmetricScore: 25,
      mendeley: 12
    }
  },

  // === 2023 ===
  {
    title: "Antibiofilm surfaces based on the immobilization of a novel recombinant antimicrobial multidomain protein using self-assembly monolayers",
    authors: "Kyvik AR, Roca-Pinilla R, Mayolo-Deloisa K, Rodriguez Rodriguez XR, Martinez-Miguel M, Martos M, Kober M, Ventosa N, Veciana J, Guasch J, Garcia-Fruitos E, Aris A, Ratera I",
    year: "2023",
    journal: "Materials Advances",
    doi: "10.1039/D2MA00978A",
    url: "https://doi.org/10.1039/D2MA00978A",
    featured: false,
    impactFactor: 3.1,
    quartile: "Q2",
    citations: 4,
    type: "article",
    category: "antimicrobial_engineering",
    tags: ["antibiofilm", "antimicrobial", "protein engineering", "surface chemistry"],
    abstract: "Development of antibiofilm surfaces through immobilization of engineered antimicrobial proteins",
    collaborationType: "international",
    isOpenAccess: true,
    isFirstAuthor: false,
    metrics: {
      downloads: 156,
      altmetricScore: 12,
      mendeley: 23
    }
  },
  {
    title: "Characterization of the humanized FRG mouse model and development of an AAV-LK03 variant with improved liver lobular biodistribution",
    authors: "Cabanes-Creus M, Navarro RG, Liao SHY, Scott S, Carlessi R, Roca-Pinilla R, Knight M, Baltazar G, Zhu E, Jones M, Denisenko E, Forrest ARR, Alexander IE, Tirnitz-Parker JEE, Lisowski L",
    year: "2023",
    journal: "Molecular Therapy - Methods & Clinical Development",
    volume: "28",
    pages: "220-237",
    pmid: "36700121",
    doi: "10.1016/j.omtm.2022.12.014",
    url: "https://doi.org/10.1016/j.omtm.2022.12.014",
    featured: true,
    impactFactor: 6.8,
    quartile: "Q1",
    citations: 16,
    type: "article",
    category: "gene_therapy",
    tags: ["AAV", "gene therapy", "liver", "mouse model", "biodistribution"],
    abstract: "Comprehensive characterization of humanized FRG mouse model for AAV vector evaluation and development of improved liver-targeting capsid variants",
    collaborationType: "international",
    isOpenAccess: true,
    isFirstAuthor: false,
    metrics: {
      downloads: 234,
      altmetricScore: 18,
      mendeley: 45
    }
  },
  {
    title: "Antimicrobial Applications of Inclusion Bodies",
    authors: "Roca-Pinilla R, Aris A, Garcia-Fruitos E",
    year: "2023",
    journal: "Methods in Molecular Biology",
    pages: "257-269",
    pmid: "36656531",
    doi: "10.1007/978-1-0716-2930-7_19",
    url: "https://doi.org/10.1007/978-1-0716-2930-7_19",
    featured: false,
    impactFactor: 2.8,
    quartile: "Q3",
    citations: 6,
    type: "book_chapter",
    category: "antimicrobial_engineering",
    tags: ["inclusion bodies", "antimicrobial", "protein aggregates", "biotechnology"],
    abstract: "Comprehensive methods for utilizing inclusion bodies in antimicrobial applications",
    collaborationType: "national",
    isOpenAccess: false,
    isFirstAuthor: true,
    metrics: {
      downloads: 89,
      altmetricScore: 5,
      mendeley: 18
    }
  },

  // === 2022 ===
  {
    title: "The future of recombinant host defense peptides",
    authors: "Roca-Pinilla R, Lisowski L, Aris A, Garcia-Fruitos E",
    year: "2022",
    journal: "Microbial Cell Factories",
    volume: "21(1)",
    pages: "267",
    pmid: "36544150",
    doi: "10.1186/s12934-022-01991-2",
    url: "https://doi.org/10.1186/s12934-022-01991-2",
    featured: true,
    impactFactor: 6.4,
    quartile: "Q1",
    citations: 24,
    type: "review",
    category: "antimicrobial_engineering",
    tags: ["host defense peptides", "recombinant proteins", "antimicrobial resistance", "biotechnology"],
    abstract: "Comprehensive review on the future prospects and applications of recombinant host defense peptides in combating antimicrobial resistance",
    collaborationType: "international",
    isOpenAccess: true,
    isFirstAuthor: true,
    metrics: {
      downloads: 312,
      altmetricScore: 28,
      mendeley: 67
    }
  },
  {
    title: "Functional Inclusion Bodies",
    authors: "Balta-Foix R, Roca-Pinilla R, Lopez-Cano A, Gifre-Renom L, Aris A, Garcia-Fruitos E",
    year: "2022",
    journal: "Springer Methods in Molecular Biology",
    pages: "289-308",
    doi: "10.1007/978-3-031-06600-9_11",
    url: "https://doi.org/10.1007/978-3-031-06600-9_11",
    featured: false,
    impactFactor: 2.8,
    quartile: "Q3",
    citations: 2,
    type: "book_chapter",
    category: "protein_engineering",
    tags: ["functional inclusion bodies", "protein aggregation", "biotechnology"],
    abstract: "Methods for producing and characterizing functional inclusion bodies for pharma and biotechnological applications",
    collaborationType: "national",
    isOpenAccess: false,
    isFirstAuthor: false
  },

  // === 2021 ===
  {
    title: "Sequence edition of single domains modulates the final immune and antimicrobial potential of a new generation of multidomain recombinant antimicrobial proteins",
    authors: "Roca-Pinilla R, Lopez-Cano A, Saubi C, Garcia-Fruitos E, Aris A",
    year: "2021",
    journal: "Scientific Reports",
    volume: "11(1)",
    pages: "23798",
    doi: "10.1038/s41598-021-03220-z",
    url: "https://doi.org/10.1038/s41598-021-03220-z",
    featured: true,
    impactFactor: 4.6,
    quartile: "Q1",
    citations: 4,
    type: "article",
    category: "antimicrobial_engineering",
    tags: ["antimicrobial peptides", "multidomain proteins", "protein engineering", "immune response"],
    abstract: "Sequence editing of individual domains modulates the immune and antimicrobial activity of next-generation multidomain recombinant antimicrobial proteins",
    collaborationType: "national",
    isOpenAccess: true,
    isFirstAuthor: true
  },
  {
    title: "Selecting Subpopulations of High-Quality Protein Conformers among Conformational Mixtures of Recombinant Bovine MMP-9 Solubilized from Inclusion Bodies",
    authors: "Carratala JV, Gifre-Renom L, Roca-Pinilla R, Villaverde A, Aris A, Garcia-Fruitos E, Sanchez JM, Ferrer-Miralles N",
    year: "2021",
    journal: "International Journal of Molecular Sciences",
    volume: "22(6)",
    pages: "3020",
    pmid: "33809594",
    doi: "10.3390/ijms22063020",
    url: "https://doi.org/10.3390/ijms22063020",
    featured: false,
    impactFactor: 5.6,
    quartile: "Q1",
    citations: 9,
    type: "article",
    category: "protein_engineering",
    tags: ["MMP-9", "inclusion bodies", "protein conformers", "recombinant proteins"],
    abstract: "Selection of high-quality protein conformer subpopulations from conformational mixtures of recombinant bovine MMP-9 solubilized from inclusion bodies",
    collaborationType: "national",
    isOpenAccess: true,
    isFirstAuthor: false
  },

  // === 2020 ===
  {
    title: "A new generation of recombinant polypeptides combines multiple protein domains for effective antimicrobial activity",
    authors: "Roca-Pinilla R, Lopez-Cano A, Saubi C, Garcia-Fruitos E, Aris A",
    year: "2020",
    journal: "Microbial Cell Factories",
    volume: "19",
    pages: "122",
    pmid: "32503648",
    doi: "10.1186/s12934-020-01380-7",
    url: "https://doi.org/10.1186/s12934-020-01380-7",
    featured: true,
    impactFactor: 6.4,
    quartile: "Q1",
    citations: 40,
    type: "article",
    category: "antimicrobial_engineering",
    tags: ["multidomain proteins", "antimicrobial peptides", "protein engineering", "recombinant proteins"],
    abstract: "Development of novel multidomain antimicrobial polypeptides with enhanced efficacy against resistant pathogens",
    collaborationType: "national",
    isOpenAccess: true,
    isFirstAuthor: true,
    metrics: {
      downloads: 425,
      altmetricScore: 42,
      mendeley: 89
    }
  },
  {
    title: "Exploring the use of leucine zippers for the generation of a new class of inclusion bodies for pharma and biotechnological applications",
    authors: "Roca-Pinilla R, Fortuna S, Natalello A, Sanchez-Chardi A, Ami D, Aris A, Garcia-Fruitos E",
    year: "2020",
    journal: "Microbial Cell Factories",
    volume: "19",
    pages: "175",
    pmid: "32887587",
    doi: "10.1186/s12934-020-01425-x",
    url: "https://doi.org/10.1186/s12934-020-01425-x",
    featured: true,
    impactFactor: 6.4,
    quartile: "Q1",
    citations: 19,
    type: "article",
    category: "protein_engineering",
    tags: ["leucine zippers", "inclusion bodies", "protein aggregation", "biotechnology"],
    abstract: "Exploring leucine zipper-mediated aggregation for a new class of functional inclusion bodies with pharmaceutical and biotechnological applications",
    collaborationType: "international",
    isOpenAccess: true,
    isFirstAuthor: true
  },
  {
    title: "Recombinant Protein-Based Nanoparticles: Elucidating Their Inflammatory Effects In Vivo and Their Potential as a New Therapeutic Format",
    authors: "Gifre-Renom L, Ugarte-Berzal E, Martens E, Boon L, Cano-Garrido O, Martinez-Nunez E, Luque T, Roca-Pinilla R, Conchillo-Sole O, Ferrer-Miralles N, Villaverde A, Opdenakker G, Garcia-Fruitos E, Aris A",
    year: "2020",
    journal: "Pharmaceutics",
    volume: "12",
    pages: "450",
    pmid: "32414218",
    doi: "10.3390/pharmaceutics12050450",
    url: "https://doi.org/10.3390/pharmaceutics12050450",
    featured: false,
    impactFactor: 5.4,
    quartile: "Q1",
    citations: 11,
    type: "article",
    category: "biomaterials",
    tags: ["nanoparticles", "recombinant proteins", "inflammatory response", "therapeutic format"],
    abstract: "Elucidating inflammatory effects of recombinant protein-based nanoparticles in vivo and their potential as a new therapeutic format",
    collaborationType: "international",
    isOpenAccess: true,
    isFirstAuthor: false
  },
  {
    title: "CCL21-loaded 3D hydrogels for T cell expansion and differentiation",
    authors: "Perez del Rio E, Santos F, Rodriguez Rodriguez X, Martinez-Miguel M, Roca-Pinilla R, Aris A, Garcia-Fruitos E, Veciana J, Spatz JP, Ratera I, Guasch J",
    year: "2020",
    journal: "Biomaterials",
    volume: "259",
    pages: "120313",
    pmid: "32829146",
    doi: "10.1016/j.biomaterials.2020.120313",
    url: "https://doi.org/10.1016/j.biomaterials.2020.120313",
    featured: false,
    impactFactor: 14.0,
    quartile: "Q1",
    citations: 91,
    type: "article",
    category: "biomaterials",
    tags: ["hydrogels", "T cell expansion", "CCL21", "immunotherapy", "biomaterials"],
    abstract: "Development of CCL21-loaded 3D hydrogels for enhanced T cell expansion and differentiation for immunotherapy applications",
    collaborationType: "international",
    isOpenAccess: false,
    isFirstAuthor: false
  },

  // === 2018 ===
  {
    title: "A new approach to obtain pure and active proteins from Lactococcus lactis protein aggregates",
    authors: "Gifre-Renom L, Cano-Garrido O, Fabregas F, Roca-Pinilla R, Seras-Franzoso J, Ferrer-Miralles N, Villaverde A, Bach A, Devant M, Aris A, Garcia-Fruitos E",
    year: "2018",
    journal: "Scientific Reports",
    volume: "8",
    pages: "13917",
    pmid: "30224788",
    doi: "10.1038/s41598-018-32213-8",
    url: "https://doi.org/10.1038/s41598-018-32213-8",
    featured: false,
    impactFactor: 4.6,
    quartile: "Q1",
    citations: 41,
    type: "article",
    category: "protein_engineering",
    tags: ["Lactococcus lactis", "protein aggregates", "recombinant proteins", "purification"],
    abstract: "Novel approach to obtain pure and active proteins from Lactococcus lactis protein aggregates for biotechnological applications",
    collaborationType: "national",
    isOpenAccess: true,
    isFirstAuthor: false
  },

  // === 2015 ===
  {
    title: "Estrogen Receptor Alpha Dynamics and Function in Mammalian Cells",
    authors: "Roca-Pinilla R",
    year: "2015",
    journal: "Master thesis, University of California, Irvine",
    type: "thesis",
    url: "#",
    isFirstAuthor: true
  },
];

// Research categories for analysis and visualization
export const researchCategories = {
  antimicrobial_engineering: {
    name: "Antimicrobial Engineering",
    color: "#EF4444",
    icon: "shield-check",
    description: "Development of novel antimicrobial proteins and peptides"
  },
  gene_therapy: {
    name: "Gene Therapy",
    color: "#3B82F6",
    icon: "dna",
    description: "AAV vector development and gene delivery systems"
  },
  protein_engineering: {
    name: "Protein Engineering",
    color: "#10B981",
    icon: "atom",
    description: "Design and optimization of protein structures and functions"
  },
  computational_biology: {
    name: "Computational Biology",
    color: "#F59E0B",
    icon: "cpu-chip",
    description: "Computational approaches to biological problems"
  },
  biomaterials: {
    name: "Biomaterials",
    color: "#8B5CF6",
    icon: "beaker",
    description: "Development of functional biomaterial systems"
  }
};

// Publication analysis functions
export const publicationAnalytics = {
  // Get publications by year
  getByYear: (year) => publications.filter(pub => pub.year === year.toString()),

  // Get publications by category
  getByCategory: (category) => publications.filter(pub => pub.category === category),

  // Get featured publications
  getFeatured: () => publications.filter(pub => pub.featured),

  // Get recent publications (last 3 years)
  getRecent: () => {
    const currentYear = new Date().getFullYear();
    return publications.filter(pub => (currentYear - parseInt(pub.year)) <= 3);
  },

  // Calculate total citations
  getTotalCitations: () => publications.reduce((total, pub) => total + (pub.citations || 0), 0),

  // Calculate average impact factor
  getAvgImpactFactor: () => {
    const pubs = publications.filter(pub => pub.impactFactor);
    return pubs.length > 0 ? pubs.reduce((sum, pub) => sum + pub.impactFactor, 0) / pubs.length : 0;
  },

  // Get publication timeline data
  getTimelineData: () => {
    const years = [...new Set(publications.map(pub => pub.year))].sort();
    return years.map(year => ({
      year,
      count: publications.filter(pub => pub.year === year).length,
      citations: publications.filter(pub => pub.year === year)
        .reduce((sum, pub) => sum + (pub.citations || 0), 0)
    }));
  },

  // Get journal distribution
  getJournalDistribution: () => {
    const journals = {};
    publications.forEach(pub => {
      if (!journals[pub.journal]) {
        journals[pub.journal] = {
          count: 0,
          totalCitations: 0,
          avgImpactFactor: 0,
          quartiles: []
        };
      }
      journals[pub.journal].count++;
      journals[pub.journal].totalCitations += (pub.citations || 0);
      if (pub.impactFactor) journals[pub.journal].avgImpactFactor += pub.impactFactor;
      if (pub.quartile) journals[pub.journal].quartiles.push(pub.quartile);
    });

    // Calculate averages
    Object.keys(journals).forEach(journal => {
      const data = journals[journal];
      data.avgImpactFactor = data.avgImpactFactor / data.count;
      data.avgCitations = data.totalCitations / data.count;
    });

    return journals;
  },

  // Get collaboration analysis
  getCollaborationAnalysis: () => {
    const collaborations = {
      national: publications.filter(pub => pub.collaborationType === 'national').length,
      international: publications.filter(pub => pub.collaborationType === 'international').length,
      institutional: publications.filter(pub => pub.collaborationType === 'institutional').length
    };

    return collaborations;
  },

  // Get research impact metrics
  getImpactMetrics: () => {
    const totalCitations = publicationAnalytics.getTotalCitations();
    const avgCitationsPerPub = totalCitations / publications.length;
    const hIndex = calculateHIndex();
    const openAccessCount = publications.filter(pub => pub.isOpenAccess).length;
    const openAccessPercentage = (openAccessCount / publications.length) * 100;

    return {
      totalCitations,
      avgCitationsPerPub: Math.round(avgCitationsPerPub * 10) / 10,
      hIndex,
      openAccessPercentage: Math.round(openAccessPercentage),
      totalDownloads: publications.reduce((sum, pub) => sum + (pub.metrics?.downloads || 0), 0),
      avgAltmetricScore: publications.reduce((sum, pub) => sum + (pub.metrics?.altmetricScore || 0), 0) / publications.length
    };
  },

  // Get first-author publications
  getFirstAuthor: () => publications.filter(pub => pub.isFirstAuthor),
};

// Helper function to calculate h-index
function calculateHIndex() {
  const citationCounts = publications
    .map(pub => pub.citations || 0)
    .sort((a, b) => b - a);

  let hIndex = 0;
  for (let i = 0; i < citationCounts.length; i++) {
    if (citationCounts[i] >= i + 1) {
      hIndex = i + 1;
    } else {
      break;
    }
  }
  return hIndex;
}
